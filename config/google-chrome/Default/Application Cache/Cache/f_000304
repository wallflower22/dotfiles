$c.prototype.extend=X(1,function(a){for(var b=0;b<arguments.length;b++)xc(arguments[b],function(a,b){this.add(b,a)},this)});KM("appsshare");function x5a(){return'<div class="shared-parent-change"><span class="shared-parent-change-desc">Some settings cannot be changed because they are inherited from a shared folder.</span><span>[<span class="shared-parent-change-link" role="link">Change</span>]</span></div>'};function u$(a){this.kb=a;this.qd=void 0}u$.prototype.za=function(){return this.kb};u$.prototype.setData=function(a){this.qd=a};u$.prototype.yb=function(){var a={};a["shsc-type"]=this.kb;a["shsc-data"]=this.qd;return wd(a)};function y5a(a){u$.call(this,"shsc-set-visible");this.setData(a)}x(y5a,u$);y5a.prototype.aa=function(){return this.qd};function v$(a){u$.call(this,"shsc-set-ids");this.setData(a)}x(v$,u$);v$.prototype.xda=function(){return this.qd};function w$(a,b,c){y.call(this);this.tNa=a;this.JJa=b||null;this.S2a={};this.Uk={};this.J=new I(this);z(this,this.J);this.J.listen(c||n.window,"message",this.Dm)}x(w$,y);w$.prototype.sendMessage=function(a){this.JJa&&this.JJa.postMessage(a.yb(),this.tNa)};w$.prototype.Dm=function(a){a=a.Sb;if(a.origin==this.tNa){var b=a.data?ud(a.data):{};a=b["shsc-type"];var b=b["shsc-data"],c=this.S2a[a];if(c){var d=null;try{d=c(b)}catch(f){}d&&B(this.Uk[a],function(a){a.call(null,d)})}}};
function z5a(a,b){a.S2a[b]=A5a(b);a.Uk[b]||(a.Uk[b]=[])}function A5a(a){return function(){return new u$(a)}}function B5a(a,b,c){var d=a.Uk[b];d||(d=[],a.Uk[b]=d);d.push(c)};function x$(a,b,c){T.call(this,c);this.zb=a;this.Kma=b;this.oja=!1;this.$b=[];this.sRa=!1;this.xH=new w$(this.Kma,void 0,this.D().getWindow());z5a(this.xH,"shsc-ready");z5a(this.xH,"shsc-close");B5a(this.xH,"shsc-ready",u(this.jtb,this));B5a(this.xH,"shsc-close",u(this.Ymb,this))}x(x$,T);x$.prototype.F=function(){this.Q=kg("iframe",{style:"display: none; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 1006",src:this.zb,onload:u(this.ypb,this),nUb:0,height:"100%",width:"100%"})};
x$.prototype.ypb=function(){var a=this.A().contentWindow;this.xH.JJa=a};x$.prototype.jtb=function(){this.oja=!0;var a=this.$b;this.$b=a;this.oja&&this.xH.sendMessage(new v$(a));C5a(this,this.sRa)};x$.prototype.Ymb=function(){R(this.A(),!1);this.dispatchEvent("Eg");this.dispatchEvent("Fg")};function C5a(a,b){a.sRa=b;a.oja&&(R(a.A(),b),a.xH.sendMessage(new y5a(b)))};function D5a(a){T.call(this,a)}x(D5a,T);function y$(a){T.call(this,a)}x(y$,D5a);y$.prototype.gi=function(a){var b=this.A();b&&(b.style.width=a+"px")};y$.prototype.$e=function(){var a=this.A();return a?Tn(a).height:0};function z$(a){T.call(this,a);this.zD=new x$("/modifyparentsremove",this.D().getWindow().location.origin);this.R(this.zD)}x(z$,y$);e=z$.prototype;e.Xb=function(){return!1};e.F=function(){this.Q=S(x5a);this.ir=this.D().X("shared-parent-change-link",this.A());this.zD.F()};e.L=function(){z$.B.L.call(this);Gg(this.ir,!0);this.N().xb(this.ir,on,this.qqb);this.N().listen(this.ir,"keypress",this.tqb);this.D().fa().body.appendChild(this.zD.A());this.N().listen(this.zD,"Eg",this.ap)};
e.ap=function(){this.qa&&this.ir.focus()};e.qqb=function(){C5a(this.zD,!0)};e.tqb=function(a){13==a.keyCode&&a.stopPropagation()};function A$(a,b){y.call(this);this.sIa=a;this.zD=b;this.J=new I(this);z(this,this.J);this.J.listen(this.zD,"Fg",this.Gxa);this.J.listen(this.sIa,["uiOpened","aclInfoUpdated"],this.QHb)}x(A$,y);A$.prototype.QHb=function(){var a=this.sIa.Dg;if(a){var b=this.zD;b.$b=a;b.oja&&b.xH.sendMessage(new v$(a))}};A$.prototype.Gxa=function(){this.sIa.Tu("refresh")};function B$(a,b,c,d,f,g){this.gYa=a;this.Nj=b;this.nW=c;this.eg=d;this.rC=f||null;this.R8a=g||null}B$.prototype.getMessage=function(){return this.Nj};B$.prototype.JF=function(){return this.rC};B$.prototype.yb=function(){var a={};a.iconId=this.gYa;a.learnMoreUrl=this.JF();a.message=this.getMessage();a.showInDialog=this.nW;a.timeout=this.eg;a.undoFn=this.R8a;return a};function E5a(a,b){this.IEb=a;this.ha=b||Yf();this.HA=null;this.nW=!1;this.CO=0}x(E5a,y);
function F5a(a,b,c){var d,f=b.gYa;switch(f){case "copy":d="share-butter-copy-icon";break;case "specificPeople":d="share-butter-specific-people-icon";break;case "personLink":d="share-butter-person-link-icon"}a.HA&&a.gFa();var g=a.ha,h=g.F("SPAN");d&&"none"!=f&&(d=g.F("SPAN",["apps-share-sprite","share-butter-icon",d]),g.append(h,d));d=g.F("SPAN","share-butter-message",b.getMessage());g.append(h,d);if(d=b.JF())d=g.F("A",{target:"_blank",href:d,"class":"share-butter-link",tabIndex:"0"},"Learn more"),
g.append(h,"\u00a0","\u00a0"),g.append(h,d);var k=b.R8a;k&&(d=g.F("SPAN",{"class":"share-butter-link",tabIndex:"0"},"Undo"),d.onclick=function(){k();this.onclick=da},g.append(h,"\u00a0","\u00a0"),g.append(h,d));a.HA=g.F("DIV",["share-butterbar-container","share-butterbar-top","share-butterbar-zindex"]);h=new PX(h,g);h.render(a.HA);O(h.A(),"live","off");h.O(!0);a.nW=b.nW;g.appendChild(a.nW&&c?c:document.body,a.HA);G5a(a,a.HA,c);a.CO=window.setTimeout(u(a.gFa,a),b.eg)}
E5a.prototype.gFa=function(){this.HA&&(rg(this.HA),this.HA=null,delete this.HA,window.clearTimeout(this.CO))};function G5a(a,b,c){var d=parseInt(xn(b,"width"),10);if(a.nW&&c){var f=parseInt(xn(c,"left"),10),g=parseInt(xn(c,"top"),10);c=parseInt(xn(c,"width"),10);var h=parseInt(xn(b,"height"),10);An(b,f+(c-d)/2,a.IEb?0:g+h/2)}else b.style.left="50%",b.style.marginLeft=-(d/2)+"px"};function C$(a){et.call(this,void 0,!1,a);nt(this,!1);this.n_=!0;this.vc(null);wt(this,"")}x(C$,et);C$.prototype.O=function(a){var b=this.A(),c=this.D();kn(b,"share-client-offscreen",!a);a!=this.Uha&&jt(this,a);a?(this.Tb(),C$.B.O.call(this,!0)):(b.style.right="",b.style.left="",b.style.top="");for(var c=Ng(c,"iframe",null,this.na()),d=0;d<c.length;d++)c[d].tabIndex=a?"0":"-1";b.tabIndex=a?"0":"-1";this.ke.tabIndex=a?"0":"-1";b.setAttribute("aria-hidden",!a);a||this.dispatchEvent("Gg")};
C$.prototype.L=function(){C$.B.L.call(this);var a=uM(this);a&&O(a,"hidden",!0)};function D$(a){J.call(this);this.ha=a||Yf()}x(D$,J);e=D$.prototype;e.vK=null;e.J=null;e.Cb=!1;e.oa=function(){return this.J||(this.J=new I(this))};e.D=function(){return this.ha};e.init=function(){this.Dc()||(this.Kfa(),this.Cb=!0)};e.Dc=function(){return this.Cb};e.xob=function(){this.dispatchEvent("errorHidden")};e.yob=function(){this.dispatchEvent("errorShown")};
e.mW=function(a,b){var c=this.vK;a&&(c||(this.vK||(c=new et(void 0,!0,this.D()),c.render(),c.vc(rt()),c.setTitle(""),this.oa().listen(c,"hide",this.xob).listen(c,"show",this.yob),wt(c,pt.key),P(c.A(),"share-client-error-dialog"),this.vK=c),c=this.vK),gt(c,$d(b||"")));c&&c.O(a)};e.H=function(){A(this.vK);A(this.J);D$.B.H.call(this)};e.Kfa=da;e.r6a=da;e.Qca=da;function E$(a){D$.call(this,a);this.mb=new C$(a);this.oa().listen(this.mb,"dialogselect",this.Qh).listen(this.mb,"Gg",this.rL);this.pZa=!1;this.Vpa=new E5a(!1,a);z(this,this.Vpa)}x(E$,D$);e=E$.prototype;e.eBa=null;e.Qh=function(){this.O(!1);this.dispatchEvent("uiContainerClose");return!1};e.rL=function(){this.dispatchEvent("uiContainerClose")};e.Lnb=function(a){this.HIa(a.target)&&(this.mb.A().blur(),this.mb.A().focus())};e.HIa=function(a){return Bg(this.mb.A(),a)};
e.Kfa=function(){var a=this.mb;a.qa||a.render();P(a.A(),"share-client-dialog");this.oa().listen(a.A(),"click",this.Lnb);R(a.A(),!0);this.O(!1)};e.aa=function(){return this.pZa};e.O=function(a){var b=this.mb;b.qa||this.init();b.O(a);this.pZa=a;this.Vpa.gFa()};
e.r6a=function(a){var b=this.eBa;a&&!b&&(b=new et(void 0,!0,this.D()),gt(b,V('<div class="share-client-loading-contents"><div class="share-client-spinner"> </div></div>').MD()),b.vc(null),b.setTitle("Loading..."),this.oa().listen(b,"hide",this.Eqb),this.eBa=b,b.render(),P(b.A(),"share-client-loading-dialog"));b&&b.O(a)};e.Qca=function(){this.mb.focus()};e.Eqb=function(){this.dispatchEvent("uiContainerCancelLoad")};e.Fb=function(a){gt(this.mb,a)};
e.setTitle=function(a,b){var c=Ng(this.D(),"IFRAME",void 0,this.mb.na());0<c.length&&(c[0].title=a);kn(wM(this.mb),"share-client-dialog-hidden-title",b);this.mb.setTitle(b?"":a)};e.resize=function(a,b){var c=this.mb.na();c.style.width=a+"px";c.style.height=b+"px";this.KH();G&&(c=hg(document),rc(8)&&c||(c=c?0:18,this.mb.A().style.width=a+c+"px"))};e.KH=function(){var a=gg().height;if(a){var b=this.mb.A(),c=Tn(b).height;if(0<Ln(b)+c-a){var d="fixed"==zn(b)?0:Qg(this.D()).y;Q(b,"top",a-c+d+"px")}}};
e.H=function(){A(this.mb);A(this.eBa);E$.B.H.call(this)};function F$(a){E$.call(this,a);this.Lk={}}x(F$,E$);var G$={ILb:"bottom",kPb:"top"};e=F$.prototype;e.Ud=fe;e.J6a=!0;e.gO=null;e.Sla=null;e.RY=null;e.L7a="";e.Td="";
e.Kfa=function(){F$.B.Kfa.call(this);var a=this.D(),b=this.mb.na(),c=a.F("div"),d=a.F("div");Xf(d,this.Ud);d.className="share-client-panel-dialog-share";var f={},g;for(g in G$)g=G$[g],f[g]=a.F("div");a.appendChild(b,f.top);a.appendChild(b,c);a.appendChild(b,d);a.appendChild(b,f.bottom);this.gO=d;c.className="share-client-panel-dialog-overlay";this.Sla=c;this.J6a=a=this.J6a;if(b=this.Sla){if(!a){var c=Tn(this.gO),d=c.height,h=this.Sla;h.style.width=c.width+"px";h.style.height=d+"px"}R(b,!a);Vn(this.gO,
a?1:.5)}this.RY=f;for(g in G$)g=G$[g],f[g].className="share-client-panel-dialog-component-"+g,(a=this.Lk[g])&&a&&g&&a.render(this.RY[g])};e.O=function(a){F$.B.O.call(this,a);a&&this.mb.focus()};e.setTitle=function(a,b){this.Td=a;this.L7a&&(a=a+" - "+this.L7a);F$.B.setTitle.call(this,a,b)};e.Fb=function(a){this.Ud=a;this.gO&&Xf(this.gO,a)};e.HIa=function(a){if(!F$.B.HIa.call(this,a))return!1;for(var b in G$)if(b=G$[b],Bg(this.RY[b],a))return!1;return!0};
e.BGa=function(a,b){var c=this.Lk[b];this.Lk[b]=a;this.oa().listen(a,"resize",this.Ai);this.Dc()&&a&&b&&a.render(this.RY[b]);return c?(c.Va(),c.A()&&rg(c.A()),c):null};e.Ai=function(){var a=Tn(this.gO);this.resize(a.width,a.height)};e.resize=function(a,b){var c=this.gO;c.style.width=a+"px";c.style.height=b+"px";c=this.Sla;c.style.width=a+"px";c.style.height=b+"px";var c=0,d;for(d in G$){d=G$[d];var f=this.Lk[d];!f||"top"!=d&&"bottom"!=d||(f.gi(a),c+=f.$e())}F$.B.resize.call(this,a,b+c)};
e.H=function(){for(var a in G$)a=G$[a],A(this.Lk[a]);this.RY=this.Lk=null;F$.B.H.call(this)};function H5a(){this.dhb=this.GE("share-email-attachment","Email as attachment...");this.ehb=this.GE("share-email-collaborators","Email collaborators...");this.Ft=this.GE("share-share","Share...")}var H$=null;H5a.prototype.GE=function(a,b){var c={};c.label=b;c.visible=!0;c.hint=b;return new jr(a,c)};function I$(a){y.call(this);this.Rna=a.userRole||0;this.AT=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.BT=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.bhb=!!a.editorsCanInvite;this.YAb=a.numSharedUsers||0;this.pI=!!a.sharingDisabled;this.TKb=a.userDomain||rj;var b=a.itemDomains;this.yyb=$a(ga(b)?b:[b||null],function(a){return a||rj});b=a.sharingPolicies;b=ga(b)?b:[b||null];this.qIb=$a(b,function(a){return a||Nea});this.Mta=!!a.exportable;this.WO=a.visibilitySetting||null;this.Lz=a.shareableUrl||
null;this.vFa=!!a.requestShareEnabled}x(I$,y);e=I$.prototype;e.Dy=function(){return this.Rna};e.Ada=function(){return this.bhb};e.yva=function(){return this.YAb};e.fwa=function(){return this.TKb};e.ova=function(){return this.yyb};e.Am=function(){return this.WO};e.eW=function(a){this.WO=a};
e.yb=function(){var a={};a.userRole=this.Dy();a.editorsCanInvite=this.Ada();a.numSharedUsers=this.yva();a.sharingDisabled=this.pI;a.userDomain=this.fwa().yb();a.itemDomains=$a(this.ova(),function(a){return a.yb()});a.sharingPolicies=$a(this.qIb,function(a){return a.yb()});a.maxAnyoneRole=this.AT;a.maxDomainRole=this.BT;a.exportable=this.Mta;this.Am()&&(a.visibilitySetting=this.Am().yb());a.shareableUrl=this.Lz;a.requestShareEnabled=this.vFa;return a};
function I5a(a){a=Vb(a);var b=a.userDomain;b&&(a.userDomain=nj(b));b=a.itemDomains;b=ga(b)?b:[b||null];a.itemDomains=$a(b,function(a){return a?nj(a):a});b=a.sharingPolicies;b=ga(b)?b:[b||null];a.sharingPolicies=$a(b,function(a){return a?new Hj(!!a.canPublishOut):a});(b=a.visibilitySetting)&&(a.visibilitySetting=Lj(b));return new I$(a)};function J$(a,b){y.call(this);this.rf=a;this.Kma=b;this.aja=[];this.l0a=u(this.Dm,this);window.addEventListener("message",this.l0a,!1);this.Uk=new E}x(J$,y);J$.prototype.Dm=function(a){if(a.origin==this.Kma){try{var b=ud(a.data)}catch(c){return}var d=b.args;if(b=this.Uk.get(b.type))this.rf=a.source,this.aja&&(B(this.aja,function(a){this.sendMessage(a.Uzb,a.JDb)},this),this.aja=[]),b.call(null,d)}};J$.prototype.vk=function(a,b,c){this.Uk.set(a,u(b,c))};
J$.prototype.sendMessage=function(a,b){if(this.rf){var c={};c.type=a;b&&(c.args=b);this.rf.postMessage(wd(c),this.Kma)}else this.aja.push({Uzb:a,JDb:b})};J$.prototype.H=function(){window.removeEventListener("message",this.l0a,!1)};function K$(a,b,c,d,f,g,h,k,m,q,t,w,C,F,ka){J.call(this);this.jv=a;this.Si=t||new E$(d);this.BCa=w||window;(a=f)?a.yc()&&a.Xf(new Yw(d),0,!0):(a=Xw.U(),a=new Zw(d,a));d=a.A();d||(a.F(),d=a.A());P(d,"goog-menu-noaccel");this.Rab&&a.O(!1);this.hO=a;d=Nq.U();(this.iBa=new Uw(this.Cab,void 0,void 0,d)).setEnabled(!1);(this.Tla=new Uw(this.Dab,void 0,void 0,d)).setEnabled(!1);this.RN=b;this.Zca=c;this.mIb=q||b;this.Zi=new I$({});this.ha=a.D();this.qe=k||null;this.FEb=p(m)?m:!0;this.I6a=new uV;t:switch(h||
"classic"){case "classic":b=1;break t;case "stjw":case "jfk":b=Math.max(1,2);break t;default:throw Error("Unknown share UI");}this.zr=b;this.Zg=F||null;this.A8=!!C;this.QRa=C||null;this.nIb=ka||null;this.INa=null;this.INa=this.ha.A("docs-aria-speakable");this.A8||J5a(this,this.BCa);C=K5a(this);C.listen(a,"show",this.Tqb);C.listen(a,"action",this.ZWa);C.listen(this.Si,"uiContainerCancelLoad",this.yqb);C.listen(this.Si,"uiContainerClose",this.Cvb);C.listen(this.Si,"errorHidden",this.Dvb);C.listen(this.Si,
"errorShown",this.Vxa)}x(K$,J);e=K$.prototype;e.hab=!1;e.Rab=!0;e.Yab=!0;e.qna=null;e.tY=null;e.oi=null;e.lA=!1;e.iO=!1;e.qca=null;e.cW=null;e.T4a=null;e.J=null;e.Dg=null;e.Tfa=!1;e.Jfa=null;e.hLa=!1;e.XO=!1;e.ex=!1;e.L_a=!1;e.sQ=null;e.mia=0;e.aSa=!1;e.We=null;e.Pga=0;e.qIa=null;e.fO=null;e.vIa=!1;e.RFb=!1;e.j2=!1;e.WYa=!1;e.Cab="Loading...";e.Dab="Sharing is unavailable at this time. Please try again later.";e.Eab="Sorry, sharing is unavailable at this time. Please try again later.";e.Cu=null;
function J5a(a,b){a.A8||(b.SC_setTitle=u(a.C6,a),b.SC_resize=u(a.Si.resize,a.Si),b.SC_setVisible=u(a.z6a,a),b.SC_prepareForVisible=u(a.AEa,a),b.SC_setAclInfo=u(a.c6a,a),b.SC_setClientModel=u(a.c6a,a),b.SC_dispatchEvent=u(a.WE,a),b.SC_handleError=u(a.Qf,a),b.SC_handleCommandComplete=u(a.cWa,a),b.SC_setExecuteCommandFn=u(a.BHb,a),b.SC_setSetShareSystemVisibleFn=u(a.PHb,a),b.SC_setGetInterfaceVersionNumberFn=u(a.DHb,a),b.SC_getVersionNumber=u(a.alb,a),b.SC_rewriteUrl=u(a.DGb,a),b.SC_showNotification=
u(a.CIb,a),b.SC_getAriaLiveRegion=u(a.bkb,a))}
function L5a(a){if(a.A8&&!a.Cu){var b=Yc(a.oi.clone().Pi("").Ve(""),"").toString();a.Cu=new J$(null,b);a.Cu.vk("handleCommandComplete",function(a){this.cWa(a.commandType,a.commandStatus)},a);a.Cu.vk("resize",function(a){this.Si.resize(a.width,a.height);this.Cu.sendMessage("resizeComplete")},a);a.Cu.vk("prepareForVisible",function(){this.AEa();this.Cu.sendMessage("makeBodyVisible");this.Cu.sendMessage("prepareComplete")},a);a.Cu.vk("setVisible",function(a){this.z6a(a.visible)},a);a.Cu.vk("setTitle",
function(a){this.C6(a.title,a.hidden)},a);a.qca=u(function(a){this.Cu.sendMessage("executeCommand",{commandType:a})},a)}}function M5a(a){var b={};b.impressionType=a;return b}e.$H=function(a){if(this.oi)throw Error("Base uri has already been set and cannot be set again.");r(a)&&(a=new Tc(a));this.oi=a;this.A8&&L5a(this)};e.alb=function(){return 2};
e.c6a=function(a){var b=this.Zi;this.Zi=I5a(a);this.lA&&b.Lz!=this.Zi.Lz&&(this.vIa=!0);this.lA=!0;this.XO=!1;L$(this);a=this.Zi;this.mia=rV(this.ha).length;cJa(this.hO,a.Dy(),a.pI,N5a(this),a.Mta&&this.aSa,this.Dg.length,this.ha,a.vFa,!!a.Lz);this.WE("menuUpdated");this.lKa();this.fO&&this.fO.eW(this.Zi.Am());this.WE("aclInfoUpdated")};
e.Tqb=function(){if(this.Dg&&this.Dg.length)this.lA?O5a(this):(this.hO.aa()||this.hO.O(!0,!0),this.rna(!0));else{L$(this);for(var a=rV(this.ha),b=a.length-1;0<=b;b--)M$(this,a[b])}};e.Qf=function(a,b){switch(a){case "init":L$(this);if(b){var c=Nq.U(),c=new Uw(mg(document,b),void 0,void 0,c);c.setEnabled(!1);M$(this,c)}else M$(this,this.Tla);this.lA=this.j2=!0}};
e.cWa=function(a,b){var c="success"==b;switch(a){case "init":P5a(this);break;case "init_share":case "data":t:{c&&(this.Pga=v()),this.ex=!1;var d=this.sQ,f=this.iZ;if(this.Tfa)if(this.Tfa=!1,this.Dg=this.g5a,delete this.g5a,this.sQ=null,delete this.iZ,delete this.Taa,c){if(d){f.itemIds=this.Dg;Q5a(this,d,f);break t}}else"maybe_show_acl_fixer"==d&&R5a(this);N$(this,!1);d&&(c?(c=u(this.Ita,this,d,this.iZ,this.Taa),K(c,10,this)):"maybe_show_acl_fixer"==d&&R5a(this),this.sQ=null,delete this.iZ,delete this.Taa)}}};
e.DHb=function(){};e.BHb=function(a){this.iO=!0;this.qca=a};e.PHb=function(a){this.cW=a};e.DGb=function(a){return this.T4a?this.T4a(a):a};e.CIb=function(a){var b=this.Si;F5a(b.Vpa,new B$(a.iconId,a.message,a.showInDialog,a.timeout,a.learnMoreUrl,a.undoFn),b.mb.A())};e.C6=function(a,b){this.Si.setTitle(a,b)};e.Dy=function(){return this.Zi.Dy()};e.Ada=function(){return this.Zi.Ada()};e.fwa=function(){return this.Zi.fwa()};e.ova=function(){return this.Zi.ova()};e.yva=function(){return this.Zi.yva()};
function N5a(a){var b=a.Zi.Dy();return a.Zi.pI?!1:40==b||30==b&&a.Zi.Ada()}e.Am=function(){return this.Zi.Am()};e.eW=function(a){this.Zi.eW(a);this.fO&&this.fO.eW(this.Zi.Am())};e.bkb=function(){return this.INa};
e.rna=function(a,b,c){this.Dg&&!gb(this.Dg)&&(this.Si.aa()?this.qna=u(this.rna,this,a,b):(a&&(L$(this),M$(this,this.iBa),K(this.Aeb,1E4,this)),this.XO||(this.iO?(this.XO=!0,S5a(this,c,!0)):(this.XO=!0,this.hab?(this.ex=!0,T5a(this,!0)):(this.hLa=!0,b=this.Jfa,b||(b=kg("iframe"),b.src='javascript:""',c=b.style,c.visibility="hidden",c.width=c.height="10px",jc?c.marginTop=c.marginLeft="-99px":(c.position="absolute",c.top=c.left="-10px"),document.body.appendChild(b),this.Jfa=b),b.src=U5a(this,"init"),
K(this.yeb,25E3,this),a&&O5a(this))))))};function O5a(a){if(a.Yab&&!a.j2)if(a.ex||a.iO){var b;if(b=a.iO)b=2E4<v()-a.Pga;b&&(a.ex=!0,S5a(a,void 0,!0))}else a.ex=!0,T5a(a,!0)}function T5a(a,b){var c={};c.preload=!!b;c=a.oi&&U5a(a,"init_share",c);c=V('<iframe frameborder="0" src="'+(c?W(Vp(c)):"javascript:&quot;&quot;")+'" class="share-client-content-iframe"></iframe>').MD();a.Si.Fb(c);b||N$(a,!0);a.AEa()}function S5a(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.Dg);a.Ita("data",b,void 0,c)}
function L$(a){for(var b=a.hO,c=a.mia,d=0;d<c;d++)b.IH(0,!0);a.mia=0;a.WE("menuUpdated")}function M$(a,b){b.getParent()||(a.hO.Xf(b,0,!0),a.mia++,a.WE("menuUpdated"))}function K5a(a){return a.J||(a.J=new I(a))}
function U5a(a,b,c){if(!a.oi)return'javascript:""';var d=a.oi.clone();cd(d,"id",a.Dg);cd(d,"foreignService",a.RN);cd(d,"gaiaService",a.Zca);cd(d,"shareService",a.mIb);cd(d,"shareProtocolVersion",a.zr);cd(d,"command",b);cd(d,"subapp",10);cd(d,"popupWindowsEnabled",a.FEb);cd(d,"shareUiType","default");a.qe&&cd(d,"hl",a.qe);cd(d,"authuser",a.jv?a.jv:"0");cd(d,"rand",v());c&&d.xi().extend(c);a.A8&&cd(d,"client","postMessage");a.Zg&&cd(d,"appId",a.Zg);a.QRa&&cd(d,"embedOrigin",a.QRa);return d.toString()}
e.Tu=function(a,b){b=b||{};b.itemIds=this.Dg;J5a(this,this.BCa);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":c=!1}switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":V5a(this,!0)}if(!this.iO&&this.Dg&&15<this.Dg.length)this.g5a=this.Dg,this.Dg=[this.Dg[0]],this.Tfa=!0,Q5a(this,a,b,!c);else if("init"==a||"refresh"==a)this.rna(!1,!0,b);else if(!this.Dg||!this.Dg.length)this.dispatchEvent(new W5a(u(this.Tu,
this,a,b)));else if(this.dispatchEvent(new X5a)){if("invite"==a&&b.inviteFromUrl){if(this.lA&&!N5a(this))return;if(!this.lA){this.XO||this.rna(!1,!0);K5a(this).pb(this,"aclInfoUpdated",u(this.Tu,this,a,b));return}}var d;if(!(d=!this.iO)&&(d=2E4<v()-this.Pga)){t:switch(d=b&&!!b.forceFullLoad,a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!d;break t;case "preload_share":d=!0;break t;default:d=!1}d=!d}d?(this.Tfa&&c&&N$(this,!0),Q5a(this,a,b,!c)):this.Ita(a,b)}};
function Q5a(a,b,c,d){a.sQ=b;a.iZ=c;a.Taa=(new Date).getTime();ja(a.tY)&&Hf(a.tY);a.tY=K(a.zeb,25E3,a);a.ex||(a.ex=!0,a.iO?S5a(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):T5a(a,d))}e.Ita=function(a,b,c,d){if("preload_share"!=a){b=b||{};b.itemIds||(b.itemIds=this.Dg);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)b.aclFixerMode=b.aclFixerMode||"mail",b.aclFixerModeInternal="mail";J5a(this,this.BCa);this.qca(a,b,c,d)}};function P5a(a){var b=a.Jfa;b&&(rg(b),a.Jfa=null)}
e.yeb=function(){this.hLa&&(P5a(this),this.hLa=!1)};e.Aeb=function(){this.XO&&!this.j2&&(L$(this),M$(this,this.Tla),this.XO=!1,this.j2=!0)};e.zeb=function(){if(this.ex){switch(this.sQ){case "maybe_show_acl_fixer":R5a(this);break;case "load_acl_fixer_data":case "preload_share":break;default:this.Si.mW(!0,this.Eab)}this.WE("loadError");Y5a(this)}};e.yqb=function(){this.L_a&&Y5a(this)};function Y5a(a){a.ex&&(Z5a(a,!1),a.Si.Fb(fe),a.ex=!1,N$(a,!1),a.sQ=null,delete a.iZ,delete a.Taa)}
function N$(a,b){a.L_a=b;var c=a.Si;b&&c.dispatchEvent("beforeLoad");c.r6a(b);b||c.dispatchEvent("afterLoad");b&&a.Vxa()}e.ZWa=function(a){switch(a.target.$()){case "access":this.Tu("access");break;case "email":this.Tu("email",M5a(5));break;case "emailAttach":this.Tu("email_attach",M5a(6));break;case "invite":this.Tu("invite");break;case "link":this.Tu("link");break;case "settings":this.Tu("settings",M5a(2))}};
e.lKa=function(){var a=this.Zi,b=H$||(H$=new H5a),c=this.WYa||a.pI,d=N5a(this),f=this.nIb||void 0,g=1==this.Dg.length,h=30<=a.Dy(),k=!c&&(h||d)&&g,d=!c&&(d||h||g&&a.vFa),a=!c&&g&&a.Mta&&this.aSa;f?f.OXb(a,k,d):(b.dhb.setEnabled(a),b.ehb.setEnabled(k),b.Ft.setEnabled(d))};e.z6a=function(a){a&&(this.ex=!1,N$(this,!1),this.Si.mW(!1));Z5a(this,a)};e.AEa=function(){this.Si.init()};function Z5a(a,b){b&&a.Si.init();a.Si.O(b);b?a.Vxa():$5a(a)}
function V5a(a,b){a.WYa=b;a.lA?a.lKa():((H$||(H$=new H5a)).Ft.setEnabled(!b),K5a(a).pb(a,"aclInfoUpdated",u(a.lKa,a)))}e.Vxa=function(){this.dispatchEvent("uiOpened")};function $5a(a){a.qna&&(a.qna(),a.qna=null);if(a.vIa){a.vIa=!1;var b=a.Zi.Lz,c=a.Zi.Am();b&&c&&"unlisted"==c.UB()&&(b=new a6a(b),a.RFb?b6a(b):a.dispatchEvent(b))}a.cW&&a.cW(!1);a.dispatchEvent("uiClosed")}e.Cvb=function(){this.cW&&this.cW(!1)};e.Dvb=function(){this.Si.aa()||$5a(this)};
function R5a(a){V5a(a,!1);a.dispatchEvent(new O$("continue"))}e.WE=function(a,b){switch(a){case "aclFixerDone":var c="continue";b&&b.aclFixerDoneStatus&&(c=b.aclFixerDoneStatus);V5a(this,!1);this.dispatchEvent(new O$(c));break;default:this.dispatchEvent(new H(a))}};
e.H=function(){K$.B.H.call(this);ja(this.tY)&&Hf(this.tY);this.hO.V();delete this.hO;this.qIa&&(this.qIa.V(),delete this.qIa);this.fO&&(this.fO.V(),this.fO=null);this.iBa.V();delete this.iBa;this.Tla.V();delete this.Tla;delete this.ha;this.I6a.V();delete this.I6a;this.Si.V();delete this.Si;this.J&&(this.J.V(),this.J=null);this.We&&(this.We.V(),this.We=null);this.oi=this.Dg=null;this.Zi.V();delete this.Zi;this.cW=this.qca=null};function X5a(){H.call(this,"beforeExecute")}x(X5a,H);
function W5a(a){H.call(this,"createItems");this.Cd=a}x(W5a,H);function a6a(a){H.call(this,"reloadSuggested");this.oIb=a}x(a6a,H);function b6a(a){var b=MM(gd(a.oIb),"authkey"),c=window,d=LM(gd(c.location.href),"userstoinvite");b&&cd(d,"authkey",b);var f=d.toString();f!=gd(c.location.href).toString()&&((a=a.target)&&a.V(),c.setTimeout(function(){c.location.href=f},0))}function O$(a){H.call(this,"aclFixerDone");this.Kf=a}x(O$,H);O$.prototype.getStatus=function(){return this.Kf};function P$(a){Bt.call(this,a);this.rIa={};a=bv(this.getContext());this.oa().listen(a,"qa",this.Rg);this.zia=!1}x(P$,VP);e=P$.prototype;e.CM=null;e.wY=null;e.wg=null;
e.execute=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];var f=this.getContext(),g;g=b&&r(b)?(b=sl(b))?[b]:[]:b?[b]:Yt(this.getContext().Z);b=g.length;if(0==b)gM(this.yf());else{this.CM=new ge;f.I();for(f=0;f<b;f++){var h=g[f];Jk(h,"shareable")||this.CM.add(h.getId())}f=this.CM.wa();if(h=eJa(g)){var k;if(!this.rIa[h]){var m=this.getContext().I(),q=void 0,t=null!=L(m,64)?L(m,64):!1;t&&(q=new F$,k=new z$,q.BGa(k,"top"));q=this.rIa[h]=new K$(m.kh(),m.qdb,m.Zca,void 0,void 0,0,h,void 0,void 0,void 0,q);
null!=L(m,124)&&L(m,124)?q.$H("/sharing/share"):q.$H("share");t&&(k=new A$(q,k.zD),z(this,k));this.oa().listen(q,"aclInfoUpdated",this.rub);this.oa().listen(q,"uiClosed",this.wub)}k=this.rIa[h];h=[];for(m=0;m<g.length;m++)h.push(g[m].ld);g=ga(h)?h:[h];rb(g);tb(g);h=k.Dg;k.lA&&vb(g,h)||(k.Dg=g,k.lA=!1,k.j2=!1,k.Pga=0,k.Tu("refresh"),k.Si.aa()&&Z5a(k,!1));p(d)?(this.zia=!a,k.ZWa(d)):0<f?b==f?WP(this,"em",1==b?"You do not have permission to share the item selected.":"You do not have permission to share the items selected."):
(c=this.wY,c||(c=this.wY=new et,a=new kt,a.set("ok","OK",!0),a.set("cancel","Cancel",!1,!0),c.vc(a),R(wM(c),!1),this.oa().listen(c,"dialogselect",this.zmb)),c.Fb("You do not have permission to share "+(f+" of the items selected. Click OK to select only the sharable items.")),c.O(!0)):(d={},c&&n.parent==n&&null==n.frameElement&&(b={},c&&(b.recipient=c),d.notificationInfo=b),this.zia=!a,k.Tu("invite",d))}else Vs(this.getContext()).Fc("The selected items can not be shared together. Please select one and try again,",
"m")}};e.zmb=function(a){switch(a.key){case "ok":this.getContext().Z.vE(this.CM)}};e.rub=function(a){a.target&&(a=a.target.Dg)&&0<a.length&&(this.wg=new jB(a),Fm(bv(this.getContext()),this.wg))};e.Rg=function(a){if(this.wg&&this.wg.ta()==a.request.ta()){a=a.response;var b=a.Vo()||us(Vs(this.getContext()));a.getError()?WP(this,"em",b):(b=this.wg.$b,b.length!=a.Gb().length&&(a=$a(a.Gb(),function(a){return a.getId()}),b=new ge(b),b.removeAll(a),a=b.Ra(),a=tl(a),eM(this.yf(),a,this.xHb)))}};
e.wub=function(){this.zia&&(BH(this.getContext()).dispatchEvent("r"),this.zia=!1)};e.xHb=function(a){a.X5("deleted",!0)};e.H=function(){P$.B.H.call(this);this.CM&&(this.CM.clear(),this.CM=null);this.wY&&(this.wY.V(),delete this.wY);this.wg=null};Dt(38,function(a){return new P$(a)});function c6a(){y.call(this)}x(c6a,LX);c6a.prototype.initialize=function(){};Se(Re.U(),"appsshare").Hw(c6a);Re.U().Fw("appsshare");JM();
