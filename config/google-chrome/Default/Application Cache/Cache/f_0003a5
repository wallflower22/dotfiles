SM.prototype.kY=Z(288,function(a){return this.k[a]||[]});ebb.prototype.kY=Z(287,function(){return[]});$H.prototype.jea=Z(238,function(a){for(var b=Math.max(this.j.length,a.j.length),c=[],d=0;d<b;d++)c[d]=hI(this,d)|hI(a,d);return new $H(c,this.k|a.k)});
function xjc(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+c);if("-"==a.charAt(0))return cI(xjc(a.substring(1),c));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=aI(Math.pow(c,8)),e=bI,f=0;f<a.length;f+=8){var h=Math.min(8,a.length-f),l=parseInt(a.substring(f,f+h),c);8>h?(h=aI(Math.pow(c,h)),e=gI(e,h).add(aI(l))):(e=gI(e,d),e=e.add(aI(l)))}return e}
function yjc(a,b){for(var c=b>>5,d=b%32,e=a.j.length+c+(0<d?1:0),f=[],h=0;h<e;h++)f[h]=0<d?hI(a,h-c)<<d|hI(a,h-c-1)>>>32-d:hI(a,h-c);return new $H(f,a.k)}function zjc(a){Ho(this,a,0,null)}C(zjc,Go);function Ajc(a){Ho(this,a,0,Bjc)}C(Ajc,Go);var Bjc=[6];Ajc.prototype.mD=function(){return null!=Io(this,4)?Io(this,4):"us"};function Cjc(a){Ho(this,a,0,null)}C(Cjc,Go);Cjc.prototype.getUrl=function(){return Io(this,2)};Cjc.prototype.oz=function(){return Io(this,9)};function Djc(a){Ho(this,a,0,Ejc)}C(Djc,Go);var Ejc=[1];function Fjc(a,b,c,d){this.k=a;this.q=b;this.j=c;this.o=d}Fjc.prototype.getType=g("o");Fjc.prototype.getUrl=g("q");function Gjc(a,b,c){L.call(this);this.o=a;this.k=b;this.q=c;this.j={}}C(Gjc,L);var Hjc={1:"web",2:"drive"},Ijc={1:"document",2:"presentation",3:"spreadsheet",4:"drawing",7:"link"};
function Jjc(a,b){if(!Qd(Td(),"docs-els")||!a.k||!SI(a.q)||b.isEmpty())return wm([]);var c=new Ajc;Jo(c,2,Qa(b.j)?b.k:b.j);Jo(c,1,0);Jo(c,7,0);var d={},e=new pm,f="goog_"+ib++;d.linksrequest=c.Mb();c=Wo(Zo(Yo(Vo(a.k.se("/links"),d).$e("id",a.o),1),e.callback,e),e.errback,e).xd();a.j[f]=c;return tm(e,function(){delete this.j[f]},a).addCallback(Kjc)}
function Kjc(a){var b=[];if(!a)return b;a=new Djc(a.Te());a=LS(a,Cjc,1);for(var c=0;c<a.length;++c){var d=a[c],e=Io(d,5),f=Hjc[Io(d,6)],h=Ijc[null!=Io(d,7)?Io(d,7):0];e&&f&&h&&b.push(new Fjc(e,d.getUrl(),f,h))}return b}Gjc.prototype.J=function(){for(var a in this.j)N(this.j[a]);Gjc.G.J.call(this)};function Ljc(a){return a=""+('<div class="docs-link-insertlinkbubble" dir="'+(a.tb?"rtl":"ltr")+'" tabIndex="1" role="dialog" aria-label="Edit or Insert link"><div class="docs-link-insertlinkbubble-leftpane">'+$t(a.Hxa)+'</div><div class="docs-link-insertlinkbubble-rightpane">'+$t(a.lBa)+"</div></div>")}
function Mjc(a){return"<div>"+('<div class="docs-link-insertlinkbubble-urlholder" id="'+Vt(a.Ve.Lka)+'"><input type="text" class="docs-link-insertlinkbubble-url jfk-textinput" id="'+Vt(a.Ve.I5)+'" role="combobox" aria-haspopup="true" aria-autocomplete="list" aria-owns="'+Vt(a.Ve.TG)+'" tabIndex="0"/><div class="docs-link-insertlinkbubble-linkchip" id="'+Vt(a.Ve.vja)+'"></div><div class="docs-link-insertlinkbubble-suggestionholder" id="'+Vt(a.Ve.TG)+'" tabIndex="-1"></div></div>')+'<div class="docs-link-insertlinkbubble-buttonbar" id="'+
Vt(a.Ve.tM)+'"></div><div class="docs-link-insertlinkbubble-error" id="'+Vt(a.Ve.Uia)+'" role="alert"></div></div>'}function Njc(a){return a=""+('<label class="docs-link-insertlinkbubble-url-label" for="'+Vt(a.Ve.I5)+'">Link</label>')}function Ojc(a){return""+Ljc(Qt(a,{Hxa:""+Njc(a),lBa:""+Mjc(a)}))};function Pjc(a,b){this.j=a;this.k=b}Pjc.prototype.isEmpty=function(){return Qa(this.j+this.k)};Pjc.prototype.equals=function(a){return null!=a&&this.k==a.k&&this.j==a.j};function I6(a){Wm.call(this,a);this.o=new mI;this.ua(this.o);this.o.Pq=!1;nI(this.o,!1);this.o.j.uE=!0;Gy(this.o.j,1,0,void 0,void 0)}C(I6,Wm);I6.prototype.Da=function(){I6.G.Da.call(this);var a=this.getElement(),b=this.O();this.Ua=b.R("DIV","docs-calloutbubble-anchor");b.appendChild(a,this.Ua);Fm(this.Ua,"docs-calloutbubble-anchor");this.o.of("docs-calloutbubble-bubble");this.o.Zh(this.Ua);this.o.render(a)};
I6.prototype.setVisible=function(a){if(a!=this.Ea()&&this.dispatchEvent(a?"show":"hide")){var b=this.getElement();b&&(R(b,a),this.o.setVisible(a),this.o.lu())}};I6.prototype.Ea=function(){return this.o.Ea()};function Qjc(a,b,c){dl(a.Ua,b,c);a.o.lu()};function Rjc(a){switch(a){case "document":return"Bookmark";case "presentation":return"Slide";case "spreadsheet":return"Spreadsheet";case "drawing":return"Drawing";case "link":return"Web link";case "bookmark":return"Bookmark";case "heading":return"Heading";case "slide":return"Slide"}return""};function Sjc(a){var b=""+Y(a.qE),b='<div class="docs-link-linksuggestion" tabIndex="0" role="option">'+('<div class="docs-link-linksuggestion-icon">'+dD({icon:"docs-icon-img "+Y(b)})+"</div>")+(a.PO?Tjc({lB:St(""+Y(a.lB)),PO:Rt(""+a.PO)}):Tjc({lB:St(""+Y(a.lB))}));a.url&&(b+='<a class="docs-link-linksuggestion-testlink" id="'+Vt(a.Ve.zka)+'" href="'+Vt(Xt(a.url))+'" target="_blank" rel="noreferrer" tabIndex="0" aria-label="Open link in a new tab">'+dD({icon:"docs-icon-img docs-icon-popout"})+"</a>");
return b+"</div>"}function Tjc(a){return Mt('<div class="docs-link-linksuggestion-text"><div class="docs-link-linksuggestion-title">'+Y(a.lB)+"</div>"+(a.PO?'<div class="docs-link-linksuggestion-url">'+Y(a.PO)+"</div>":"")+"</div>")};function Ujc(a){return a=""+('<div class="docs-link-chipselectedlinksuggestion">'+dD({icon:"docs-icon-img "+Y(a.qE)})+Tjc({lB:St(""+Y(a.lB))})+'<div id="'+Vt(a.Ve.v4)+'" class="docs-link-chipselectedlinksuggestion-hide" tabIndex="0" aria-role="button" aria-label="Discard the currently selected suggestion" role="button">'+dD({icon:"docs-icon-img docs-icon-close-small"})+"</div></div>")};function J6(a,b,c){Wm.call(this,c);this.o=Mt(a);this.k=b;this.j=xV(this,Vjc)}C(J6,Wm);var Vjc={v4:"dllsch"};J6.prototype.Da=function(){var a={};a.Ve=this.j;a.lB=this.o;a.qE=this.k;this.Y=Et(Ujc,a)};J6.prototype.aa=function(){J6.G.aa.call(this);var a=this.O().getElement(this.j.v4);if(!a)throw Error("Hide element should have been found");Nm(U(this),a,this.A)};J6.prototype.A=function(a){var b=this.getElement();R(b,!1);this.dispatchEvent("hide");a.stopPropagation()};function K6(a,b){this.k=a;this.o=b}K6.prototype.equals=function(a){return this.o==a.o&&this.k.equals(lc(a.k))};
function Wjc(a){var b=bI;if(a instanceof $H){if(0!=a.k||0>iI(a,bI)||0<iI(a,Xjc))throw Error("The address does not look like an IPv4.");b=lc(a)}else{if(!Yjc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e=jb(c[d]);if(isNaN(e)||0>e||255<e||1!=c[d].length&&Ga(c[d],"0"))throw Error("In "+a+", octet "+d+" is not valid");e=aI(e);b=yjc(b,8).jea(e)}}K6.call(this,b,4)}
C(Wjc,K6);var Yjc=/^[0-9.]*$/,Xjc=fI(yjc(dI,32),dI);Wjc.prototype.toString=function(){if(this.j)return this.j;for(var a=ZZa(this.k,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.j=b.join(".")};
function Zjc(a){var b=bI;if(a instanceof $H){if(0!=a.k||0>iI(a,bI)||0<iI(a,$jc))throw Error("The address does not look like a valid IPv6.");b=lc(a)}else{if(!akc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=new Wjc(c[c.length-1]);a=ZZa(lc(a.k),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Fb(c,c.length-1);Kb(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");
if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);1>e?c=[]:(Kb(c,Wb("0",e)),Kb(c,d))}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=xjc(c[d],16);if(0>iI(e,bI)||0<iI(e,bkc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=yjc(b,16).jea(e)}}K6.call(this,b,6)}C(Zjc,K6);var akc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,bkc=XZa(65535),$jc=fI(yjc(dI,128),dI);
Zjc.prototype.toString=function(){if(this.j)return this.j;for(var a=[],b=3;0<=b;b--){var c=ZZa(this.k,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.j=a.join(":")};var ckc=new LV("http https ftp feed gopher mailto mms news nntp rtsp telnet aim callto ichat".split(" "));
function dkc(a){a=Ta(a);if(""==a)return null;if("#"==a.charAt(0))return a;try{var b=ce(1,a);if(b){b=b.toLowerCase();if(!ckc.contains(b))return null;if("mailto"==b){var c=de(a);a=a.replace(/^mailto/i,"mailto");return c&&rGb(c).Md()?a:null}}else a="http://"+a;a=encodeURI(a).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%25/g,"%");var d=ae(a);return!ekc(a)&&d&&fkc(d)?Zd(ce(1,a).toLowerCase(),be(ce(2,a)),d.toLowerCase(),Number(ce(4,a))||null,ce(5,a),ce(6,a),Nba(a)):null}catch(e){return null}}
function ekc(a){return 2083<a.length}function fkc(a){var b;var c=a;try{b=Ga(c,"[")&&Ha(c,"]")?new Zjc(c.substring(1,c.length-1)):new Wjc(c)}catch(d){b=null}if(b)return!0;a=a.replace(/[.\u3002\uFF0E\uFF61]/g,".");a=a.replace(/\.$/,"");if(253<a.length)return!1;a=a.split(".");if(127<a.length)return!1;for(b=0;b<a.length;b++)if(c=a[b],63<c.length||/[^0-9A-Za-z\-\_]/.test(c)||/[\-\_]$/.test(c)||/^[\-\_]/.test(c)||b==a.length-1&&/^\d/.test(c))return!1;return!0};function L6(a,b,c,d,e){Wm.call(this,e);this.k=b;this.B=Mt(a);a=this.O();this.F=a.eJ(a.yg(this.B.toString()));this.A=c;this.H=d;this.C=xV(this,gkc);this.j=null}C(L6,Wm);var gkc={zka:"dlstl"};u=L6.prototype;u.getType=g("H");u.getUrl=g("k");u.m$=g("F");u.Da=function(){L6.G.Da.call(this);var a={};a.lB=this.B;a.qE=this.o();var b=this.A;if("infile"!=b){var c=dkc(this.k);c&&(a.url=Wza(c))}"web"==b&&(a.PO=this.k);a.Ve=this.C;this.Y=Et(Sjc,a,void 0,this.O())};
u.aa=function(){L6.G.aa.call(this);(this.j=this.O().getElement(this.C.zka))&&Nm(U(this),this.j,this.Y9a);Nm(U(this),this.getElement(),this.C3a)};u.Y9a=function(a){a.stopPropagation()};u.C3a=function(a){if(a.altKey&&this.j)try{this.j.focus()}catch(b){}else{var c=new hkc(this.k,this.F,this.m$(),this.A,0,this);this.dispatchEvent(c)}a.stopPropagation()};function hkc(a,b,c,d,e,f){O.call(this,"docs-link-suggestion-linkselect",f);this.url=a;this.B=d;this.k=b;this.M=c}C(hkc,O);function M6(a,b,c,d){L6.call(this,a,b,"infile",c,d)}C(M6,L6);M6.prototype.o=function(){var a=this.getType();switch(a){case "bookmark":return"docs-icon-bookmark";case "heading":return"docs-icon-paragraph";case "slide":return"docs-icon-presentation";default:throw Error("Unsupported Infile suggestions type encountered: "+a);}};M6.prototype.m$=function(){var a=M6.G.m$.call(this),b=this.getType();"slide"!=b&&(b=Rjc(b))&&(a=b+(": "+a));return a};function ikc(a,b){this.k=a;this.j=b||null}ikc.prototype.getUrl=g("k");ikc.prototype.getText=g("j");function jkc(a,b,c){a=new ikc(a,b);b=fp(new ep,1);c&&Iqa(b,c);V.RU.fireAction(a,b.Oa())};function kkc(a){return a=""+('<div class="docs-link-linksuggestioncontentbox"><div class="docs-link-linksuggestioncontentbox-offlinenotice" id="'+Vt(a.Ve.Xja)+'">Some suggestions are not available offline.</div><div class="docs-link-linksuggestioncontentbox-statusbar" id="'+Vt(a.Ve.vka)+'"><div class="docs-link-linksuggestioncontentbox-statusmessage" id="'+Vt(a.Ve.wka)+'"></div><div class="docs-link-linksuggestioncontentbox-statusindicator" id="'+Vt(a.Ve.wja)+'"></div></div><div class="docs-link-linksuggestioncontentbox-suggestion-holder" id="'+
Vt(a.Ve.TG)+'" role="listbox"></div>'+(a.hhb?'<div class="docs-link-linksuggestioncontentbox-reference" id="'+Vt(a.Ve.dka)+'" tabIndex="0">'+dD({icon:"docs-icon-img docs-icon-search-this-document"})+'<div class="docs-link-linksuggestioncontentbox-referencetext" id="'+Vt(a.Ve.eka)+'"></div></div>':"")+"</div>")};function lkc(){};function N6(a,b){Wm.call(this,a);this.k=b||"docs-loading-indicator";this.j=!0}C(N6,Wm);N6.prototype.Da=function(){N6.G.Da.call(this);var a=this.getElement();Fm(a,this.k);this.Ea()||R(a,!1)};N6.prototype.setVisible=function(a){if(this.j!=a&&this.dispatchEvent(a?"show":"hide")){var b=this.getElement();b&&R(b,a);this.j=a}};N6.prototype.Ea=g("j");function mkc(a,b,c,d){L6.call(this,a,b,"drive",c,d)}C(mkc,L6);mkc.prototype.o=function(){switch(this.getType()){case "document":return"docs-icon-document";case "presentation":return"docs-icon-punch";case "spreadsheet":return"docs-icon-spreadsheet";case "drawing":return"docs-icon-drawing";default:return"docs-icon-file-blue"}};function nkc(a){return'<div class="docs-link-infilelinksuggestiongroup-cb">'+dD({icon:"docs-icon-img docs-zippy-open",Iy:"docs-link-infilelinksuggestiongroup-cb-openarrow"})+dD({icon:"docs-icon-img docs-zippy-closed",Iy:"docs-link-infilelinksuggestiongroup-cb-closearrow"})+'<div class="docs-link-infilelinksuggestiongroup-cb-title">'+Y(a.title)+"</div></div"};function O6(a,b,c){Wm.call(this,c);for(c=0;c<a.length;++c)this.ua(a[c],!0);this.C=b;this.k=-1}C(O6,Wm);u=O6.prototype;u.Da=function(){O6.G.Da.call(this);Fm(this.getElement(),"docs-link-linksuggestiongroup")};u.aa=function(){O6.G.aa.call(this);U(this).D(this.getElement(),"keydown",this.JRa)};u.JRa=function(a){if(ul(this.kb())){var b;switch(a.keyCode){case 38:b=-1;break;case 40:b=1;break;default:return}this.Jda(this.k+b)&&(a.preventDefault(),a.stopPropagation())}};
u.Jda=function(a){if(0>a||a==this.Ob())return!1;try{this.Zb(a).getElement().focus(),this.k=a}catch(b){return!1}return!0};u.x8=function(){if(0<this.Ob())try{this.Zb(0).getElement().focus(),this.k=0}catch(a){}};u.nX=function(){if(0<this.Ob())try{var a=this.Ob();this.Zb(a-1).getElement().focus();this.k=a-1}catch(b){}};function P6(a,b,c){this.F=a;this.j=this.A=this.B=this.o=null;O6.call(this,b,"infile",c)}C(P6,O6);u=P6.prototype;u.Da=function(){P6.G.Da.call(this);var a=this.O(),b=this.getElement();this.j=Et(nkc,{title:this.F});this.o=a.R("DIV");this.B=new fM(this.j,this.o);a.appendChild(b,this.j);a.appendChild(b,this.o)};u.kb=function(){if(!this.o)throw Error("No suggestion holder found in infile link suggestion group");return this.o};
u.aa=function(){P6.G.aa.call(this);this.A||(this.A=new Tm(this.j),M(this,this.A));U(this).D(this.B,"toggle",this.K9a).D(this.j,"keypress",this.m3a).D(this.A,"focusout",this.NZa)};u.NZa=function(){Hm(this.j,"docs-link-infilelinksuggestiongroup-cb-keyboardfocus")};u.m3a=function(a){13==a.keyCode&&(a.stopPropagation(),a.preventDefault())};u.K9a=function(a){Jm(this.j,"docs-link-infilelinksuggestiongroup-cb-open",a.dD)};u.x8=function(){okc(this)};u.nX=function(){this.B.Lw()?P6.G.nX.call(this):okc(this)};
u.Jda=function(a){var b=document.activeElement==this.j;return-1!=a||b?P6.G.Jda.call(this,a):okc(this)};function okc(a){try{return a.j.focus(),Fm(a.j,"docs-link-infilelinksuggestiongroup-cb-keyboardfocus"),a.k=-1,!0}catch(b){}return!1};function pkc(a,b,c,d){L6.call(this,a,b,"web",c,d)}C(pkc,L6);pkc.prototype.o=r("docs-icon-web-result");function qkc(a){a=qb(a,rkc);a=Vb(a,function(a){return a.A});var b=[];$b(a,function(a,d){switch(d){case "infile":Kb(b,skc(a));break;case "drive":case "web":b.push(new O6(a,d));break;default:throw Error("Unknow corpus type: "+d);}});return b}function rkc(a){var b=a.getUrl(),c=a.k,d=a.j;a=a.getType();switch(d){case "web":return new pkc(c,b,a);case "drive":return new mkc(c,b,a);case "infile":return new M6(c,b,a);default:throw Error("Unknown corpus: "+d);}}
function skc(a){var b=[];a=Vb(a,function(a){return a.getType()});$b(a,function(a,d){b.push(new P6(tkc(d),a))});return b}function tkc(a){switch(a){case "bookmark":return"Bookmarks";case "heading":return"Headings";case "slide":return"Slides in this presentation";default:throw Error("Unknown infile suggestion type: "+a);}}function ukc(a,b){return vkc[a.C]-vkc[b.C]}function wkc(a){return a?!!ce(1,a)&&!!ae(a):!1}
function Q6(a){var b;if(b=!!a)b=a.match("(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)"),b=(null!=b?b[0]:"")==a;return b}function xkc(a){return ce(1,a)?a.substring(a.indexOf(":")+1):a}var vkc={infile:0,web:1,drive:2};function ykc(a){Wm.call(this,a);this.A=xV(this,zkc);this.j=[];this.I=this.C=this.M=this.U=null;this.B=new N6(a,"docs-loading-indicator-small");this.ua(this.B);this.H=new hD(this);this.H.bc(V.Bi,Cq,this.IRa);this.H.bc(V.mV,Cq,this.j7a);M(this,this.H);this.F=this.K=this.o=null;this.k=-1}C(ykc,Wm);var zkc={wja:"dllscli",Xja:"dllscon",dka:"dllscr",eka:"dllscrt",vka:"dllscsb",wka:"dllscsm",TG:"dllscsh"};u=ykc.prototype;u.Da=function(){var a={};a.Ve=this.A;a.hhb=Qd(Td(),"docs-ereft");this.Y=Et(kkc,a)};
u.aa=function(){ykc.G.aa.call(this);var a=this.O();this.M=a.getElement(this.A.vka);this.U=a.getElement(this.A.wka);this.C=a.getElement(this.A.Xja);this.I=a.getElement(this.A.TG);var b=a.getElement(this.A.wja);b&&!this.B.getElement()&&this.B.render(b);Akc(this,"i");if(this.o=a.getElement(this.A.dka))this.K=a.getElement(this.A.eka),Nm(U(this),this.o,this.k7a);U(this).D(this.getElement(),"keydown",this.HRa);this.C&&R(this.C,!V.Bi.isEnabled());Bkc(this)};u.IRa=function(){this.C&&R(this.C,!V.Bi.isEnabled())};
u.j7a=function(){Bkc(this)};function Bkc(a){if(a.o){var b=wkc(a.F),b=V.mV.isEnabled()&&!!a.F&&!b&&!Q6(a.F);R(a.o,b)}}u.HRa=function(a){var b=!1;switch(a.keyCode){case 40:b=Ckc(this,1);break;case 38:b=Ckc(this,-1)}b&&(a.preventDefault(),a.stopPropagation())};function Dkc(a){if(a.o&&ul(a.o))try{return a.o.focus(),!0}catch(b){}return!1}
function Ckc(a,b){var c,d=document.activeElement==a.o;c=a.k+b;if(c>a.j.length||0>c)return a.k=-1,!1;if(c==a.j.length){if(d||!Dkc(a))return a.k=-1,!1;a.k=a.j.length;return!0}1==b?a.j[c].x8():a.j[c].nX();a.k=c;return!0}u.k7a=function(a){var b=new lkc,c=fp(new ep,9).Oa();V.mV.fireAction(b,c);a.stopPropagation()};
function Akc(a,b){if(a.getElement()){var c=a.O(),d=a.U,e=a.M;a.kb();switch(b){case "f":c.dg(d,"Unable to retrieve suggestions at this time.");R(e,!0);R(d,!0);a.B.setVisible(!1);break;case "i":R(d,!1);R(e,!1);a.B.setVisible(!1);break;case "s":c.dg(d,"Searching\u2026"),R(e,!0),R(d,!0),a.B.setVisible(!0)}}}u.kb=function(){if(this.I)return this.I;throw Error("Suggestion holder not found");};
function Ekc(a,b,c){var d=[];if(c)Fkc(a);else{d=a.j;for(c=0;c<a.j.length;++c)a.removeChild(a.j[c],!0);a.j=[]}b=d=Ib(d,b);Pb(b,ukc);d=b;for(c=0;c<d.length;++c)a.ua(d[c],!0),a.j.push(d[c]);a.k=-1;a.kb().scrollTop=0}function Fkc(a){for(var b=0;b<a.j.length;++b)a.removeChild(a.j[b],!0),N(a.j[b]);a.j=[];a.k=-1}function Gkc(a,b){a.F=b;if(a.K){var c=a.O();Bkc(a);b&&c.dg(a.K,"Find more")}};function R6(a,b,c,d){I6.call(this,d);this.ek=a;this.j=new tT("Paste a link, or search",d);this.ua(this.j);this.H=xV(this,Hkc);this.A=new ykc(d);this.ua(this.A);this.Wa=Ry("Apply",d);this.ua(this.Wa);this.M=new gp(this.eU,200,this);M(this,this.M);this.Ci=!!c;this.Xb=null;this.U=!1;this.Z=this.F=this.C=null;this.kc=!1;this.K=null;this.Ce=!1;this.xa=this.B=null;this.bf=!1}C(R6,I6);var Hkc={tM:"dlbbb",Uia:"dlbem",vja:"dlblc",TG:"dlbsh",Lka:"dlbuh",I5:"dlbui"},Ikc=["mousedown","click","contextmenu","paste"];
u=R6.prototype;u.Da=function(){R6.G.Da.call(this);var a={Ve:{}};oc(a.Ve,this.H,this.zqa());a.tb=this.Ci;a=Et(this.Soa(),a);this.o.setContent(a)};u.Soa=function(){return Ojc};u.zqa=function(){return{}};
u.initialize=function(){var a=this.O(),b=a.getElement(this.H.I5);if(!b)throw Error("URL input element should be present");this.j.Ia(b);this.C=a.getElement(this.H.TG);if(!this.C)throw Error("Suggestion holder element should be present");this.A.render(this.C);var c=a.getElement(this.H.tM);if(!c)throw Error("Button bar element should be present");this.Wa.render(c);this.ai=new oy(b);M(this,this.ai);this.od=new Tm(this.o.kb());M(this,this.od);this.Wf=new Tm(b);M(this,this.Wf);this.F=a.getElement(this.H.Lka);
if(!this.F)throw Error("URL Holder element should have been present.");this.Nh=new Tm(this.F);M(this,this.Nh);b=this.o.kb().firstChild;this.Ud=new my(b,this.O());M(this,this.Ud);ny(this.Ud);this.$d=new cu(this.getElement());M(this,this.$d);this.xa=a.getElement(this.H.Uia)};
u.aa=function(){R6.G.aa.call(this);this.Ce||(this.initialize(),this.Ce=!0);U(this).D(this.ai,"input",this.N$a).D(this.j.getElement(),"keydown",this.l3a).D(this.A,"docs-link-suggestion-linkselect",this.J9a).D(this.A.getElement(),"keydown",this.k3a).D(this.od,"focusout",this.DRa).D(this.Nh,"focusout",this.B1a).D(this.Wf,"focusin",this.z1a).D(this.Wa,"action",this.CRa).D(this.getElement(),Ikc,this.GRa).D(this.C,"mousedown",this.O4a).D(this.$d,"key",this.ERa).D(this.getElement(),"keyup",this.FRa);S6(this,
!1)};u.sdb=function(){var a=document.activeElement;this.O().contains(this.F,a)||T6(this,!1)};u.O4a=function(){dh(B(this.Ihb,this,document.activeElement),0)};u.Ihb=function(a){if(document.activeElement==this.C)try{a.focus()}catch(b){}};u.B1a=function(){dh(this.sdb,0,this)};u.z1a=function(){this.eU();Jkc(this,!1)};function Jkc(a,b){Kh(a.F,b);Kh(a.j.getElement(),!b)}
u.l3a=function(a){if(a.target)switch(a.keyCode){case 38:var b=this.A;Dkc(b)?b.k=b.j.length:0<b.j.length&&(b.j[b.j.length-1].nX(),b.k=b.j.length-1);a.stopPropagation();a.preventDefault();break;case 40:b=this.A,0<b.j.length?(b.j[0].x8(),b.k=0):Dkc(b)&&(b.k=b.j.length),a.stopPropagation(),a.preventDefault()}};u.k3a=function(a){if(!a.ga)switch(a.keyCode){case 40:case 38:U6(this),a.stopPropagation()}};
function T6(a,b,c){c&&(Fkc(a.A),a.K=null);a.C&&(b&&(b=a.A,b=ul(b.C)||ul(b.M)||0<b.j.length||!!b.o&&ul(b.o)),R(a.C,b&&a.O().contains(a.F,document.activeElement)))}u.Rab=function(){if(!this.Mc()){var a=this.o.kb();a&&this.O().contains(a,document.activeElement)||this.setVisible(!1)}};u.DRa=function(){dh(this.Rab,0,this)};u.GRa=function(a){a.stopPropagation()};u.FRa=function(a){27==a.keyCode&&(ul(this.C)?(U6(this),T6(this,!1),a.stopPropagation()):this.setVisible(!1))};
u.ERa=function(a){13==a.keyCode&&(S6(this,!dkc(this.j.V())),this.bf?ul(this.C)&&T6(this,!1):this.cca(),a.stopPropagation())};u.CRa=function(){S6(this,!dkc(this.j.V()));ul(this.xa)||this.cca()};function Kkc(a){a.dispatchEvent(new Lkc(a))}u.xfa=function(a){this.j.Ca(a.url);V6(this);Mkc(this,a.M)||U6(this);this.Z=a.B;Kkc(this);T6(this,!1);S6(this,!1)};u.J9a=function(a){Jkc(this,!0);this.xfa(a)};u.N$a=function(){Kkc(this);S6(this,!1);V6(this);this.Z=null;this.eU()};u.M6=function(){return Ta(this.j.V())};
function S6(a,b){(a.bf=b)&&a.q.dg(a.xa,ekc(a.j.V())?"Links must be less than 2083 characters long":"Link doesn't look right. Typo?");a.xa&&R(a.xa,b);Jm(a.j.getElement(),"docs-link-insertlinkbubble-url-error",b)}function V6(a){a.Wa.$(""!=a.j.V())}
function Mkc(a,b){var c=a.O().getElement(a.H.vja);if(!c)return!1;var d=a.j.V();if("#"!=d.charAt(0))return!1;for(var e=!1,f=qkc([]),h,l=0;l<f.length&&!h;++l)t:{h=f[l];for(var m=d,n=h.Ob(),p=0;p<n;++p){var t=h.Zb(p);if(t.getUrl()==m){h=t;break t}}h=null}h&&h instanceof M6&&(b&&Cm(c,"Link selected: "+b),R(a.j.getElement(),!1),d=h,d=new J6(d.B.toString(),d.o(),d.O()),a.B=d,a.ua(a.B),a.B.render(c),document.activeElement!=a.j.getElement()&&a.lqa(),Mm(U(a),a.B,"hide",a.yZa),e=!0);Hg(f);return e}
u.yZa=function(){Nkc(this);U6(this)};function Nkc(a){a.B&&(a.removeChild(a.B,!0),a.B.dispose(),R(a.j.getElement(),!0),a.j.clear(),V6(a),a.B=null)}function Okc(a){a=a.j.V();if(Q6(a))return ce(1,a)?a:"mailto:"+a;if(!dkc(a))throw Error("Insert link called with invalid URL");if(Vza(a)){var b=be(Nba(a));b&&(a="#"+b)}return a}u.mX=function(){var a=new Gq,b=new zjc;switch(this.Z){case "web":Jo(b,4,0);break;case "drive":Jo(b,4,1);break;case "infile":Jo(b,4,2)}Jo(b,2,this.kc);Lo(a,18,b);return a};
u.cca=function(){var a=Okc(this);this.setVisible(!1);jkc(a,void 0,this.mX())};u.eY=function(){return new Pjc(this.j.V(),"")};
u.eU=function(){var a;(a=this.B)||(a=this.j.V(),a=wkc(a)||Q6(a));if(a)T6(this,!1),this.M.stop();else if(a=this.eY(),Gkc(this.A,this.M6()),a.equals(this.K))Akc(this.A,"i"),T6(this,!0),this.M.stop();else if(T6(this,!0,!0),a.equals(this.Xb)){Akc(this.A,"s");var b=qkc([]);Pkc(this);Ekc(this.A,b,!0);T6(this,!0);this.K=null;rm(Jjc(this.ek,a),Aa(this.rua,a),Aa(this.rua,a,[]),this);this.M.stop()}else this.Xb=a,this.M.start()};
u.rua=function(a,b){var c=qkc(b);!this.K&&a.equals(this.eY())&&(this.K=a,Pkc(this),Ekc(this.A,c,!1),Akc(this.A,"i"),T6(this,!0))};function Pkc(a){if(document.activeElement!=a.j.getElement())try{Jkc(a,!0),a.F.focus()}catch(b){}}u.lqa=function(){try{this.F&&this.F.focus()}catch(a){}};u.reset=function(){this.j.reset();V6(this);this.kc=!1;this.Z=null;Kkc(this);Nkc(this);T6(this,!1,!0);this.K=null;Gkc(this.A,null)};
u.setVisible=function(a,b){R6.G.setVisible.call(this,a);b&&this.reset();a?(S6(this,!1),this.eU()):this.Xb=null};function U6(a){try{ul(a.j.getElement())?a.j.Yi():Pkc(a)}catch(b){}}function Lkc(a){O.call(this,"uu",a)}C(Lkc,O);function Qkc(a){var b;b=""+('<label id="'+Y(a.Ve.Aka)+'" class="docs-link-insertlinkbubble-text-label" for='+Y(a.Ve.z5)+">Text</label>");return""+Ljc(Qt(a,{Hxa:""+b+Njc(a),lBa:""+('<input type="text" class="docs-link-insertlinkbubble-text jfk-textinput" id="'+Y(a.Ve.z5)+'"/>')+Mjc(a)}))};function W6(a,b,c,d){R6.call(this,a,0,c,d);this.k=new tT(void 0,d);this.ua(this.k);this.yb=null;this.eb=xV(this,Rkc);this.Qa=this.jb=!1;this.I=null}C(W6,R6);var Rkc={z5:"dlbti",Aka:"dlbtil"},Skc=["footnote","horizontal_rule"],Tkc=["inline"];u=W6.prototype;u.Soa=function(){return Qkc};u.zqa=g("eb");
u.initialize=function(){W6.G.initialize.call(this);var a=this.O();this.I=a.getElement(this.eb.z5);if(!this.I)throw Error("No input element found");this.k.Ia(this.I);this.Uc=new oy(this.I);M(this,this.Uc);this.yb=a.getElement(this.eb.Aka)};u.aa=function(){W6.G.aa.call(this);U(this).D(this.Uc,"input",this.eYa)};u.eYa=function(){this.Qa=!0};u.M6=function(){var a=W6.G.M6.call(this);return a?a:this.k.isEnabled()?Ta(this.k.V()):null};
u.cca=function(){var a=Okc(this),b;this.k.isEnabled()&&(b=this.k.V(),Qa(Ta(b))&&(b=Q6(a)?xkc(a):a),this.k.Ca(b));this.setVisible(!1);jkc(a,b,this.mX())};u.eY=function(){var a=W6.G.eY.call(this);if(this.k.isEnabled())var b=this.k.V(),a=new Pjc(a.j,b);return a};
u.setContent=function(a,b,c){if(null!=b){b&&(this.Qa=!0);this.jb=!!b;c=c?Ukc(c):!0;var d=!(!b.match(zja)&&!b.match(yja));!d&&c||this.k.$(!1);c?d?this.k.Ca("Cannot edit multi-paragraph selection."):(R(this.k.getElement(),!0),R(this.yb,!0),this.k.$(!0),this.k.Ca(b)):(R(this.k.getElement(),!1),R(this.yb,!1));this.U|=1}null!=a&&(this.Z=null,""!=a&&(this.kc=!0,a=Uza(a),Q6(a)&&(a=xkc(a))),this.j.Ca(a),V6(this),Mkc(this),Kkc(this),S6(this,!1),this.U=!0);this.U&&(this.eU(),this.U=!1)};
u.lqa=function(){try{this.I&&this.I.focus()}catch(a){}};u.xfa=function(a){W6.G.xfa.call(this,a);this.k.isEnabled()&&!this.Qa&&a.k&&this.k.Ca(a.k)};u.mX=function(){var a=W6.G.mX.call(this),b=Ko(a,zjc,18);Jo(b,1,this.jb);var c=this.k.isEnabled()&&this.k.V();c&&(c=c==Okc(this),Jo(b,3,c));return a};u.reset=function(){W6.G.reset.call(this);this.Qa=!1;this.k.$(!0);this.jb=!1;R(this.k.getElement(),!0);this.k.reset()};
function Ukc(a){var b=a.im().getSelection().AUb();if(!b)return!0;a=hbb(a.getModel(),b.jm(),b.pz());for(var b=a.NL,c=0;c<b.length;++c)if(b[c].DD().getArray().length&&wb(Skc,b[c].getType()))return!1;for(c=0;c<Tkc.length;++c)if(0<a.kY(Tkc[c]).length)return!1;return!0};function Vkc(a,b,c,d,e,f,h,l){this.B=e;this.k=b;this.C=c;this.o=d;this.q=new Gjc(a,f,l);this.A=h;this.j=null;V.RU.$(!0);this.L=new S(this);V.RU.Pa("action",this.Cwa,this)}C(Vkc,L);u=Vkc.prototype;
u.wnb=function(){this.j||(this.j=new W6(this.q,0,uf(Se.getInstance())),this.j.render(this.o.mz()),this.L.D(this.j,"hide",this.vnb).D(this.j.getElement(),"mouseup",this.xnb));var a=QE(this.o);a&&a.QF(!0);this.j.setVisible(!0,!0);a=iv(this.k,rv(this.k));this.j.setContent(a.getRawHyperlink(),a.getDisplayValue());Wkc(this)};function Wkc(a){if(a.j.Ea()){var b=lv(a.k,rv(a.k)),c=Ux(a.o.j,b),b=Jx(a.o.j,Uf(b,"r"),"r");Qjc(a.j,c.left,c.top+b);dh(function(){U6(this.j);this.A.j(2)},0,a)}}
u.Cwa=function(a){var b=a.getUrl();if(b){"#"==b[0]&&(b=Oba(window.location.href,b.substring(1)));b=b.replace('"','""');a=(a=a.getText())?a.replace(/"/g,'""'):b;b='=HYPERLINK("'+b+'"'+dSa(this.C)+'"'+a+'")';a=new vK(this.k,sv(this.k),!1);this.B.Ib(a);var c=rv(this.k);a=new wF(this.k,c,b);this.B.Ib(a);b="Link inserted in "+(Ts(c)+".");Yn(b);V.Ho.$(!0)}};u.vnb=function(a){a.target==this.j&&this.A.j(3)};u.J=function(){V.RU.CN("action",this.Cwa,this);N(this.j);this.q.dispose();Vkc.G.J.call(this)};
u.xnb=function(a){a.stopPropagation()};function Xkc(){L.call(this)}C(Xkc,Kn);Xkc.prototype.j=function(){return Vkc};Sn("links",Xkc);
