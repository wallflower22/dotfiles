<!DOCTYPE html>
<html lang="en" ng-app="toolbarApp" ng-csp>
    <head>
        <meta charset="UTF-8" />
        <title>Blackfire Companion Toolbar</title>
        <link rel="stylesheet" href="../libs/angular-csp.css">
        <link rel="stylesheet" href="toolbar.css">
    </head>
    <body ng-controller="toolbarCtrl">
        <div id="blackfire-toolbar" class="blackfire-toolbar" data-slot-uuid="0824bfbc-5788-44cc-9e15-73e9abb26a0e">

            <div id="blackfireToolbarClearer-0824bfbc-5788-44cc-9e15-73e9abb26a0e" style="clear: both; height: 50px;"></div>

            <div id="blackfireToolbarMainContent-0824bfbc-5788-44cc-9e15-73e9abb26a0e" class="blackfire-toolbarreset" data-no-turbolink="">
                <div class="blackfire-toolbar-block no-hover ">
                    <div class="blackfire-toolbar-icon ">
                        <a href="https://blackfire.io/profile-slots" class="no-decoration" target="_blank">
                            <img height="35" width="35" style="height:35px;width:35px" title="Blackfire Dashboard" alt="Blackfire" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIDAgODAwIDgwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgODAwIDgwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGVsbGlwc2UgZmlsbD0iI0ZGRkZGRiIgY3g9IjQwMC43MDYiIGN5PSIzOTkuOTkxIiByeD0iMzk5LjI5NCIgcnk9IjQwMC4wMDkiLz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsPSIjRTAzRjMyIiBkPSJNMzI5LjQ1OSw2NzAuNTg3YzQuNjk3LDYuMjcyLTAuNzgyLDE0LjExNy04LjYxMSwxMy4zMzFjLTEzMC43NS0xNy4yNTQtMjIzLjkxOS0yMTAuOTgzLTEwMS43ODEtMzIzLjE0NA0KCQkJCUMzNTMuNzI5LDIzNi44NSwzODUuMDQ4LDE2My4xMjIsMzY4LjYwNSwxMjMuOTA2Yy0yLjM0OC01LjQ5MSwzLjEzMi0xMC4xOTYsNy44MjktNy44NDMNCgkJCQljNDQuNjI3LDIxLjk2MSwxNDYuNDA5LDg5LjQxNSwxMTIuNzQyLDIzNS4yOTljMCwwLDU4LjcyLTAuNzg0LDYwLjI4Ny01NS42ODhjMC01LjQ5LDYuMjYyLTcuODQzLDEwLjE3Ni0zLjkyMQ0KCQkJCWMyNS44MzcsMjMuNTMsODYuOTA2LDkwLjE5OCw3OS4wNzcsMTc4LjgyOGMtMTEuNzQ0LDEyNy4wNjItMTAwLjIxNSwxOTMuNzMtMTY1Ljk4MiwyMTAuMg0KCQkJCWMtNi4yNjMsMS41NzEtMTEuNzQzLTUuNDg5LTcuODI5LTExLjc2NWMxOC43OS0yNy40NSw1MS42NzUtODQuNzA2LTE3LjIyNC0xNDEuMThjLTUyLjQ1Ny0zOC40MzItNTguNzE5LTgwLjAwMi01MC44OS0xMDUuMTAxDQoJCQkJYzEuNTY1LTMuOTIyLTMuOTE1LTcuODQ0LTcuMDQ3LTQuNzA1QzI1NS4wOCw1MzEuNzU4LDMwMi44NCw2MzIuOTM4LDMyOS40NTksNjcwLjU4N3oiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K">
                        </a>
                    </div>
                    <div class="blackfire-toolbar-info ">
                        <div class="info-container">

                        </div>
                    </div>
                </div>

                <div class="ng-cloak blackfire-toolbar-block no-hover blackfire-toolbar-name-block">
                    <div class="blackfire-toolbar-icon block-title">
                        <a href="{{ toolbar.slot._links.graph_url.href }}" class="url-button" target="_blank">
                            <span class="slot-title">
                                {{ toolbar.slot | formatSlotLabel }}
                            </span>
                        </a>
                    </div>
                </div>

                <div class="blackfire-toolbar-block no-hover" ng-if="toolbar.status !== 'ready'">
                    <div class="blackfire-toolbar-icon">
                        <div class="blackfire-progress-block" ng-class="toolbar.progressClass">
                            <div ng-cloak>
                                <div class="blackfire-progress-container">
                                    <div class="blackfire-progress-bar" ng-style="{ 'width' : toolbar.percentage }">

                                    </div>
                                </div>
                                <span class="text-status" ng-bind-html="toolbar.statusHtml"></span>
                            </div>
                        </div>
                    </div>
                    <div class="blackfire-toolbar-info ">
                        <div class="info-container">

                        </div>
                    </div>
                </div>

                <div class="blackfire-toolbar-block  profiling-end-block">
                    <div class="blackfire-toolbar-icon profiling-end-message">    </div>
                    <div class="blackfire-toolbar-info profiling-end-message-details">
                        <div class="info-container">
                            <div class="content"></div>
                            <div class="help-message" style="display:none;">
                                <a href="https://blackfire.io/doc/troubleshooting" target="_blank">Troubleshooting?</a>
                            </div>
                        </div>
                    </div>
                </div>

                <a id="hide-button" class="hide-button" title="Close Toolbar" ng-click="hide()">
                    <svg class="" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" xml:space="preserve">
                        <path d="M3.073,16.927c-3.82-3.82-3.82-10.035,0-13.854s10.035-3.82,13.854,0s3.82,10.035,0,13.854
                        S6.892,20.747,3.073,16.927z M15.513,4.487c-3.04-3.04-7.986-3.04-11.026,0s-3.04,7.986,0,11.026s7.986,3.04,11.026,0
                        S18.553,7.527,15.513,4.487z M13.387,11.822L11.565,10l1.822-1.822c0.634-0.634,0.576-1.267,0.144-1.699
                        c-0.442-0.442-1.075-0.499-1.709,0.134L10,8.435L8.168,6.603C7.535,5.97,6.911,6.037,6.469,6.479
                        C6.037,6.911,5.97,7.535,6.603,8.168L8.435,10l-1.832,1.832c-0.634,0.634-0.566,1.258-0.125,1.699
                        c0.432,0.432,1.056,0.499,1.69-0.134L10,11.565l1.822,1.822c0.634,0.634,1.267,0.576,1.699,0.144
                        C13.963,13.089,14.021,12.456,13.387,11.822z"></path>
                    </svg>
                </a>
                <a class="help-button" title="Help?" href="https://blackfire.io/getting-started" target="_blank">
                    <svg class="" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" xml:space="preserve">
                        <path d="M10,0.2c-5.4,0-9.8,4.4-9.8,9.8s4.4,9.8,9.8,9.8s9.8-4.4,9.8-9.8S15.4,0.2,10,0.2z M10,17.8
                        c-4.3,0-7.8-3.5-7.8-7.8S5.7,2.2,10,2.2c4.3,0,7.8,3.5,7.8,7.8S14.3,17.8,10,17.8z M13.6,7.6c0,1.2-0.7,2.4-1.8,3c0,0-0.1,0-0.1,0.1
                        c-0.5,0.3-0.9,0.8-0.9,1.3c0,0.6-0.4,1-1,1c-0.6,0-1-0.4-1-1c0-1.3,0.8-2.6,2-3.1c0.5-0.3,0.7-0.8,0.7-1.3c0-0.8-0.7-1.5-1.6-1.5
                        S8.5,6.8,8.5,7.6c0,0.6-0.4,1-1,1s-1-0.4-1-1C6.5,5.7,8,4.1,10,4.1S13.6,5.7,13.6,7.6z M10.9,14.9c0,0.6-0.5,1.1-1.1,1.1
                        c-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1C10.4,13.7,10.9,14.3,10.9,14.9z"></path>
                    </svg>
                </a>
                <a ng-cloak ng-if="toolbar.status === 'waiting' || toolbar.status === 'profiling'" ng-click="abort()" class="abort-button">
                    <button>
                        <svg class="" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" xml:space="preserve">
                            <path d="M3.073,16.927c-3.82-3.82-3.82-10.035,0-13.854s10.035-3.82,13.854,0s3.82,10.035,0,13.854
                            S6.892,20.747,3.073,16.927z M15.513,4.487c-3.04-3.04-7.986-3.04-11.026,0s-3.04,7.986,0,11.026s7.986,3.04,11.026,0
                            S18.553,7.527,15.513,4.487z M13.387,11.822L11.565,10l1.822-1.822c0.634-0.634,0.576-1.267,0.144-1.699
                            c-0.442-0.442-1.075-0.499-1.709,0.134L10,8.435L8.168,6.603C7.535,5.97,6.911,6.037,6.469,6.479
                            C6.037,6.911,5.97,7.535,6.603,8.168L8.435,10l-1.832,1.832c-0.634,0.634-0.566,1.258-0.125,1.699
                            c0.432,0.432,1.056,0.499,1.69-0.134L10,11.565l1.822,1.822c0.634,0.634,1.267,0.576,1.699,0.144
                            C13.963,13.089,14.021,12.456,13.387,11.822z"></path>
                        </svg>
                        Abort
                    </button>
                </a>
                <a ng-cloak ng-if="toolbar.status === 'completed'" class="access-button url-button" href="{{ toolbar.slot._links.graph_url.href }}" target="_blank">
                    <button>
                        <svg class="" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" xml:space="preserve">
                            <path d="M13.03,9.293L9.578,5.841c-0.39-0.391-1.024-0.391-1.414,0c-0.391,0.39-0.391,1.024,0,1.414L10.908,10
                            l-2.744,2.745c-0.391,0.39-0.391,1.024,0,1.414c0.39,0.391,1.024,0.391,1.414,0l3.452-3.452c0.195-0.195,0.293-0.451,0.293-0.707
                            S13.225,9.488,13.03,9.293z M10,19.796c5.402,0,9.796-4.395,9.796-9.796S15.402,0.204,10,0.204S0.204,4.598,0.204,10
                            S4.598,19.796,10,19.796z M10,17.796c-4.299,0-7.796-3.497-7.796-7.796c0-4.299,3.497-7.796,7.796-7.796S17.796,5.701,17.796,10
                            C17.796,14.299,14.299,17.796,10,17.796z"></path>
                        </svg>
                        View profile
                    </button>
                </a>
            </div>
            <div ng-cloak ng-if="toolbar.flashMessage" class="blackfire-flash-message {{ toolbar.flashClass }}">
                <span>
                    <svg class="" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" xml:space="preserve">
                        <path d="M10,0.2c5.4,0,9.8,4.4,9.8,9.8s-4.4,9.8-9.8,9.8S0.2,15.4,0.2,10S4.6,0.2,10,0.2z M10,17.8
                        c4.3,0,7.8-3.5,7.8-7.8S14.3,2.2,10,2.2c-4.3,0-7.8,3.5-7.8,7.8S5.7,17.8,10,17.8z M11.2,10.2c0,1-0.5,1.4-1.2,1.4
                        c-0.7,0-1.2-0.4-1.2-1.4v-4c0-1,0.5-1.4,1.2-1.4c0.7,0,1.2,0.4,1.2,1.4V10.2z M11.3,14.1c0-0.7-0.6-1.3-1.3-1.3
                        c-0.7,0-1.3,0.6-1.3,1.3c0,0.7,0.6,1.3,1.3,1.3C10.7,15.4,11.3,14.8,11.3,14.1z"></path>
                    </svg>
                </span>
                <span class="content nowrap">
                    {{ toolbar.flashMessage }}
                </span>
                <span class="help-message" ng-if="toolbar.flashError">
                    <a href="https://blackfire.io/doc/troubleshooting" target="_blank">Troubleshooting?</a>
                </span>
            </div>

            <script src="../libs/raven.js"></script>
            <script src="../libs/raven-jquery.js"></script>
            <script src="../js/config.js"></script>
            <script src="../js/raven-client.js"></script>
            <script src="../libs/q.js"></script>
            <script src="../js/filters/filters.js"></script>
            <script src="../libs/jquery.js"></script>
            <script src="../libs/angular.js"></script>
            <script src="../js/chrome.js"></script>
            <script src="js/controllers.js"></script>
        </div>
    </body>
</html>
