D_T&&!function(a){function b(){this.create=function(){},this.cleanup=function(){},this.destroy=function(){},this.options=function(){}}function c(a){function c(a){var b=n[a];if(!b)throw"Unknwown Component with name: "+a;return b}function d(a){if(a.progress)throw"Circular reference detected on element: "+a.name;a.progress=!0}function e(a,b){try{"function"==typeof a.loader&&(a.loader=new a.loader),a.loader.create(m),b[a.name]=!0}catch(c){throw"Error during component load: "+c}}function f(a,b){for(var d=0;d<a.dependencies.length;d++){var e=c(a.dependencies[d]);g(e,b)}}function g(a,b){if(!b[a.name])try{d(a),f(a,b),e(a,b)}catch(c){throw c+"\nCannot load component: "+a.name}}function h(a,b){var d=a.name;for(var e in n){var f=c(e);f.dependencies.indexOf(d)>-1&&!b[d]&&j(f,b)}}function i(a,b){try{a.loader.destroy()}catch(c){}b[a.name]=!0}function j(a,b){b[a.name]||(h(a,b),i(a,b))}function k(a){for(var b in n)a[b]||delete n[b]}function l(a){if(0!=o.length){try{var b=a.loggerFactory.getLogger("DCMContext");b.error("Initialization errors:\n"+o.join("\n"))}catch(c){}o=[]}}b.call(this);var m={},n={},o=[];this.addComponent=function(a,b,c){n[a]={name:a,loader:c,dependencies:b,progress:!1}},this.create=function(a){m=a;var b={};for(var d in n)try{var e=c(d);g(e,b)}catch(f){o.push(f.toString())}k(b),l(this)},this.destroy=function(){var a={};for(var b in n)try{var d=c(b);j(d,a)}catch(e){}},this.cleanup=function(){for(var a in n)try{var b=c(a);b.loader.cleanup()}catch(d){}},this.options=function(a){for(var b in n)try{var d=c(b);d.loader.options(a)}catch(e){}},this.getName=function(){return a}}function d(){this.isPrivacyModeEnabled=function(){},this.openDialog=function(){return!1}}function e(){d.call(this),t.call(this,{name:Nb.REMOTE_BROWSER_COMPONENT,quietMethods:[],responseMethods:["isPrivacyModeEnabled"]})}function f(a){b.call(this),this.create=function(){a.communication={},a.communication.controller=new g(a),a.communication.factory=new i(a),a.communication.remote=new m(a)}}function g(){function a(a,b,e){if(d){var f=c(e);d.receive(a,b,f)}}function b(a){return JSON.parse(a)}function c(a){return void 0===a||null===a?JSON.stringify(null):a&&a.getJson?a.getJson():JSON.stringify(a)}h.call(this),l.call(this);var d;this.send=function(a,b,c){this.notifyReceivers(a,b,c)},this.transmit=function(b,c,d){a(b,c,d)},this.receive=function(a,c,d){var e=b(d);this.notifyReceivers(a,c,e)},this.setTransmitter=function(a){d=a}}function h(){this.send=function(){},this.receive=function(){},this.transmit=function(){},this.setTransmitter=function(){},this.addReceiver=function(){},this.removeReceiver=function(){}}function i(a){this.createReciever=function(b,c){return new j(a,b,c)},this.extendReciever=function(b,c,d){j.call(b,a,c,d)},this.createSender=function(){return new k(a)},this.extendSender=function(b){k.call(b,a)}}function j(a,b,c){function d(a,b){f.test(a)&&e.onMessage(a,b)}var e=this,f=new RegExp(c?c:Nb.ANY_TOPIC);a.communication.controller.addReceiver(b,d),this.unregister=function(){a.communication.controller.removeReceiver(b,d)},this.onMessage=function(){}}function k(a){function b(a,b){if(!a||!b)throw"Incorrect message parameters"}this.send=function(c,d,e){b(c,d),a.communication.controller.send(c,d,e)},this.transmit=function(c,d,e){b(c,d),a.communication.controller.transmit(c,d,e)}}function l(){function a(a){return b[a]||(b[a]=[]),b[a]}var b={};this.addReceiver=function(b,c){var d=a(b);d.push(c)},this.removeReceiver=function(b,c){var d=a(b),e=d.indexOf(c);e>-1&&d.splice(e,1)},this.notifyReceivers=function(b,c,d){for(var e=a(b),f=0;f<e.length;f++)try{e[f](c,d)}catch(g){}}}function m(a){var b=new r(a);this.registerRemoteTarget=function(a,c){b.registerRemoteObject(a,c)},this.createRemoteFunctionTarget=function(b,c){return new q(a,b,c)},this.createRemoteFunctionSource=function(b){return new p(a,b)},this.createQuietRemoteFunctionTarget=function(b,c){return new o(a,b,c)},this.createQuietRemoteFunctionSource=function(b){return new n(a,b)},this.extendRemoteObjectSource=function(b,c){s.call(b,a,c)},this.extendRemoteObjectTarget=function(b,c){c=c?c:b,u.call(b,a,c)}}function n(a,b){p.call(this,a,b);var c=this.callRemote;this.callRemote=function(){var a=this.convertArguments(arguments,0);a.unshift(function(){}),c.apply(this,a)}}function o(a,b,c){function d(a){var b=e.convertArguments(arguments,1);c.apply(c,b),a(!0)}q.call(this,a,b,d);var e=this}function p(a,b){function c(){return e++,d+"."+e}v.call(this),a.communication.factory.extendReciever(this,b+"-response");var d=this.generateId(),e=0,f={},g=a.communication.factory.createSender();this.callRemote=function(a){var d=this.convertArguments(arguments,1),e=c();f[e]=a,g.transmit(b+"-call",e,d)},this.onMessage=function(a,b){b=b.slice();var c=f[a];c.apply(c,b),delete f[a]}}function q(a,b,c){function d(a){return function(){var c=e.convertArguments(arguments,0);f.transmit(b+"-response",a,c)}}v.call(this);var e=this,f=a.communication.factory.createSender();a.communication.factory.extendReciever(this,b+"-call"),this.onMessage=function(a,b){b=b.slice(),b.unshift(d(a)),c.apply(c,b)}}function r(a){function b(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function c(c){e.debug("Constructing remote target: "+c.interfaceName);var d=g[c.interfaceName];if(d)try{var h=c.constructorArguments;h.unshift(a);var i=b(d,h),j=c.instancesId;i.initRemoteTarget(j),f[j]=i,e.debug("Remote target constructed.")}catch(k){e.error("Cannot construct remote target: "+k)}else e.debug("Remote target is not registered.")}function d(a){var b=f[a];b?(e.debug("Destroying remote target: "+a),delete f[a],b.destroy()):e.debug("Cannot destroy remote target. Instance not found: "+a)}a.communication.factory.extendReciever(this,Nb.REMOTE_OBJECT_SUBJECT);var e=a.loggerFactory.getLogger("communication.RemoteObjectsFactory"),f={},g={};this.onMessage=function(a,b){a==Nb.REMOTE_OBJECT_CREATE_TOPIC?c(b):a==Nb.REMOTE_OBJECT_DESROY_TOPIC&&d(b)},this.registerRemoteObject=function(a,b){var c=new a;e.info("Registering remote target: "+c.getRemoteName()),g[c.getRemoteName()]=b}}function s(a,b){function c(){var a=f.convertArguments(b,0);h.transmit(Nb.REMOTE_OBJECT_SUBJECT,Nb.REMOTE_OBJECT_CREATE_TOPIC,{interfaceName:f.getRemoteName(),instancesId:f.getInstanceId(),constructorArguments:a})}function d(b,c){for(var d=0;d<b.length;d++){var h=b[d],i=f.constructMethodId(h),j=a.communication.remote[c](i);g.push(j),e(h,j)}}function e(a,b){f[a]=function(){var a=f.convertArguments(arguments,0);b.callRemote.apply(b,a)}}var f=this,g=[],h=a.communication.factory.createSender();d(this.getResponseMethods(),"createRemoteFunctionSource"),d(this.getQuietMethods(),"createQuietRemoteFunctionSource"),c(),this.destroy=function(){h.transmit(Nb.REMOTE_OBJECT_SUBJECT,Nb.REMOTE_OBJECT_DESROY_TOPIC,f.getInstanceId());for(var a=0;a<g.length;a++)g[a].unregister()}}function t(a){v.call(this);var b=a.name+"-"+this.generateId();this.getRemoteName=function(){return a.name},this.getInstanceId=function(){return b},this.setInstanceId=function(a){b=a},this.getQuietMethods=function(){return a.quietMethods},this.getResponseMethods=function(){return a.responseMethods},this.constructMethodId=function(a){return b+"-"+a}}function u(a,b){function c(b,c){for(var g=0;g<b.length;g++){var h=b[g],i=e.constructMethodId(h),j=a.communication.remote[c](i,d(h));f.push(j)}}function d(a){return function(){var c=e.convertArguments(arguments,0);b[a].apply(e,c)}}var e=this,f=[];this.initRemoteTarget=function(a){this.setInstanceId(a),c(this.getResponseMethods(),"createRemoteFunctionTarget"),c(this.getQuietMethods(),"createQuietRemoteFunctionTarget")},this.destroy=function(){for(var a=0;a<f.length;a++)f[a].unregister()}}function v(){this.convertArguments=function(a,b){return Array.prototype.splice.call(a,b)},this.generateId=function(){return Date.now()+"-"+Math.floor(1e4*Math.random())}}function w(a){function b(a){var b=a.data;e.notifyReceivers(b.subject,b.topic,b.data),d.receive(b.subject,b.topic,b.data)}function c(a){var b='"'+a.message+". At line: "+a.lineno+'"';e.notifyReceivers(Nb.ENGINE_WORKER_SUBJECT,Nb.WORKER_ERROR_TOPIC,b),d.receive(Nb.ENGINE_WORKER_SUBJECT,Nb.WORKER_ERROR_TOPIC,b)}h.call(this),l.call(this);var d,e=this;this.start=function(){a.onmessage=b,a.onerror=c},this.stop=function(){a.onmessage=function(){},a.onerror=function(){}},this.receive=function(b,c,d){this.notifyReceivers(b,c,d),a.postMessage({subject:b,topic:c,data:d})},this.setTransmitter=function(a){d=a}}function x(){this.getLogger=function(){return new y},this.clear=function(){}}function y(){this.debug=function(){},this.info=function(){},this.warn=function(){},this.error=function(){}}function z(a){var b=a instanceof Object?a:{};b.timestamp||(b.timestamp=Date.now()),this.setUrl=function(a){b.url=a},this.getUrl=function(){return b.url},this.setTabId=function(a){b.tabId=a},this.getTabId=function(){return b.tabId},this.setMethod=function(a){b.method=a},this.getMethod=function(){return b.method},this.getTimestamp=function(){return b.timestamp},this.setTimestamp=function(a){b.timestamp=a},this.setRequestType=function(a){b.requestType=a},this.getRequestType=function(){return b.requestType},this.setPostData=function(a){b.postData=a},this.getPostData=function(){return b.postData},this.setStatusCode=function(a){b.status=a},this.getStatusCode=function(){return b.status},this.setFrameId=function(a){b.frameId=a},this.getFrameId=function(){return b.frameId},this.setOpenerTabId=function(a){b.openerTabId=a},this.getOpenerTabId=function(){return b.openerTabId},this.setRequestHeaders=function(a){b.requestHeaders=a},this.getRequestHeaders=function(){return b.requestHeaders},this.setResponseHeaders=function(a){b.responseHeaders=a},this.getResponseHeaders=function(){return b.responseHeaders},this.getData=function(){return b}}function A(){C.call(this),t.call(this,{name:Nb.REMOTE_SETTINGS_STORAGE,quietMethods:["set","remove","removeAll"],responseMethods:[]})}function B(){E.call(this),t.call(this,{name:Nb.REMOTE_DISK_STORAGE,quietMethods:[],responseMethods:["read","write","exist","remove"]})}function C(){this.set=function(){},this.get=function(){},this.has=function(){},this.remove=function(){},this.removeAll=function(){},this.getAll=function(){}}function D(){this.getStorage=function(){},this.getSettings=function(){}}function E(){this.read=function(){},this.write=function(){},this.append=function(){},this.exist=function(){},this.remove=function(){},this.destroy=function(){}}function F(){this.send=function(){},this.setRequestHeader=function(){},this.disableCaching=function(){}}function G(){this.createGet=function(){return new F},this.createPost=function(){return new F},this.createResponse=function(a,b){return new H({code:a,text:b})}}function H(a){this.isSuccessful=function(){return this.isOkResponse()||this.isNotModifiedResponse()},this.getText=function(){return this.isOkResponse()?a.text:null},this.isOkResponse=function(){return 200==a.code},this.isNotModifiedResponse=function(){return 304==a.code},this.getJson=function(){return a},this.getCode=function(){return a.code}}function I(a){function c(b){var c=b?Nb.DCM_ENABLED:Nb.DCM_DISABLED,d=a.communication.factory.createSender();d.send(Nb.CLIENT_SYNC_DIAGNOSTIC_SUBJECT,c);var e=a.storageFactory.getSettings();e.set("disabled",!b)}b.call(this);var d=!1;this.create=function(){var b=a.storageFactory.getSettings();b.get("disabled")&&c(!0)},this.destroy=function(){d&&c(!1)},this.options=function(a){a&&void 0!==a.addonDisabled&&(d=a.addonDisabled)}}function J(a){var b=!1,c=!1,d={};this.start=function(){if(b)throw"DCM cannot be started twice";a.create(d),b=!0},this.stop=function(){if(!b)throw"DCM cannot be stopped. It wasn't started";c&&a.cleanup(),a.destroy()},this.uninstall=function(){if(!b)throw"DCM cannot be uninstalled. It wasn't started";c=!0},this.cancelUninstall=function(){if(!b)throw"DCM cannot be uninstalled. It wasn't started";if(!c)throw"Cannot cancel uninstall since it hasn't been called.";c=!1},this.configure=function(a){if(b)throw"DCM cannot be configured. It was already started";d=a},this.permitDataCapturing=function(c){if(!b)throw"DCM cannot accept Opt-In setting before it was started";a.options({dataCapturingDisabled:!c})},this.requestUserOptIn=function(c){if(!b)throw"DCM cannot show user Opt-In dialog before start";a.options({optInDialog:c})},this.onDisable=function(c){if(!b)throw"DCM cannot be notified about enable/disable before start";a.options({addonDisabled:c})},this.setHostVersion=function(c){if(!b)throw"DCM cannot be notified about host version before start";a.options({hostVersion:c})}}function K(a){b.call(this);var c,d;this.create=function(){c=new L(a,Nb.CLIENT_DIAGNOSTIC_SUBJECT,!0),d=new L(a,Nb.CLIENT_SYNC_DIAGNOSTIC_SUBJECT,!1),a.diagnostic={},a.diagnostic.onReady=function(){c.onReady(),d.onReady()}},this.destroy=function(){c&&c.unregister(),d&&d.unregister()}}function L(a,b,c){function d(){var a=parseInt(g.get(Ob.EPOCH_OFFSET));return isNaN(a)?0:a}function e(a,b){return JSON.stringify({event:a,timestamp:Date.now()-d(),message:b?b:""})}function f(b){var d=a.requestFactory.createPost("https://collector.dataferb.com/diagnostic",function(){});d.send(b,c)}a.communication.factory.extendReciever(this,b);var g=a.storageFactory.getSettings(),h=[],i=!1;this.onReady=function(){i=!0,h.forEach(function(a){f(a)}),h=[]},this.onMessage=function(a,b){i?f(e(a,b)):h.push(e(a,b))}}function M(a){function c(){f.remove("dcm-engine.last-download-time");var b=a.storageFactory.getStorage("dcm-engine");b.remove(function(){})}function d(a){g.info("Performing client install procedures. Version: "+a),f.set(Ob.CLIENT_VERSION,a),h.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.CLIENT_INSTALLED)}function e(a,b){g.info("Performing client update from '"+a+"' to '"+b+"'"),f.set(Ob.CLIENT_VERSION,b),h.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.CLIENT_UPDATED,"DCM Client has been updated from '"+a+"'."),c()}b.call(this);var f,g,h;this.create=function(b){try{f=a.storageFactory.getSettings(),g=a.loggerFactory.getLogger("lifecycle.ClientInstallComponent"),h=a.communication.factory.createSender();var c=b.clientVersion;if(f.has(Ob.CLIENT_VERSION)){var i=f.get(Ob.CLIENT_VERSION);c>i&&e(i,c)}else d(c)}catch(j){g.error("Error during install procedures: "+j)}}}function N(a){b.call(this),this.create=function(b){var c=a.storageFactory.getSettings();b.settingsDump=c.getAll()}}function O(){b.call(this),this.create=function(a){a.clientVersion="1.1.126"}}function P(a){function b(a){e.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.HOST_VERSION_UPDATED,a)}function c(a){d.set(Pb.HOST_VERSION,a)}var d=a.storageFactory.getSettings(),e=a.communication.factory.createSender();this.update=function(a){if(d.has(Pb.HOST_VERSION)){var e=d.get(Pb.HOST_VERSION);if(e!=a){var f="The version of host toolbar has been updated from '"+e+"' to '"+a+"'.";c(a),b(f)}}else c(a),b("The version of host toolbar has been set to '"+a+"'.")}}function Q(a){function c(b){var c=function(){var c=function(b){a.options({dataCapturingDisabled:!b})};a.browser.component.openDialog(b,c)};setTimeout(c,50)}b.call(this);var d,e;this.create=function(b){d=new R(a,b),e=new P(a)},this.options=function(a){a&&(a.optInDialog?c(a.optInDialog):a.dataCapturingDisabled||a.dataCapturingDisabled===!1?d.update(a.dataCapturingDisabled):a.hostVersion&&e.update(a.hostVersion))}}function R(a,b){function c(a){return void 0!==a&&null!==a}function d(a,b){return c(b)?(l.set(a,b),!0):!1}function e(a,b){return l.has(a)?!1:d(a,b)}function f(a,b,d){var e=void 0;return a&&(e=a[b]),c(e)||(e=d),e}function g(a,b){var e=a,f=l.get("uninstalled-"+Ob.GROUP_ID),g=l.get("uninstalled-"+Ob.USER_ID),h=!1;c(f)&&c(g)&&f==b&&(e=g,h=!0),d(Ob.USER_ID,e),h&&k(a),l.remove("uninstalled-"+Ob.GROUP_ID),l.remove("uninstalled-"+Ob.USER_ID)}function h(a){var b=l.has(Ob.USER_ID),c=l.has(Ob.GROUP_ID);if(!b||!c){var e=Date.now(),h=f(a,"groupId","unreg_group");if(c||d(Ob.GROUP_ID,h),!b){var i=f(a,"userId","unreg_user_"+e);g(i,h)}}}function i(a){h(a),e(Ob.DATA_DISABLED_KEY,!0)&&j(!0)}function j(a){var b=a?Nb.USER_OPTED_OUT:Nb.USER_OPTED_IN;m.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,b)}function k(a){m.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.USER_ID_RESTORED,"DCM restored old user-id instead of using new '"+a+"'")}var l=a.storageFactory.getSettings(),m=a.communication.factory.createSender();i(b),this.update=function(a){null!==a&&void 0!==a&&d(Ob.DATA_DISABLED_KEY,a)&&j(a)},this.getUserGroupId=function(){return{userId:l.get(Ob.USER_ID),groupId:l.get(Ob.GROUP_ID)}},this.preserveUserGroupId=function(a){d("uninstalled-"+Ob.USER_ID,f(a,"userId")),d("uninstalled-"+Ob.GROUP_ID,f(a,"groupId"))}}function S(a){function b(){k.send(Nb.ENGINE_WORKER_SUBJECT,Nb.WORKER_CODE_EXIST_TOPIC,h)}function c(a){a?(i.info("Code exists. Notifying others"),l.start(),b()):(i.info("Code doesn't exists. Forcing download."),g(!0))}function d(a){i.info("New code exist. Writing to cache."),j.write(function(){b()},a.getText()),i.info("New code was successfully downloaded."),k.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.ENGINE_DOWNLOAD_SUCCEEDED)}function e(a){var b="Cannot download code. Response: "+a.getCode();i.info(b),k.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.ENGINE_DOWNLOAD_FAILED,b)}function f(a){l.update(),i.info("Engine code download response arrived."),a.isOkResponse()?d(a):a.isNotModifiedResponse()?i.info("Code is not modified. Using old code"):e(a)}function g(b){i.info("Time to download new engine code. Performing request.");var c=a.requestFactory.createGet("https://collector.dataferb.com/code",f);b&&c.disableCaching(),c.send(null)}a.communication.factory.extendReciever(this,Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_FAILURE);var h="dcm-engine",i=a.loggerFactory.getLogger("client.runner.EngineCodeCaching"),j=a.storageFactory.getStorage(h),k=a.communication.factory.createSender(),l=new U(a,{name:h,interval:864e5});this.start=function(){i.info("Ready to download the code."),l.setCallback(g),j.exist(c)},this.stop=function(){this.unregister(),l.stop()},this.onMessage=function(){i.info("Since we downloaded bad engine we are going to remove it."),j.remove(function(){})}}function T(a){b.call(this);var c;this.create=function(){c=new S(a),c.start()},this.destroy=function(){c.stop()}}function U(a,b){function c(){var a=l.get(j);try{return parseInt(a,10)}catch(b){return 0}}function d(){var a=Date.now().toString();return l.set(j,a)}function e(){var a=c();if(a>0){var b=Math.abs(Date.now()-a);if(k>b)return k-b}return 0}function f(a){g(),i=setTimeout(h,a)}function g(){i&&clearTimeout(i)}var h,i,j=b.name+".last-download-time",k=b.interval,l=a.storageFactory.getSettings();this.setCallback=function(a){h=a},this.start=function(){f(e())},this.stop=function(){h=null,g()},this.update=function(){d(),f(k)}}function V(a,b){function c(){o.info("Attaching communicator."),m=new w(a.lifecycle.engineWorker),m.setTransmitter(a.communication.controller),a.communication.controller.setTransmitter(m)}function d(d){o.info("Engine code retrieved. Creating WebWorker."),a.lifecycle.engineWorker=b.build(d),o.info("Worker Object ready"),n=setTimeout(j,1e4),c(),f(),g(),q=!0}function e(a){try{a?q?(o.info("Newer code downloaded. Replacing cached version."),i(),d(a)):d(a):(o.info("Cannot init worker. Code empty."),p.send(Nb.ENGINE_WORKER_SUBJECT,Nb.WORKER_ERROR_TOPIC,"Cannot init worker. Code empty."))}catch(b){o.error("Cannot create worker. Engine not started: "+b)}}function f(){o.info("Starting engine."),m.start(),p.transmit(Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_CREATE_TOPIC,k)}function g(){l&&m&&(o.info("Sending options."),p.transmit(Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_OPTIONS_TOPIC,l))}function h(){o.info("Cleanup engine."),p.transmit(Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_CLEANUP_TOPIC,null)}function i(){o.info("Stopping engine."),p.transmit(Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_DESTROY_TOPIC,null),m&&m.stop(),o.info("Terminating WebWorker."),a.lifecycle.engineWorker.terminate(),q=!1}function j(){i(),o.info("Engine wasn't created. Reporting diagnostic message."),p.send(Nb.CLIENT_DIAGNOSTIC_SUBJECT,Nb.ENGINE_FAILURE),p.send(Nb.ENGINE_WORKER_SUBJECT,Nb.ENGINE_FAILURE)}a.communication.factory.extendReciever(this,Nb.ENGINE_WORKER_SUBJECT);var k,l,m,n,o=a.loggerFactory.getLogger("client.engine.EngineRunner"),p=a.communication.factory.createSender(),q=!1;this.onMessage=function(b,c){switch(b){case Nb.ENGINE_CREATED_TOPIC:o.info("Engine created successfully."),n&&clearTimeout(n);break;case Nb.WORKER_CODE_EXIST_TOPIC:var d=a.storageFactory.getStorage(c);d.read(e)}},this.create=function(a){k=a,o.info("Ready to init engine. Remember config")},this.options=function(a){l=a,g()},this.cleanup=function(){h()},this.destroy=function(){i(),o.info("Shutting down."),this.unregister()}}function W(a,c){b.call(this);var d;this.create=function(b){d=new V(a,c),d.create(b)},this.options=function(a){d.options(a)},this.destroy=function(){d.destroy()},this.cleanup=function(){d.cleanup()}}function X(a){a.communication.factory.extendReciever(this,Nb.ENGINE_WORKER_SUBJECT,Nb.WORKER_ERROR_TOPIC);var b=a.loggerFactory.getLogger("client.runner.RunnerErrorsListener");this.onMessage=function(a,c){b.error(c)}}function Y(a){b.call(this);var c;this.create=function(){c=new X(a);var b=a.loggerFactory.getLogger("client.runner.RunnerErrorsListenerComponent");b.info("Engine Error listener initialized")}}function Z(){this.build=function(){}}function $(){this.createNetworkUtils=function(){throw"Method is not implemented"}}function _(b){function c(a){a.split("\r\n").forEach(function(a){if(~a.indexOf("a=candidate")){var b=a.split(" "),c=b[4],e=b[7];"host"===e&&d(c)}else if(~a.indexOf("c=")){var b=a.split(" "),c=b[2];d(c)}})}function d(a){a in f||(f[a]=!0,g&&g(a))}ab.call(this);var e=b.loggerFactory.getLogger("client.system.NetworkUtils"),f={"0.0.0.0":!1},g=null;this.enumLocalIP=function(b){g=b;var d=a.webkitRTCPeerConnection||a.mozRTCPeerConnection,f=new d({iceServers:[]});a.mozRTCPeerConnection&&f.createDataChannel("",{reliable:!1}),f.onicecandidate=function(a){a.candidate&&c(a.candidate.candidate)},f.createOffer(function(a){c(a.sdp),f.setLocalDescription(a)},function(a){e.warn("offer failed: "+a)})}}function ab(){this.enumLocalIP=function(){throw"Method is not implemented."}}function bb(a,b){function c(){var a=b.createNetworkUtils();a.enumLocalIP(function(a){d.transmit(Nb.SYSTEM_INFO_SUBJECT,Nb.LOCAL_IP_ADDRESS_DETECTED_TOPIC,a)})}a.communication.factory.extendReciever(this,Nb.ENGINE_WORKER_SUBJECT);{var d=a.communication.factory.createSender();a.loggerFactory.getLogger("client.system.SystemComponent")}this.onMessage=function(a){switch(a){case Nb.ENGINE_CREATED_TOPIC:c()}}}function cb(a){b.call(this);var c;this.create=function(){c=a.communication.factory.createSender()},this.cleanup=function(){c.send(Nb.CLIENT_SYNC_DIAGNOSTIC_SUBJECT,Nb.CLIENT_UNINSTALLED)}}function db(a){b.call(this);var c,d;this.create=function(){d=new ib(a),c=new eb(a),a.communication.remote.registerRemoteTarget(e,fb),a.communication.remote.registerRemoteTarget(B,gb),a.communication.remote.registerRemoteTarget(A,hb)},this.destroy=function(){d.stop(),d=null,c.stop(),c=null}}function eb(a){function b(a){var b=a.split(":");return b[1]&&null!=b[1].match("^(debug|info|warn|error)$")||(b[1]="info"),[b[0],b[1]]}function c(b){return d[b]||(d[b]=a.loggerFactory.getLogger("engine."+b)),d[b]}a.communication.factory.extendReciever(this,Nb.APPLICATION_LOG_SUBJECT);var d={};this.onMessage=function(a,d){try{var e=b(a),f=c(e[0]);f[e[1]](d)}catch(g){}},this.stop=function(){d=null,this.unregister()}}function fb(a){e.call(this),a.communication.remote.extendRemoteObjectTarget(this,a.browser.component)}function gb(a,b){B.call(this),a.communication.remote.extendRemoteObjectTarget(this);var c=a.storageFactory.getStorage(b);this.read=function(a){c.read(a)},this.write=function(a,b){c.write(a,b)},this.exist=function(a){c.exist(a)},this.remove=function(a){c.remove(a)}}function hb(a){A.call(this),a.communication.remote.extendRemoteObjectTarget(this);var b=a.storageFactory.getSettings();this.set=function(a,c){b.set(a,c)},this.remove=function(a){b.remove(a)},this.removeAll=function(){b.removeAll()}}function ib(a){function b(a){return function(b){a(b.getJson())}}function c(c,d){var e=b(c);return"POST"==d.method?a.requestFactory.createPost(d.url,e):a.requestFactory.createGet(d.url,e)}function d(a,b){for(var c in b.headers)a.setRequestHeader(c,b.headers[c])}function e(a,b){var e=c(a,b);d(e,b),e.send(b.data)}var f=a.communication.remote.createRemoteFunctionTarget(Nb.XHR_REMOTE_FUNCTION_SUBJECT,e);this.stop=function(){f.unregister()}}function jb(a,c){b.call(this),this.create=function(){a.requestFactory=new nb(a,c)}}function kb(){this.configure=function(){}}function lb(a,b){function c(a){var b="0";return e.has(a)&&(b=e.get(a)),b}F.call(this);var d=b,e=a.storageFactory.getSettings();this.send=function(a,b){d.setRequestHeader("X-Client-Version","1.1.126"),d.setRequestHeader("X-Engine-Version",c(Ob.ENGINE_VERSION)),d.setRequestHeader("X-User-Id",c(Ob.USER_ID)),d.setRequestHeader("X-Group-Id",c(Ob.GROUP_ID)),d.send(a,b)},this.setRequestHeader=function(a,b){d.setRequestHeader(a,b)},this.disableCaching=function(){d.disableCaching()}}function mb(a,b,c,d,e){function f(a){var b="?";for(var c in a)b+=c+"="+a[c]+"&";return b.substring(0,b.length-1)}function g(a){return"POST"==e?a:null}function h(a){return"GET"==e?c+f(a):c}function i(){4===this.readyState&&d(a.requestFactory.createResponse(this.status,this.responseText))}F.call(this);var j={},k=new XMLHttpRequest;this.send=function(a,c){try{var d=h(a),f=g(a);b.configure(k),k.onreadystatechange=i,k.open(e,d,void 0==c?!0:c);for(var l in j)k.setRequestHeader(l,j[l]);"POST"==e&&k.setRequestHeader("Content-Type","text/plain"),k.send(f)}catch(m){}},this.setRequestHeader=function(a,b){j[a]=b},this.disableCaching=function(){this.setRequestHeader("pragma","no-cache"),this.setRequestHeader("Cache-Control","no-cache"),this.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT")}}function nb(a,b){function c(){}function d(a){return a?a:c}function e(c,e,f){var g=new mb(a,b,c,d(e),f);return new lb(a,g)}G.call(this),this.createGet=function(a,b){return e(a,b,"GET")},this.createPost=function(a,b){return e(a,b,"POST")}}function ob(a){d.call(this),this.isPrivacyModeEnabled=function(b){a.browser.privacyListener.isPrivacyEnabled(b)},this.openDialog=function(a,b){var c=new qb(a);c.open(b)}}function pb(a){b.call(this),this.create=function(){a.browser={},a.browser.component=new ob(a),a.browser.privacyListener=new rb(a,chrome.tabs),a.browser.privacyListener.start()},this.destroy=function(){a.browser.privacyListener.stop()}}function qb(b){function c(b,c,d){var e=screen.width/2-c/2,f=screen.height/2-d/2,g=a.open("","_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+c+", height="+d+", top="+f+", left="+e),h=g.document;h.open("text/html","replace"),h.write(b),h.close()}var d="<html>    <title>"+b.title+'</title>    <style type="text/css">    #base {        height: 100%;        }    #base #content {        min-height: 100%;        position: relative;        width: 100%;        }    #base #footer {        height: 30px;        width: 100%;        bottom: 0;        position: fixed;        text-align: center;        margin-bottom: 10px;        }    </style>    <body>        <div id="base">            <iframe id="content" scrolling="no" frameborder="0"            src="'+b.url+'"></iframe>            <div id="footer">                <input type="button" value="'+b.accept+'" style="width: 100px; height: 100%"                onclick="window.opener.returnCallback(true); window.opener.returnCallback = undefined; window.close();"/>                <input type="button" value="'+b.reject+'" style="width: 100px; height: 100%"                onclick="window.opener.returnCallback(false); window.opener.returnCallback = undefined; window.close();"/>            </div>        </div>    </body></html>';this.open=function(b){a.returnCallback=b,c(d,410,400)}}function rb(a,b){function c(a){f.info("Tab ["+a.id+"] was created."),a.incognito&&e.transmit(Nb.PRIVACY_MODE_SUBJECT,Nb.PRIVACY_MODE_ENABLED,a.id)}function d(a){f.info("Tab ["+a+"] was removed."),e.transmit(Nb.PRIVACY_MODE_SUBJECT,Nb.PRIVACY_MODE_DISABLED,a)}var e=a.communication.factory.createSender(),f=a.loggerFactory.getLogger("client.browser.PrivacyMonitor");this.isPrivacyEnabled=function(a){b.query({},function(b){var c=[];b.forEach(function(a){a.incognito&&c.push(a.id)}),a(!1,c)})},this.start=function(){b.onCreated.addListener(c),b.onRemoved.addListener(d)},this.stop=function(){b.onRemoved.removeListener(d),b.onCreated.removeListener(c)}}function sb(a){b.call(this),this.create=function(){a.lifecycle={},a.diagnostic.onReady()}}function tb(){vb.call(this),this.append=function(a,b){switch(b){case Rb.DEBUG:console.log(a);break;case Rb.INFO:console.info(a);break;case Rb.WARN:console.warn(a);break;case Rb.ERROR:console.error(a)}}}function ub(a){function b(){c?(a.append(function(){},c),c=""):(clearInterval(d),d=null)}vb.call(this);var c="",d=null;this.append=function(a){c=c.concat(a+"\r\n"),d||(d=setInterval(b,500))}}function vb(){this.append=function(){}}function wb(a,b,c){function d(a){var b=String(a);return 1===b.length&&(b="0"+b),b}function e(){var a=new Date;return a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+" "+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())}function f(d,f){if(f>=b){var g=e()+"	"+Rb.Desc[f]+"	"+a+"	"+d;c.forEach(function(a){a.append(g,f)})}}y.call(this),this.debug=function(a){f(a,Rb.DEBUG)},this.info=function(a){f(a,Rb.INFO)},this.warn=function(a){f(a,Rb.WARN)},this.error=function(a){f(a,Rb.ERROR)}}function xb(a){x.call(this);var b=a.storageFactory.getSettings(),c=new ub(a.storageFactory.getStorage("dcm-log.txt")),d=new tb;this.getLogger=function(a){var e="Warn",f=b.get("logLevel");return f&&null!=f.match("^(Debug|Info|Warn|Error)$")&&(e=f),new wb(a,Rb[e.toUpperCase()],[c,d])}}function yb(a){b.call(this),this.create=function(){a.loggerFactory=new xb(a)}}function zb(a){b.call(this);var c;this.create=function(){var b=new Ab(a),d=new Cb(a,b);c=new Bb(a,d),c.start(chrome.webRequest)},this.destroy=function(){c.stop(chrome.webRequest)}}function Ab(a){function b(a){var b={};if(a)for(var c=0;c<a.length;c++){var d=a[c];b[d.name]=d.value}return b}function c(a,b){0!=b.frameId&&a.setFrameId(b.frameId)}function d(a,b){var c="main_frame"==b.type||"sub_frame"==b.type?"main":"resource";a.setRequestType(c)}function e(a,b){if(void 0!=b.postData){var c="";for(var d in b.postData)c+=d+"="+b.postData[d]+"&";a.setPostData(c.replace(/&$/,""))}}function f(b){var c=a.tabs.controller.getOpenerTabId(b.getUrl(),b.getTabId());void 0!=c&&b.setOpenerTabId(c)}this.updateTabId=function(b){var c=b.getTabId(),d=a.tabs.controller.getUpdatedTabId(c);c!=d&&b.setTabId(d),f(b)},this.createRequestData=function(a){var f=new z;return f.setUrl(a.url),f.setStatusCode(a.statusCode),f.setMethod(a.method),f.setTabId(a.tabId),c(f,a),e(f,a),d(f,a),f.setRequestHeaders(b(a.requestHeaders)),f.setResponseHeaders(b(a.responseHeaders)),f}}function Bb(a,b){function c(a){return-1!=a.tabId}function d(a){c(a)&&void 0!=a.requestBody&&(void 0==l[a.requestId]&&(l[a.requestId]={}),l[a.requestId].postData=a.requestBody.formData)}function e(a){c(a)&&i(a)}function f(a){c(a)&&(void 0==l[a.requestId]&&(l[a.requestId]={}),l[a.requestId].requestHeaders=a.requestHeaders)}function g(a){c(a)&&i(a)}function h(a){c(a)&&(delete l[a.requestId],k.info("Error occurred while capturing click ["+a.url+"]"))}function i(a){void 0!==l[a.requestId]&&(a.requestHeaders=l[a.requestId].requestHeaders,a.postData=l[a.requestId].postData),b.send(a),delete l[a.requestId]}var j={urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame","stylesheet","script","image","object","xmlhttprequest","other"]},k=a.loggerFactory.getLogger("monitoring.RequestDataMonitor"),l={};this.start=function(a){a.onBeforeRequest.addListener(d,j,["requestBody"]),a.onBeforeRedirect.addListener(e,j,["responseHeaders"]),a.onBeforeSendHeaders.addListener(f,j,["requestHeaders"]),a.onCompleted.addListener(g,j,["responseHeaders"]),a.onErrorOccurred.addListener(h,j)
},this.stop=function(a){a.onErrorOccurred.removeListener(h),a.onCompleted.removeListener(g),a.onBeforeSendHeaders.removeListener(f),a.onBeforeRedirect.removeListener(e),a.onBeforeRequest.removeListener(d)}}function Cb(a,b){function c(a){b.updateTabId(a),k.info("Sending click [ "+a.getUrl()+"]"),j.transmit(Nb.REQUEST_MONITORING_SUBJECT,Nb.REQUEST_MONITORING_DATA_READY,a.getData())}function d(a,b){for(var c=0;c<h.length;c++)if(h[c].getTabId()==a){var d=h.splice(c--,1);b(d[0])}}function e(a){k.info("Sending collected clicks for tab ["+a+"]."),d(a,c)}function f(a){k.info("Deleting collected clicks for tab ["+a+"]."),d(a,function(){})}function g(a){return-1!=i.indexOf(a.getTabId())}a.communication.factory.extendReciever(this,Nb.TAB_STATE_CHANGE_SUBJECT);var h=[],i=[],j=a.communication.factory.createSender(),k=a.loggerFactory.getLogger("client.monitoring.RequestDataSender");this.send=function(a){var d=b.createRequestData(a);d&&(g(d)?c(d):(h.push(d),k.info("Collecting click ["+d.getUrl()+"] for hidden tab ["+d.getTabId()+"]")))},this.onMessage=function(a,b){switch(a){case Nb.TAB_VISIBLE:case Nb.TAB_HIDDEN:i.push(b),e(b);break;case Nb.TAB_RELOADED:f(b)}}}function Db(){Z.call(this),this.build=function(b){var c=new Blob([b],{type:"application/javascript"}),d=a.webkitURL.createObjectURL(c);return new Worker(d)}}function Eb(b,c){function d(a){var b="Unknown Error";if(void 0!==a&&void 0!==a.code)switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:b="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:b="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:b="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:b="INVALID_STATE_ERR"}}function e(b,d){if(l)b();else{var e=function(a){l=a,b()},f=a.requestFileSystem||a.webkitRequestFileSystem;f(c,5242880,e,d)}}function f(a,b){return function(c){d(c),a(void 0!==b?b:!1)}}function g(a,c){l.root.getFile(b,{},function(b){b.file(function(b){var c=new FileReader;c.onloadend=function(){a(this.result)},c.readAsText(b)},c)},c)}function h(a,c,d,e){l.root.getFile(b,{create:!0},function(b){b.createWriter(function(b){b.onwriteend=function(){a(!0)},b.onerror=function(a){console.log("Write failed: "+a.toString()),c()};var f=new Blob([d],{type:"text/plain"});e||b.seek(b.length),b.write(f)},c)},c)}function i(a,c){l.root.getFile(b,{create:!1},function(b){b.createWriter(function(b){b.onwriteend=function(){a(!0)},b.onerror=function(a){console.log("Truncate failed: "+a.toString()),c()},b.truncate(0)},c)},c)}function j(a,c){l.root.getFile(b,{create:!1},function(){a(!0)},c)}function k(a,c){l.root.getFile(b,{create:!1},function(b){b.remove(function(){a(!0)},c)},c)}E.call(this);var l;this.read=function(a){var b=f(a,null),c=function(){g(a,b)};e(c,b)},this.write=function(a,b){var c=f(a),d=function(){h(a,c,b,!0)},g=this,j=function(){g.exist(function(a){a?i(d,c):d()})};e(j,c)},this.append=function(a,b){var c=f(a),d=function(){h(a,c,b,!1)};e(d,c)},this.exist=function(a){var b=f(a),c=function(){j(a,b)};e(c,b)},this.remove=function(a){var b=f(a),c=function(){k(a?a:function(){},b)};e(c,b)}}function Fb(a,b){function c(a){var b=null,c=g[typeof a];if(!c)throw"Unrecognized type of value ("+a+")";return b=c+a}function d(a){var b;if(void 0!==a&&null!==a){var c=a.charAt(0),d=a.substr(1);switch(c){case g.boolean:b="true"===d;break;case g.number:b=parseInt(d);break;case g.string:b=d;break;default:throw"Unrecognized type of value ("+a+")"}}return b}function e(a){return b+a}function f(a){return 0==a.indexOf(b)?a.substr(b.length):null}C.call(this);var g={"boolean":"B",number:"N",string:"S"};this.set=function(b,d){var f=e(b);a.setItem(f,c(d))},this.get=function(b){var c=e(b);return d(a.getItem(c))},this.has=function(a){return null!=this.get(a)},this.remove=function(b){var c=e(b);a.removeItem(c)},this.removeAll=function(){for(var b in a){var c=f(b);null!=c&&this.remove(c)}},this.getAll=function(){var b={};for(var c in a){var d=f(c);if(null!=d)try{b[d]=this.get(d)}catch(e){}}return b}}function Gb(a){b.call(this),this.create=function(){a.storageFactory=new Hb},this.cleanup=function(){var b=a.storageFactory.getSettings();b.removeAll()}}function Hb(){D.call(this),this.getStorage=function(b){return new Eb(b,a.PERSISTENT)},this.getSettings=function(){return new Fb(localStorage,"dcm.")}}function Ib(a){$.call(this),this.createNetworkUtils=function(){return new _(a)}}function Jb(a){b.call(this);var c=null;this.create=function(){c=new bb(a,new Ib(a))}}function Kb(a,b,c){function d(a){a.name==c&&void 0!=a.sender&&void 0!=a.sender.tab&&void 0!=a.sender.tab.id&&e(a)}function e(a){var b=f(a),c=g(b);a.onMessage.addListener(b),a.onDisconnect.addListener(c)}function f(a){return function(b){var c={portName:a.name,tabId:a.sender.tab.id,data:b.data};1==b.id?h.send(Nb.PORT_LISTENER_SUBJECT,Nb.TAB_VISIBILITY_CHANGED,c):2==b.id&&h.send(Nb.PORT_LISTENER_SUBJECT,Nb.CONTEXT_MENU_SHOWN,c)}}function g(a){return function b(c){c.onDisconnect.removeListener(b),c.onMessage.removeListener(a);var d={portName:c.name,tabId:c.sender.tab.id};h.send(Nb.PORT_LISTENER_SUBJECT,Nb.PORT_DISCONNECTED,d)}}var h=a.communication.factory.createSender();this.start=function(){b.extension.onConnect.addListener(d)},this.stop=function(){b.extension.onConnect.removeListener(d)}}function Lb(a){b.call(this);var c;this.create=function(){a.tabs={},a.tabs.controller=new Mb(a,chrome),a.tabs.controller.start(),c=new Kb(a,chrome,"page-state-tracker"),c.start()},this.destroy=function(){a.tabs.controller.stop(),c.stop()}}function Mb(a,b){function c(a){m.info("Tab ["+a.tabId+"] was replaced with tab ["+a.replacedTabId+"]"),i[a.tabId]=a.replacedTabId}function d(a){m.info("onCreatedNavigationTarget. tabId ["+a.tabId+"]; sourceTabId ["+a.sourceTabId+"]; url ["+a.url+"]"),j[a.tabId]={sourceTabId:a.sourceTabId,url:a.url}}function e(a){m.info("Tab was created. tabId ["+a.id+"]; sourceTabId ["+a.openerTabId+"]; url ["+a.url+"]"),void 0!=a.id&&void 0!=a.url&&(j[a.id]={sourceTabId:a.openerTabId,url:a.url})}function f(a){var b=null;switch(a.data){case"prerender":b=Nb.TAB_PRERENDER;break;case"visible":b=Nb.TAB_VISIBLE;break;case"hidden":b=Nb.TAB_HIDDEN}null!=b&&(m.info("Tab ["+a.tabId+"] state changed to "+a.data),l.send(Nb.TAB_STATE_CHANGE_SUBJECT,b,a.tabId))}function g(a){m.info("onContextMenuShown: "+JSON.stringify(a)),k[a.data]=a.tabId}function h(a){m.info("Tab ["+a.tabId+"] removed."),l.send(Nb.TAB_STATE_CHANGE_SUBJECT,Nb.TAB_RELOADED,a.tabId)}a.communication.factory.extendReciever(this,Nb.PORT_LISTENER_SUBJECT);var i={},j={},k={},l=a.communication.factory.createSender(),m=a.loggerFactory.getLogger("client.tabs.TabsController");this.onMessage=function(a,b){switch(a){case Nb.TAB_VISIBILITY_CHANGED:f(b);break;case Nb.CONTEXT_MENU_SHOWN:g(b);break;case Nb.PORT_DISCONNECTED:h(b)}},this.start=function(){b.webNavigation.onTabReplaced.addListener(c),b.webNavigation.onCreatedNavigationTarget.addListener(d),b.tabs.onCreated.addListener(e)},this.stop=function(){b.tabs.onCreated.removeListener(e),b.webNavigation.onCreatedNavigationTarget.removeListener(d),b.webNavigation.onTabReplaced.removeListener(c)},this.getUpdatedTabId=function(a){var b=i[a];return void 0==b&&(b=a),b},this.getOpenerTabId=function(a,b){var c,d=j[b];return void 0!=d&&d.url==a&&(c=void 0==d.sourceTabId?k[a]:d.sourceTabId),m.info("getOpenerTabId; url = "+a+"; tabId = "+b+"; openerTabId = "+c),c}}var Nb={ANY_TOPIC:".*",APPLICATION_LOG_SUBJECT:"application-log",REQUEST_MONITORING_SUBJECT:"monitoring-requests",REQUEST_MONITORING_DATA_READY:"request-data-availabale",PRIVACY_MODE_SUBJECT:"privacy-mode",PRIVACY_MODE_ENABLED:"entering-privacy-mode",PRIVACY_MODE_DISABLED:"exiting-privacy-mode",XHR_REMOTE_FUNCTION_SUBJECT:"xhr-executor-remote-function",REMOTE_DISK_STORAGE:"remote-disk-storage",REMOTE_SETTINGS_STORAGE:"remote-settings-storage",REMOTE_BROWSER_COMPONENT:"remote-browser-component",REMOTE_OBJECT_SUBJECT:"remote-objects",REMOTE_OBJECT_CREATE_TOPIC:"create-object",REMOTE_OBJECT_DESROY_TOPIC:"destroy-object",ENGINE_WORKER_SUBJECT:"engine-worker",WORKER_ERROR_TOPIC:"worker-code-error",WORKER_CODE_EXIST_TOPIC:"worker-class-ready",ENGINE_CREATE_TOPIC:"engine-create-command",ENGINE_CREATED_TOPIC:"engine-created-command",ENGINE_DESTROY_TOPIC:"engine-destroy-command",ENGINE_OPTIONS_TOPIC:"engine-options-command",ENGINE_CLEANUP_TOPIC:"engine-cleanup-command",SYSTEM_INFO_SUBJECT:"system_info_subject",LOCAL_IP_ADDRESS_DETECTED_TOPIC:"local_ip_address_detected_topic"},Ob={CLIENT_VERSION:"version.client",ENGINE_VERSION:"version.engine",USER_ID:"user-id",GROUP_ID:"group-id",DATA_DISABLED_KEY:"data-capturing-disabled",EPOCH_OFFSET:"epoch-offset",LOCAL_ADDRESS:"local-address"};Nb.CLIENT_DIAGNOSTIC_SUBJECT="client-diagnostic-subject",Nb.CLIENT_SYNC_DIAGNOSTIC_SUBJECT="client-sync-diagnostic-subject",Nb.ENGINE_DOWNLOAD_SUCCEEDED="dcm-engine-download-succeeded",Nb.ENGINE_DOWNLOAD_FAILED="dcm-engine-download-failed",Nb.ENGINE_FAILURE="dcm-engine-failure",Nb.CLIENT_INSTALLED="dcm-client-installed",Nb.CLIENT_UPDATED="dcm-client-updated",Nb.CLIENT_UNINSTALLED="dcm-client-uninstalled",Nb.USER_OPTED_IN="dcm-user-opted-in",Nb.USER_OPTED_OUT="dcm-user-opted-out",Nb.USER_ID_RESTORED="dcm-user-id-restored",Nb.DCM_DISABLED="dcm-disabled",Nb.DCM_ENABLED="dcm-enabled",Nb.TAB_STATE_CHANGE_SUBJECT="tab-state-change-subject",Nb.TAB_VISIBLE="tab_visible",Nb.TAB_HIDDEN="tab_hidden",Nb.TAB_PRERENDER="tab_prerender",Nb.TAB_RELOADED="tab_reloaded",Nb.HOST_VERSION_UPDATED="dcm-host-version-updated",Nb.PORT_LISTENER_SUBJECT="port-listener-subject",Nb.TAB_VISIBILITY_CHANGED="on-visibility-changed",Nb.CONTEXT_MENU_SHOWN="on-context-menu-shown",Nb.PORT_DISCONNECTED="port-disconnected";var Pb={HOST_VERSION:"version.host"},Qb=new c("client");a.dcm=Qb,Qb.addComponent("client/communication",["client/logging"],new f(Qb)),Qb.addComponent("client/diagnostic",["client/communication","client/storage"],new K(Qb)),Qb.addComponent("client/addon",["client/storage","client/diagnostic","client/communication"],new I(Qb)),Qb.addComponent("client/install",["client/diagnostic","client/version"],new M(Qb)),Qb.addComponent("client/version",[],new O),Qb.addComponent("client/options",["client/storage","client/browser","client/diagnostic","client/communication"],new Q(Qb)),Qb.addComponent("client/wrappers",["client/browser","client/communication","client/logging","client/monitoring","client/storage","client/xhr"],new db(Qb)),Qb.addComponent("client/xhr",["client/options"],new jb(Qb,new kb)),Qb.addComponent("client/uninstall",["client/diagnostic","client/communication"],new cb(Qb)),Qb.addComponent("client/browser",["client/communication","client/logging"],new pb(Qb)),a.dcm_api=new J(Qb),Qb.addComponent("client/all",["client/browser","client/communication","client/diagnostic","client/logging","client/monitoring","client/storage","client/wrappers","client/xhr","client/install"],new sb(Qb)),Qb.addComponent("client/settings",["client/options","client/storage"],new N(Qb)),Qb.addComponent("client/logging",["client/storage"],new yb(Qb));var Rb={DEBUG:1,INFO:2,WARN:3,ERROR:4,Desc:{1:"DEBUG",2:"INFO",3:"WARN",4:"ERROR"}};Qb.addComponent("client/monitoring",["client/communication","client/logging","client/tabs"],new zb(Qb)),Qb.addComponent("client/runner",["client/all"],new W(Qb,new Db)),Qb.addComponent("client/runner/errors",["client/all"],new Y(Qb)),Qb.addComponent("client/runner/downloader",["client/all"],new T(Qb)),Qb.addComponent("client/storage",[],new Gb(Qb)),Qb.addComponent("client/system",["client/communication","client/logging"],new Jb(Qb)),Qb.addComponent("client/tabs",["client/communication","client/logging"],new Lb(Qb))}(window);