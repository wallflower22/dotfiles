try{
'use strict';var k,aa=aa||{},m=this,n=function(a){return void 0!==a},ba=function(){},ca=function(a){a.R=function(){return a.cc?a.cc:a.cc=new a}},da=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ea=function(a){return"array"==da(a)},fa=function(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length},p=function(a){return"string"==typeof a},ga=function(a){return"number"==typeof a},ha=function(a){return"function"==da(a)},ia=function(a){var b=
typeof a;return"object"==b&&null!=a||"function"==b},ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0,la=function(a,b,c){return a.call.apply(a.bind,arguments)},ma=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
la:ma;return r.apply(null,arguments)},na=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},oa=Date.now||function(){return+new Date},u=function(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.C=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};
var pa=function(){this.c="en";this.a=!1;var a=window.chrome;this.c=a&&a.i18n?a.i18n.getUILanguage():"en";this.a="ar"==this.c||"he"==this.c};ca(pa);var qa=function(){pa.R();return!1};var ra=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ra);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(ra,Error);ra.prototype.name="CustomError";var sa;var ua=function(a){var b=ta,c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Da=function(a){if(!wa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(xa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ya,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(za,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Aa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ba,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ca,"&#0;"));
return a},xa=/&/g,ya=/</g,za=/>/g,Aa=/"/g,Ba=/'/g,Ca=/\x00/g,wa=/[\x00&<>"']/,Fa=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=m.document.createElement("div");return a.replace(Ea,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var g=Number("0"+e.substr(1));isNaN(g)||(f=String.fromCharCode(g))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})},Ga=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";
case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})},Ea=/&([^;\s<&]+);?/g,v=function(a){return null==a?"":String(a)},Ha=function(a,b){return a<b?-1:a>b?1:0},Ia=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;return b},Ja=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Ka=function(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})},La=function(a){isFinite(a)&&(a=String(a));return p(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};
var Ma=function(a){return a[a.length-1]},Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=[],f=0,g=p(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Sa=Na.reduce?function(a,b,c,d){d&&(b=r(b,d));return Na.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Pa(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Ta=function(a,b){var c=0;Pa(a,function(a,e,f){b.call(void 0,
a,e,f)&&++c},void 0);return c},Va=function(a,b){var c=Ua(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]},Ua=function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},Wa=function(a,b){return 0<=Oa(a,b)},Xa=function(a,b){Wa(a,b)||a.push(b)},Za=function(a,b){var c=Oa(a,b),d;(d=0<=c)&&Ya(a,c);return d},Ya=function(a,b){Na.splice.call(a,b,1)},$a=function(a){return Na.concat.apply(Na,arguments)},ab=function(a){var b=a.length;if(0<b){for(var c=
Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},cb=function(a,b,c,d){Na.splice.apply(a,bb(arguments,1))},bb=function(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)},db=function(a,b){return a>b?1:a<b?-1:0},eb=function(a,b,c){var d;c=c||db;for(var e=0,f=a.length;e<f;){var g=e+f>>1,h;h=c(b,a[g]);0<h?e=g+1:(f=g,d=!h)}d=d?e:~e;0>d&&cb(a,-(d+1),0,b)};
var fb=function(a){return function(){return a}},gb=function(a){return a},hb=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var ib="StopIteration"in m?m.StopIteration:Error("StopIteration"),jb=function(){};jb.prototype.next=function(){throw ib;};jb.prototype.eb=function(){return this};var kb;t:{var lb=m.navigator;if(lb){var mb=lb.userAgent;if(mb){kb=mb;break t}}kb=""}var nb=function(a){return-1!=kb.indexOf(a)};var ob=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},pb=function(a){var b=0,c;for(c in a)b++;return b},qb=function(a){for(var b in a)return b},rb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},sb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},tb=function(a,b){b in a&&delete a[b]},ub="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),vb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=
d[c];for(var f=0;f<ub.length;f++)c=ub[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},wb=function(a){var b=arguments.length;if(1==b&&ea(arguments[0]))return wb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c},xb=function(a){var b=arguments.length;if(1==b&&ea(arguments[0]))return xb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};
var yb=function(a,b){this.c={};this.a=[];this.g=this.e=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof yb?(c=a.xa(),d=a.$()):(c=sb(a),d=rb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};yb.prototype.$=function(){zb(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.c[this.a[b]]);return a};yb.prototype.xa=function(){zb(this);return this.a.concat()};
yb.prototype.remove=function(a){return Ab(this.c,a)?(delete this.c[a],this.e--,this.g++,this.a.length>2*this.e&&zb(this),!0):!1};var zb=function(a){if(a.e!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Ab(a.c,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.e!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Ab(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};k=yb.prototype;k.get=function(a,b){return Ab(this.c,a)?this.c[a]:b};
k.set=function(a,b){Ab(this.c,a)||(this.e++,this.a.push(a),this.g++);this.c[a]=b};k.forEach=function(a,b){for(var c=this.xa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new yb(this)};k.eb=function(a){zb(this);var b=0,c=this.a,d=this.c,e=this.g,f=this,g=new jb;g.next=function(){for(;;){if(e!=f.g)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw ib;var g=c[b++];return a?g:d[g]}};return g}; var Ab=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
var Bb=function(a){if("function"==typeof a.$)return a.$();if(p(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return rb(a)},Cb=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||p(a))Pa(a,b,void 0);else{var c;if("function"==typeof a.xa)c=a.xa();else if("function"!=typeof a.$)if(fa(a)||p(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=sb(a);else c=void 0;for(var d=Bb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f], a)}};
var Db=nb("Opera")||nb("OPR"),w=nb("Trident")||nb("MSIE"),Eb=nb("Gecko")&&-1==kb.toLowerCase().indexOf("webkit")&&!(nb("Trident")||nb("MSIE")),y=-1!=kb.toLowerCase().indexOf("webkit"),Fb=nb("Macintosh"),Gb=nb("Windows"),Hb=nb("Linux")||nb("CrOS"),Ib=function(){var a=m.document;return a?a.documentMode:void 0},Jb=function(){var a="",b;if(Db&&m.opera)return a=m.opera.version,ha(a)?a():a;Eb?b=/rv\:([^\);]+)(\)|;)/:w?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:y&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(kb))?a[1]:
"");return w&&(b=Ib(),b>parseFloat(a))?String(b):a}(),Kb={},Lb=function(a){var b;if(!(b=Kb[a])){b=0;for(var c=va(String(Jb)).split("."),d=va(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,q=/(\d*)(\D*)/g;do{var t=l.exec(g)||["","",""],x=q.exec(h)||["","",""];if(0==t[0].length&&0==x[0].length)break;b=Ha(0==t[1].length?0:parseInt(t[1],10),0==x[1].length?0:parseInt(x[1],10))||Ha(0==t[2].length,0==x[2].length)||Ha(t[2],x[2])}while(0==b)}b= Kb[a]=0<=b}return b},Mb=m.document,Nb=Mb&&w?Ib()||("CSS1Compat"==Mb.compatMode?parseInt(Jb,10):5):void 0;
var Ob=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Rb=function(a){if(Pb){Pb=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=Qb(Rb(c)[3]||null))&&c!=b.hostname)throw Pb=!0,Error();}}return a.match(Ob)},Pb=y,Qb=function(a){return a?decodeURI(a):a},Sb=function(a,b){for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g, " ")):"")}};
var Tb=function(a,b){var c;a instanceof Tb?(this.Ca=n(b)?b:a.Ca,Ub(this,a.Pa),this.tb=a.tb,this.Ya=a.Ya,Vb(this,a.sb),this.rb=a.rb,Wb(this,a.a.clone()),this.jb=a.jb):a&&(c=Rb(String(a)))?(this.Ca=!!b,Ub(this,c[1]||"",!0),this.tb=Xb(c[2]||""),this.Ya=Xb(c[3]||"",!0),Vb(this,c[4]),this.rb=Xb(c[5]||"",!0),Wb(this,c[6]||"",!0),this.jb=Xb(c[7]||"")):(this.Ca=!!b,this.a=new Yb(null,0,this.Ca))};k=Tb.prototype;k.Pa="";k.tb="";k.Ya="";k.sb=null;k.rb="";k.jb="";k.Ca=!1;
k.toString=function(){var a=[],b=this.Pa;b&&a.push(Zb(b,$b,!0),":");if(b=this.Ya){a.push("//");var c=this.tb;c&&a.push(Zb(c,$b,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.sb;null!=b&&a.push(":",String(b))}if(b=this.rb)this.Ya&&"/"!=b.charAt(0)&&a.push("/"),a.push(Zb(b,"/"==b.charAt(0)?ac:bc,!0));(b=this.a.toString())&&a.push("?",b);(b=this.jb)&&a.push("#",Zb(b,dc));return a.join("")};k.clone=function(){return new Tb(this)};
var Ub=function(a,b,c){a.Pa=c?Xb(b,!0):b;a.Pa&&(a.Pa=a.Pa.replace(/:$/,""))},Vb=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.sb=b}else a.sb=null},Wb=function(a,b,c){b instanceof Yb?(a.a=b,ec(a.a,a.Ca)):(c||(b=Zb(b,fc)),a.a=new Yb(b,0,a.Ca))},gc=function(a){a instanceof Tb?a.clone():new Tb(a,void 0)},Xb=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""},Zb=function(a,b,c){return p(a)?(a=encodeURI(a).replace(b,hc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,
"%$1")),a):null},hc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},$b=/[#\/\?@]/g,bc=/[\#\?:]/g,ac=/[\#\?]/g,fc=/[\#\?@]/g,dc=/#/g,Yb=function(a,b,c){this.c=a||null;this.g=!!c},ic=function(a){a.a||(a.a=new yb,a.e=0,a.c&&Sb(a.c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};Yb.prototype.a=null;Yb.prototype.e=null;Yb.prototype.add=function(a,b){ic(this);this.c=null;a=jc(this,a);var c=this.a.get(a);c||this.a.set(a,c=[]);c.push(b);this.e++;return this};
Yb.prototype.remove=function(a){ic(this);a=jc(this,a);return Ab(this.a.c,a)?(this.c=null,this.e-=this.a.get(a).length,this.a.remove(a)):!1};var kc=function(a,b){ic(a);b=jc(a,b);return Ab(a.a.c,b)};k=Yb.prototype;k.xa=function(){ic(this);for(var a=this.a.$(),b=this.a.xa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.$=function(a){ic(this);var b=[];if(p(a))kc(this,a)&&(b=$a(b,this.a.get(jc(this,a))));else{a=this.a.$();for(var c=0;c<a.length;c++)b=$a(b,a[c])}return b};
k.set=function(a,b){ic(this);this.c=null;a=jc(this,a);kc(this,a)&&(this.e-=this.a.get(a).length);this.a.set(a,[b]);this.e++;return this};k.get=function(a,b){var c=a?this.$(a):[];return 0<c.length?String(c[0]):b};k.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.xa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.$(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.c=a.join("&")};
k.clone=function(){var a=new Yb;a.c=this.c;this.a&&(a.a=this.a.clone(),a.e=this.e);return a};var jc=function(a,b){var c=String(b);a.g&&(c=c.toLowerCase());return c},ec=function(a,b){b&&!a.g&&(ic(a),a.c=null,a.a.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.c=null,this.a.set(jc(this,e),ab(a)),this.e+=a.length))},a));a.g=b};
var lc={clo:"",portrait:"",gc:"0",pos:"1",of:"1",elp:"",gen:"",esb:"1"};var mc={tc:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},sc:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},1E12:{other:"0 trillion"},1E13:{other:"00 trillion"}, 1E14:{other:"000 trillion"}}},nc=mc,nc=mc;
var oc={AED:[2,"dh","\u062f.\u0625.","DH"],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[0,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[18,"kr","kr"],DOP:[2,"$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[0,"Ft",
"Ft"],IDR:[0,"Rp","Rp"],ILS:[2,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","Php"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u0440\u0443\u0431.",
"\u0440\u0443\u0431."],SAR:[2,"Rial","Rial"],SEK:[2,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u20b4","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[0,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};
var pc={vc:".",Ac:",",Fc:"%",Qb:"0",Ic:"+",Cc:"-",yc:"E",Hc:"\u2030",Bc:"\u221e",Ec:"NaN",Ob:"#,##0.###",Jc:"#E0",Gc:"#,##0%",uc:"\u00a4#,##0.00",wc:"USD"},z=pc,z=pc;var sc=function(){this.A=z.wc;this.l=40;this.a=1;this.K=0;this.e=3;this.h=this.c=0;this.ha=!1;this.P=this.H="";this.m="-";this.n="";this.g=1;this.w=3;this.v=this.M=!1;this.G=0;switch(1){case 1:qc(this,z.Ob);break;case 2:qc(this,z.Jc);break;case 3:qc(this,z.Gc);break;case 4:var a;a=z.uc;var b=["0"],c=oc[this.A][0]&7;if(0<c){b.push(".");for(var d=0;d<c;d++)b.push("0")}a=a.replace(/0.00/g,b.join(""));qc(this,a);break;case 5:rc(this,1);break;case 6:rc(this,2);break;default:throw Error("Unsupported pattern type.");
}},qc=function(a,b){b.replace(/ /g,"\u00a0");var c=[0];a.H=tc(a,b,c);for(var d=c[0],e=-1,f=0,g=0,h=0,l=-1,q=b.length,t=!0;c[0]<q&&t;c[0]++)switch(b.charAt(c[0])){case "#":0<g?h++:f++;0<=l&&0>e&&l++;break;case "0":if(0<h)throw Error('Unexpected "0" in pattern "'+b+'"');g++;0<=l&&0>e&&l++;break;case ",":l=0;break;case ".":if(0<=e)throw Error('Multiple decimal separators in pattern "'+b+'"');e=f+g+h;break;case "E":if(a.v)throw Error('Multiple exponential symbols in pattern "'+b+'"');a.v=!0;a.h=0;c[0]+
1<q&&"+"==b.charAt(c[0]+1)&&(c[0]++,a.ha=!0);for(;c[0]+1<q&&"0"==b.charAt(c[0]+1);)c[0]++,a.h++;if(1>f+g||1>a.h)throw Error('Malformed exponential pattern "'+b+'"');t=!1;break;default:c[0]--,t=!1}0==g&&0<f&&0<=e&&(g=e,0==g&&g++,h=f-g,f=g-1,g=1);if(0>e&&0<h||0<=e&&(e<f||e>f+g)||0==l)throw Error('Malformed pattern "'+b+'"');h=f+g+h;a.e=0<=e?h-e:0;0<=e&&(a.c=f+g-e,0>a.c&&(a.c=0));a.a=(0<=e?e:h)-f;a.v&&(a.l=f+a.a,0==a.e&&0==a.a&&(a.a=1));a.w=Math.max(0,l);a.M=0==e||e==h;d=c[0]-d;a.P=tc(a,b,c);c[0]<b.length&&
";"==b.charAt(c[0])?(c[0]++,a.m=tc(a,b,c),c[0]+=d,a.n=tc(a,b,c)):(a.m=a.H+a.m,a.n+=a.P)},rc=function(a,b){a.G=b;qc(a,z.Ob);a.c=0;a.e=2;if(0<a.c)throw Error("Can't combine significant digits and minimum fraction digits");a.K=2},vc=function(a,b){var c=Math.pow(10,a.e),d=0>=a.K?Math.round(b*c):Math.round(uc(b*c,a.K,a.e)),e;isFinite(d)?(e=Math.floor(d/c),c=Math.floor(d-e*c)):(e=b,c=0);return{dc:e,Tc:c}},wc=function(a,b,c,d){if(a.c>a.e)throw Error("Min value must be less than max value");b=vc(a,b);var e=
Math.pow(10,a.e),f=b.dc,g=b.Tc,h=0<a.c||0<g||!1;b=a.c;h&&(b=a.c);for(var l="",q=f;1E20<q;)l="0"+l,q=Math.round(q/10);var l=q+l,t=z.vc,x=z.Ac,q=z.Qb.charCodeAt(0),G=l.length;if(0<f||0<c){for(f=G;f<c;f++)d.push(String.fromCharCode(q));for(f=0;f<G;f++)d.push(String.fromCharCode(q+1*l.charAt(f))),1<G-f&&0<a.w&&1==(G-f)%a.w&&d.push(x)}else h||d.push(String.fromCharCode(q));(a.M||h)&&d.push(t);a=""+(g+e);for(c=a.length;"0"==a.charAt(c-1)&&c>b+1;)c--;for(f=1;f<c;f++)d.push(String.fromCharCode(q+1*a.charAt(f)))},
xc=function(a,b,c){c.push(z.yc);0>b?(b=-b,c.push(z.Cc)):a.ha&&c.push(z.Ic);b=""+b;for(var d=z.Qb,e=b.length;e<a.h;e++)c.push(d);c.push(b)},tc=function(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var g=b.charAt(c[0]);if("'"==g)c[0]+1<f&&"'"==b.charAt(c[0]+1)?(c[0]++,d+="'"):e=!e;else if(e)d+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return d;case "\u00a4":c[0]+1<f&&"\u00a4"==b.charAt(c[0]+1)?(c[0]++,d+=a.A):d+=oc[a.A][1];break;case "%":if(1!=a.g)throw Error("Too many percent/permill");
a.g=100;d+=z.Fc;break;case "\u2030":if(1!=a.g)throw Error("Too many percent/permill");a.g=1E3;d+=z.Hc;break;default:d+=g}}return d},yc={prefix:"",oc:"",zb:0},Bc=function(a,b){var c=1==a.G?nc.tc:nc.sc;if(3>b)return yc;b=Math.min(14,b);c=c[Math.pow(10,b)];if(!c)return yc;c=c.other;return c&&"0"!=c?(c=/([^0]*)(0+)(.*)/.exec(c))?{prefix:c[1],oc:c[3],zb:b-(c[2].length-1)}:yc:yc},Cc=function(a){for(var b=0;1<=(a/=10);)b++;return b},uc=function(a,b,c){if(!a)return a;b=b-Cc(a)-1;if(b<-c)return c=Math.pow(10, c),Math.round(a/c)*c;c=Math.pow(10,b);return Math.round(a*c)/c};
var Dc=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},Ec=Dc,Ec=Dc;var Fc=function(a,b){var c=a|0,d;if(void 0===b){d=a+"";var e=d.indexOf(".");d=Math.min(-1==e?0:d.length-e-1,3)}else d=b;return 1==c&&0==d?"one":"other"},Gc=Fc,Gc=Fc;var Jc=function(a){this.a=[];this.g=[];this.e=new sc;a&&(a=Hc(this,a),this.g=Ic(this,a))},Kc=/'([{}#].*?)'/g,Lc=/''/g,Nc=function(a,b){if(0==a.g.length)return"";var c=[];Mc(a,a.g,b,!1,c);for(c=c.join("");0<a.a.length;)c=c.replace(a.c(a.a),a.a.pop());return c},Mc=function(a,b,c,d,e){for(var f=0;f<b.length;f++)switch(b[f].type){case 4:e.push(b[f].value);break;case 3:var g=b[f].value,h=a,l=e,q=c[g];n(q)?(h.a.push(q),l.push(h.c(h.a))):l.push("Undefined parameter - "+g);break;case 2:g=b[f].value;h=e;l=
g.gb;n(c[l])?(l=g[c[l]],n(l)||(l=g.other),Mc(a,l,c,d,h)):h.push("Undefined parameter - "+l);break;case 0:g=b[f].value;Oc(a,g,c,Gc,d,e);break;case 1:g=b[f].value,Oc(a,g,c,Ec,d,e)}},Oc=function(a,b,c,d,e,f){var g=b.gb,h=b.Rb,l=+c[g];if(isNaN(l))f.push("Undefined or invalid parameter - "+g);else if(h=l-h,g=b[c[g]],n(g)||(d=a.e.sa?d(h,a.e.sa()):d(h),g=b[d],n(g)||(g=b.other)),b=[],Mc(a,g,c,e,b),c=b.join(""),e)f.push(c);else{a=a.e;if(isNaN(h))a=z.Ec;else{e=[];g=d=h;0==a.G?b=yc:(d=Math.abs(d),g=Math.abs(g),
b=Bc(a,1>=d?0:Cc(d)).zb,vc(a,g/Math.pow(10,b)),d=vc(a,d/Math.pow(10,b)),b=Bc(a,b+Cc(d.dc)));h/=Math.pow(10,b.zb);e.push(b.prefix);d=0>h||0==h&&0>1/h;e.push(d?a.m:a.H);if(isFinite(h))if(h=h*(d?-1:1)*a.g,a.v)if(0==h)wc(a,h,a.a,e),xc(a,0,e);else{g=Math.log(h)/Math.log(10);g=Math.floor(g+2E-15);h/=Math.pow(10,g);l=a.a;if(1<a.l&&a.l>a.a){for(;0!=g%a.l;)h*=10,g--;l=1}else 1>a.a?(g++,h/=10):(g-=a.a-1,h*=Math.pow(10,a.a-1));wc(a,h,l,e);xc(a,g,e)}else wc(a,h,a.a,e);else e.push(z.Bc);e.push(d?a.n:a.P);e.push(b.oc);
a=e.join("")}f.push(c.replace(/#/g,a))}},Hc=function(a,b){var c=a.a,d=r(a.c,a);b=b.replace(Lc,function(){c.push("'");return d(c)});return b=b.replace(Kc,function(a,b){c.push(b);return d(c)})},Pc=function(a){var b=0,c=[],d=[],e=/[{}]/g;e.lastIndex=0;for(var f;f=e.exec(a);){var g=f.index;"}"==f[0]?(c.pop(),0==c.length&&(f={type:1},f.value=a.substring(b,g),d.push(f),b=g+1)):(0==c.length&&(b=a.substring(b,g),""!=b&&d.push({type:0,value:b}),b=g+1),c.push("{"))}b=a.substring(b);""!=b&&d.push({type:0,value:b});
return d},Qc=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,Rc=/^\s*(\w+)\s*,\s*selectordinal\s*,/,Sc=/^\s*(\w+)\s*,\s*select\s*,/,Ic=function(a,b){for(var c=[],d=Pc(b),e=0;e<d.length;e++){var f={};if(0==d[e].type)f.type=4,f.value=d[e].value;else if(1==d[e].type){var g=d[e].value;switch(Qc.test(g)?0:Rc.test(g)?1:Sc.test(g)?2:/^\s*\w+\s*/.test(g)?3:5){case 2:f.type=2;f.value=Tc(a,d[e].value);break;case 0:f.type=0;f.value=Uc(a,d[e].value);break;case 1:f.type=1;f.value=Vc(a,d[e].value);break;case 3:f.type=
3,f.value=d[e].value}}c.push(f)}return c},Tc=function(a,b){var c="";b=b.replace(Sc,function(a,b){c=b;return""});var d={};d.gb=c;for(var e=Pc(b),f=0;f<e.length;){var g=e[f].value;f++;if(1==e[f].type)var h=Ic(a,e[f].value);d[g.replace(/\s/g,"")]=h;f++}return d},Uc=function(a,b){var c="",d=0;b=b.replace(Qc,function(a,b,e){c=b;e&&(d=parseInt(e,10));return""});var e={};e.gb=c;e.Rb=d;for(var f=Pc(b),g=0;g<f.length;){var h=f[g].value;g++;if(1==f[g].type)var l=Ic(a,f[g].value);e[h.replace(/\s*(?:=)?(\w+)\s*/,
"$1")]=l;g++}return e},Vc=function(a,b){var c="";b=b.replace(Rc,function(a,b){c=b;return""});var d={};d.gb=c;d.Rb=0;for(var e=Pc(b),f=0;f<e.length;){var g=e[f].value;f++;if(1==e[f].type)var h=Ic(a,e[f].value);d[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=h;f++}return d};Jc.prototype.c=function(a){return"\ufddf_"+(a.length-1).toString(10)+"_"};
var Wc=chrome.i18n.getMessage("5591817825901366736");chrome.i18n.getMessage("4777755382377009548");chrome.i18n.getMessage("7154665243775472938");chrome.i18n.getMessage("2566403151253785267");chrome.i18n.getMessage("8037078752484509023");chrome.i18n.getMessage("2359350477261263182");chrome.i18n.getMessage("7300188402017534561");chrome.i18n.getMessage("5111612377742357508");chrome.i18n.getMessage("1603625918394102877");chrome.i18n.getMessage("845676589918576610");chrome.i18n.getMessage("1325447181056095975");
chrome.i18n.getMessage("7687211811508159108");chrome.i18n.getMessage("469477235199550748");chrome.i18n.getMessage("5217401654984037028");chrome.i18n.getMessage("7596432446723472214");chrome.i18n.getMessage("5091977456489870115");chrome.i18n.getMessage("4380394239807746302");chrome.i18n.getMessage("142359106099692409");chrome.i18n.getMessage("5579702837382664819");chrome.i18n.getMessage("2088133380647290173");chrome.i18n.getMessage("2257250286834696444");chrome.i18n.getMessage("5603457799050818619");
chrome.i18n.getMessage("169055910458549089");chrome.i18n.getMessage("6178455470693561470");chrome.i18n.getMessage("6433056041891472200");chrome.i18n.getMessage("8110520007971944893");chrome.i18n.getMessage("9021466412659564505");chrome.i18n.getMessage("1378894003206512970");chrome.i18n.getMessage("8243618543879664815");chrome.i18n.getMessage("7987287518899618882");chrome.i18n.getMessage("2785193083209311775");chrome.i18n.getMessage("877609626717798805");chrome.i18n.getMessage("9092805374125336008");
chrome.i18n.getMessage("7754736007020239723");chrome.i18n.getMessage("6233852423673631009");chrome.i18n.getMessage("1678004121951995792");chrome.i18n.getMessage("5561412620611998456");chrome.i18n.getMessage("3646641743349296313");chrome.i18n.getMessage("9099680152087323883");chrome.i18n.getMessage("3054430907861836285");chrome.i18n.getMessage("2662413919655166560");chrome.i18n.getMessage("3977845230474613475");chrome.i18n.getMessage("5679720964567650205");chrome.i18n.getMessage("5425054962709217464");
chrome.i18n.getMessage("7487940627543583924");chrome.i18n.getMessage("7820796809104165402");chrome.i18n.getMessage("482762608498192214");chrome.i18n.getMessage("1594074305226612589");chrome.i18n.getMessage("8326016121095925083");chrome.i18n.getMessage("4437205840090971415");chrome.i18n.getMessage("8656517483230131428");chrome.i18n.getMessage("5822895345080436445");chrome.i18n.getMessage("362505154270301776");chrome.i18n.getMessage("8008659366698984178");chrome.i18n.getMessage("8349590636030562194");
chrome.i18n.getMessage("2506204110427755391");chrome.i18n.getMessage("1932973762029792550");chrome.i18n.getMessage("2854553310495850050");chrome.i18n.getMessage("8459240917425469878");chrome.i18n.getMessage("4677342274083596624");chrome.i18n.getMessage("1117324761561996205");chrome.i18n.getMessage("62686912805627037");chrome.i18n.getMessage("7977240188055092028");chrome.i18n.getMessage("5500830105937873966");chrome.i18n.getMessage("4313041477349547430");chrome.i18n.getMessage("1033240210015440654");
chrome.i18n.getMessage("930782679857911410");chrome.i18n.getMessage("3284734782999930756");var Xc=chrome.i18n.getMessage("1582412901770221448");chrome.i18n.getMessage("7333334175520057323");chrome.i18n.getMessage("534304870772683249");var Yc=chrome.i18n.getMessage("5378436065321978089"),Zc=chrome.i18n.getMessage("963040144042262397");chrome.i18n.getMessage("4806941490284711499");chrome.i18n.getMessage("3650952447025672637");chrome.i18n.getMessage("7407898565330883980");chrome.i18n.getMessage("5089168125978769021");
chrome.i18n.getMessage("5456454482863742119");chrome.i18n.getMessage("4974279938502768331");chrome.i18n.getMessage("3051034269680162898");var $c=chrome.i18n.getMessage("2860423337665026261");chrome.i18n.getMessage("4511605174156009486");chrome.i18n.getMessage("546306107859654806");chrome.i18n.getMessage("1847259066982820034");chrome.i18n.getMessage("5334597244901829906");chrome.i18n.getMessage("213958631597214757");chrome.i18n.getMessage("4849410737412842755");chrome.i18n.getMessage("101199566431814132");
chrome.i18n.getMessage("278208331708453602");chrome.i18n.getMessage("2301390744929043794");chrome.i18n.getMessage("1691734467561749621");chrome.i18n.getMessage("6878231700728680871");chrome.i18n.getMessage("5161136602189081305");chrome.i18n.getMessage("3423652049926153935");chrome.i18n.getMessage("2926789704127794819");chrome.i18n.getMessage("2414987366409119013");chrome.i18n.getMessage("2117634893694108880");chrome.i18n.getMessage("2315132909835126412");chrome.i18n.getMessage("3484416881429158332");
chrome.i18n.getMessage("6718105992776681941");chrome.i18n.getMessage("8143412461134291283");chrome.i18n.getMessage("7058809993296833390");chrome.i18n.getMessage("1124849668149719420");chrome.i18n.getMessage("7436494590700857376");chrome.i18n.getMessage("468549910877472151");chrome.i18n.getMessage("2856195586300956496");chrome.i18n.getMessage("1036132178487616999");chrome.i18n.getMessage("5672850901284728452");chrome.i18n.getMessage("6224222749763648938");chrome.i18n.getMessage("5360078230595938991");
chrome.i18n.getMessage("1796916450152826566");chrome.i18n.getMessage("1507362459078633250");
var ad=chrome.i18n.getMessage("6572308230373875858"),bd=chrome.i18n.getMessage("2094366991791857008"),cd=chrome.i18n.getMessage("528339682728930567"),dd=chrome.i18n.getMessage("6380136177516870340"),ed=chrome.i18n.getMessage("7778510137824413661"),fd=chrome.i18n.getMessage("5369754108335659754"),gd=chrome.i18n.getMessage("8275729822640276507"),hd=chrome.i18n.getMessage("6646879811322446587"),id=chrome.i18n.getMessage("687829671213164815"),jd=chrome.i18n.getMessage("7804811638177746132"),kd=chrome.i18n.getMessage("9181119817188520774"),
ld=chrome.i18n.getMessage("3596311690500158112"),md=chrome.i18n.getMessage("6559526625155197659");chrome.i18n.getMessage("7376646180156094924");chrome.i18n.getMessage("3924970930634517299");chrome.i18n.getMessage("2803486006471792395");chrome.i18n.getMessage("5328412494790717118");chrome.i18n.getMessage("7342965026300699486");chrome.i18n.getMessage("7512206123241896524");chrome.i18n.getMessage("3275784965391951363");chrome.i18n.getMessage("6253147562582857321");chrome.i18n.getMessage("2967109838548277236");
chrome.i18n.getMessage("3880744822029422406");chrome.i18n.getMessage("5266193592374285468");chrome.i18n.getMessage("2528672033407304265");chrome.i18n.getMessage("1519227660570105215");chrome.i18n.getMessage("2620868598794227408");chrome.i18n.getMessage("218054763532467155");chrome.i18n.getMessage("1035347665345261212");chrome.i18n.getMessage("8723654283178734366");chrome.i18n.getMessage("1799055681547226163");chrome.i18n.getMessage("8618253608886563193");chrome.i18n.getMessage("6963034896702768829");
chrome.i18n.getMessage("2396988228061015409");chrome.i18n.getMessage("2665932089093244134");chrome.i18n.getMessage("609920334473042917");chrome.i18n.getMessage("4052124018014680002");chrome.i18n.getMessage("639862355711352140");chrome.i18n.getMessage("8375480305752533335");chrome.i18n.getMessage("1635366592844795535");chrome.i18n.getMessage("3087091861834859241");chrome.i18n.getMessage("4639190252078874549");chrome.i18n.getMessage("3153433695439945201");chrome.i18n.getMessage("7666041165203922544");
chrome.i18n.getMessage("7009051272745522428");chrome.i18n.getMessage("37315674215151127");chrome.i18n.getMessage("1680034627075195442");chrome.i18n.getMessage("3248191933104379517");chrome.i18n.getMessage("6301951743370594966");chrome.i18n.getMessage("7077571379260349566");chrome.i18n.getMessage("1839253253564716482");chrome.i18n.getMessage("5305493859040531582");chrome.i18n.getMessage("3947500116452515010");chrome.i18n.getMessage("2454859602363061373");chrome.i18n.getMessage("5621148847082889884");
chrome.i18n.getMessage("1477567329816921885");chrome.i18n.getMessage("111315886393984302");chrome.i18n.getMessage("3501212562096780610");chrome.i18n.getMessage("2166866096346653276");chrome.i18n.getMessage("8335280220243538613");var nd=chrome.i18n.getMessage("2149498606985329379"),od=chrome.i18n.getMessage("7124932478652977474");chrome.i18n.getMessage("1942405576047748946");chrome.i18n.getMessage("7056277361038404533");chrome.i18n.getMessage("5089667744614498582");chrome.i18n.getMessage("1592899529499992997");
chrome.i18n.getMessage("8583880697323281603");chrome.i18n.getMessage("5086992011880811613");chrome.i18n.getMessage("3328377906372603674");chrome.i18n.getMessage("4083819681339999404");chrome.i18n.getMessage("5603774725128707055");chrome.i18n.getMessage("9165786145616395636");chrome.i18n.getMessage("3646623530558910508");chrome.i18n.getMessage("3951067234379178869");var pd=chrome.i18n.getMessage("7837019345094275313");new Jc(pd);var qd=chrome.i18n.getMessage("4656590351979220611");new Jc(qd);
var rd=chrome.i18n.getMessage("482023609949292589");new Jc(rd);var sd=chrome.i18n.getMessage("2085656217833573245");new Jc(sd);var td=chrome.i18n.getMessage("4924494577575330019");new Jc(td);var ud=chrome.i18n.getMessage("3493389010978087325");new Jc(ud);chrome.i18n.getMessage("2195758109188330562");
var vd=chrome.i18n.getMessage("7944194550132470305"),wd=chrome.i18n.getMessage("3002524775820283106"),xd=chrome.i18n.getMessage("8694618136165028235"),yd=chrome.i18n.getMessage("8632024322663078476"),zd=chrome.i18n.getMessage("3537231717544747614"),Ad=chrome.i18n.getMessage("373495866496779840"),Bd=chrome.i18n.getMessage("8590712065595806821"),Cd=chrome.i18n.getMessage("3355297279379313357");chrome.i18n.getMessage("6259598030649933216");chrome.i18n.getMessage("3554323414956249846");chrome.i18n.getMessage("4257688962636177926"); chrome.i18n.getMessage("1337190557080419948");chrome.i18n.getMessage("2234387706513662176");chrome.i18n.getMessage("7667839156901200067");chrome.i18n.getMessage("4849840518275179193");chrome.i18n.getMessage("2135921744011555145");
var Dd=function(){var a=pa.R().a;return{pf:"col-animate",Nf:"col-visibility-culled",ve:{lf:"col-ab-button-active"},xe:{C:"col-bbv",title:"col-bbv-ttl",info:"col-bbv-info"},ze:{C:"col-bb",link:"col-bb-link"},Nb:{ub:"colc",ec:"colc-main",Rd:"colc-maine",hidden:"colc-hidden",Md:"colc-img",bc:"colc-over",Nd:"colc-innero",Nc:"colc-conft",Mc:"colc-confi",qc:a?"colc-undoi-rtl":"colc-undoi",re:"colc-vers",$d:"colc-previmg",Td:"colc-nextimg",Sc:"colc-fchip",Bb:"colc-fchiph",Ud:"colc-noimgshow",qe:"colc-tilea",
title:"colc-title",Jb:"colc-note",url:"colc-url",group:"colc-grp",Xc:"colc-grpe",Yc:"colc-grpt",Kc:"colc-arw",se:"colc-view",ue:"colc-viewt",te:"colc-viewd",ke:"colc-sug",ne:"colc-sugs",me:"colc-sugi",pc:"colc-sugp",xb:"colc-sugbb",oe:"colc-sugt",le:"colc-sugh",text:"colc-text",pe:"colc-texthover",icon:"colc-icon",Yd:"col-popup-exp",Zd:"col-popup-prom"},Ce:{Wb:"col-cv-drag-shadow",de:"col-cv-select",selected:"col-cv-selected",yh:"col-cv-updated"},De:{C:"col-cv",uf:"col-cv-non-navigable",Of:"col-cv-bg-domain-icon",
Wb:"col-cv-drag-shadow",hidden:"col-mri-hidden",Oa:"col-cv-image",qg:"col-cv-image-base",bc:"col-cv-overlay",overflow:"col-context-menu-button",select:a?"col-cv-select-rtl":"col-cv-select",selected:"col-cv-selected",ee:"col-cv-select-editable",title:"col-cv-title",url:"col-cv-url",we:{C:"col-cv-bg",gh:"col-cv-bg-shown",title:"col-cv-bg-title"},xc:{background:"col-cv-descbg",jh:"col-cv-desc-snippet",title:"col-cv-desc-title",Dg:"col-cv-title-long",Wg:"col-cv-search-title",Vg:"col-cv-search-snippet"},
He:{background:"col-cv-dbg",sf:"col-cv-dbg-hidden",domain:"col-cv-dmn",Jb:"col-cv-dnot",title:"col-cv-dttl"}},Ae:{background:"col-detail-bg-default",C:"col-cv-edit-detail",Vf:"col-cv-edit-field",heading:"col-cv-edit-info-heading",Oa:"col-cv-edit-image",rg:"col-detail-image",info:"col-cv-edit-info",mc:"col-cv-edit-rimg",visible:"col-cv-edit-detail-visible"},Be:{C:"col-cv-edit-div",content:"col-cv-edit-content",Sd:"col-context-menu-option",visible:"col-cv-edit-div-visible"},Ee:{C:"col-context-menu",
button:"col-context-menu-button",Sd:"col-context-menu-option"},af:{Oc:"colsv-suggested-clip-container",C:"colsv-suggested-clip",Og:"colsv-overlay-loading",mh:"colsv-thumbnail",text:"colsv-text",title:"colsv-title",description:"colsv-desc",url:"colsv-url",link:"colsv-link",nh:"colsv-thumbnail-title",Rf:"colsv-explanation",Sf:"colsv-explanation-link",Uf:"colsv-explanation-title",Tf:"colsv-explanation-text"},Fe:{C:"col-curationv",tf:"col-banner",version:"col-ver",tg:"col-curationv-bounding",We:{C:"col-pv",
selected:"col-pv-select",title:"col-pv-title",rh:"col-pv-title-crx"},df:{selected:"col-tlv-select"}},Ie:{Hf:"col-dnd-dragel-counter",item:"col-dnd-dragel-item",ec:"col-dnd-dragel"},zc:{C:"col-editable-elt",editable:"col-editable-elt-enabled"},Le:{Xf:"col-ft-row",Bh:"col-ft-zippy",Dh:"col-ft-zippy-open",Ch:a?"col-ft-zippy-closed-rtl":"col-ft-zippy-closed",icon:"col-ft-icon",pg:"col-ft-icon-public",og:"col-ft-icon-bookmarks-bar",Wf:"col-ft-name",check:"col-ft-check",yf:"col-ft-check-sel",yg:"col-ft-items",
Yf:"col-ft-main",xh:"col-ft-header",Pg:"col-ft-headerParentLabel",Zg:"col-ft-selectedFolder",wh:"col-ft-body"},Me:{Pf:"col-fv-info-drop-target",de:"col-fv-select",selected:"col-fv-selected",Pe:{Eg:"col-fv-info",content:"col-fv-content",title:"col-fv-info-title",Sg:"col-fv-url",background:"col-fv-info-bg",Hg:a?"col-fv-info-bg-no-items-rtl":"col-fv-info-bg-no-items"}},Ne:{kf:"col-fv-acl-text",qf:"col-fv-author",rf:"col-fv-author-by",C:"col-fel",Wb:"col-cv-drag-shadow",vg:"col-fv-list-bg",xg:"col-fv-list-icon",
Bg:"col-fv-list-title",wg:"col-fv-list-desc",zg:"col-fv-list-privacy",placeholder:"col-fv-placeholder",ic:"col-fv-info-ref-private",profile:"col-fv-profile",Rg:"col-fv-profile-px",lc:"col-fv-info-ref-public",select:"col-fv-select",selected:"col-fel-selected",ee:"col-fv-select-editable",ah:"col-fv-share-btn",bh:"col-fv-share-btn-hidden",dh:"col-fv-share-open",ye:{mf:"col-breadcrumb-active-drop-target",C:"col-fv-breadcrumb",list:"col-fv-breadcrumbs",Ag:a?"col-fv-breadcrumbs-rtl":"",selected:"col-breadcrumb-selected"},
xc:{C:"col-fv-desc"},Oe:{C:"col-fv-info",Tg:"col-fv-info-ref"},gf:{C:"col-fv-ttl",Oc:"col-fv-ttl-cont"}},Qe:{button:"col-intro-button",wf:"col-intro-buttons-row",Na:"col-intro-header",jg:"col-intro-header-btn",ag:"col-intro-head-logo",bg:"col-intro-head-text",cg:"col-intro-head-title",$f:"col-intro-head-desc",hide:"col-intro-hide",hidden:"col-intro-hidden",icon:"col-intro-icon",Ng:"col-intro-organize",Xd:"col-intro-pane",lh:"col-intro-text-col",search:"col-intro-search",Xg:"col-intro-section",Yg:"col-intro-section-clear",
kh:"col-intro-star",text:"col-intro-text",title:"col-intro-title",ub:"col-intro-wrapper",Ah:"col-intro-wrapper-cont",sg:"col-intro-view-active"},Re:{background:"col-list-clip-bg",zh:"col-list-overlay",Jb:"col-list-clip-note",url:"col-list-clip-url",Af:"col-list-clip-chip",title:"col-list-title",select:"col-list-select",zf:"col-list-checkbox",hidden:"col-list-hidden"},Se:{C:"col-modal-base",buttons:"col-modal-buttons",Cf:"col-modal-close-button",Df:"col-modal-close-container",content:"col-modal-content",
Ff:"col-modal-content-base",Gf:"col-modal-content-visible",Xa:"col-modal-create-button",If:"col-navie-create-clip-input",Jf:"col-navie-create-menu",Lf:a?"col-navie-create-menu-item-rtl":"col-navie-create-menu-item",Kf:"col-navie-create-menu-folio",Mf:"col-navie-create-splitter",fixed:"col-modal-fixed",label:"col-modal-label",open:"col-modal-open",Xd:"col-modal-pane",eh:"col-modal-shield",fh:"col-modal-shield-visible",title:"col-modal-title",Ge:{C:"col-modal-delete-folio",name:"col-modal-delete-folio-name"},
Je:{C:"col-modal-feedback",form:"col-modal-feedback-form"}},Dc:{C:"col-mri",Oa:"col-mri-image",hidden:"col-mri-hidden"},Ue:{nf:"col-navie-item-active",Zf:"col-navie-folio",ih:"col-navie-smart",dg:"col-navie-header-folder",eg:"col-navie-header-folder-selected",fg:"col-navie-header-all",gg:"col-navie-header-all-selected",hg:"col-navie-header-bookmarks-bar",ig:"col-navie-header-bookmarks-bar-selected",kg:"col-navie-header-smart",lg:"col-navie-smart-selected",mg:"col-navie-header-suggested",ng:"col-navie-header-suggested-selected",
Ke:{C:"col-navie-signin-bubble-base",content:"col-navie-signin-bubble-content",Oa:"col-navie-signin-bubble-image",link:"col-navie-signin-bubble-link",links:"col-navie-signin-bubble-links"}},Pb:{ka:"coln-anim",text:"coln-text",Vd:"coln-noscr",C:"coln-int",ce:"colsb",na:"coln-fola",Wa:"coln-newf",V:"coln-inpf",nb:"coln-inpf-err",Xa:"coln-cref",Ab:a?"coln-dup-rtl":"coln-dup",Na:"coln-nhed",$a:"coln-ntit",Mb:"coln-topsh",yb:"coln-btmsh",fb:"coln-newf-clone",mb:"coln-nhed-clone",ac:"coln-ntit-clone",ta:{C:"coln-fol",
selected:"coln-fols",ub:"coln-folw",title:"coln-folt",ic:"coln-foli",lc:"coln-folp",xb:"coln-folbb",Pc:a?"coln-fold-rtl":"coln-fold"}},ef:{C:"col-cur-tl",label:"col-cur-tl-label",ug:"col-cur-tl-line"},Xe:{Ig:"col-ogb-logo",Jg:"col-ogb-sbox",Kg:"col-ogb-sbtn",Mg:"col-ogb"},$e:{C:"col-sg",Ef:"col-sg-condensed",title:"col-sg-info-title"},ff:{C:"col-tlv",ph:"col-tlv-title",qh:"col-tlv-title-crx",uh:"col-tlv-title-desc",title:"col-tlv-title-ft"},hf:{C:"col-tb-base",buttons:"col-tb-buttons",chrome:"col-tb-chrome",
Qf:"col-tb-edit",Fg:"col-tb-menu",hh:"col-tb-signin",Ze:{C:"col-tb-settings",button:"col-tb-settings-btn",Gg:"col-menu-header"},Ye:{C:"col-tb-selector",button:"col-tb-selector-btn"}},jf:{C:"col-zd",vh:"col-zdtt",vf:"col-zdbt",Bf:"col-zdc",link:"col-zda",Oa:"col-zdi",search:"col-zd-search",Ug:"col-zd-searchfilter",filter:"col-zd-filter",oh:"col-zd-timeline",profile:"col-zd-profile",J:"col-zd-folio"},bf:{C:"suggested-content-view",title:"col-tlv-title",sh:"col-tlv-title-desc",th:"col-tlv-title-ft", $g:"suggested-content-view-selector",error:"suggested-content-view-zero-items",Cg:"suggested-content-view-indicator"}}};
var Ed=function(a){m.setTimeout(function(){throw a;},0)},Fd,Gd=function(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!nb("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=r(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!nb("Trident")&&!nb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.Ub;c.Ub=null;a()}};return function(a){d.next={Ub:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")? function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};
var Md=function(a,b){Hd||Id();Jd||(Hd(),Jd=!0);Kd.push(new Ld(a,b))},Hd,Id=function(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();Hd=function(){a.then(Nd)}}else Hd=function(){var a=Nd;!ha(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(Fd||(Fd=Gd()),Fd(a)):m.setImmediate(a)}},Jd=!1,Kd=[],Nd=function(){for(;Kd.length;){var a=Kd;Kd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.c)}catch(d){Ed(d)}}}Jd=!1},Ld=function(a,b){this.a=a;this.c=b};
xb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));xb("action","cite","data","formaction","href","manifest","poster","src");xb("embed","iframe","link","object","script","style","template");var Od=function(a){this.a=new yb;if(a){a=Bb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}},Pd=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ja]||(a[ja]=++ka)):b.substr(0,1)+a};k=Od.prototype;k.add=function(a){this.a.set(Pd(a),a)};k.removeAll=function(a){a=Bb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};k.remove=function(a){return this.a.remove(Pd(a))};k.contains=function(a){a=Pd(a);return Ab(this.a.c,a)};k.$=function(){return this.a.$()};k.clone=function(){return new Od(this)}; k.eb=function(){return this.a.eb(!1)};
var Rd=function(a,b,c,d,e){"number"==typeof e||Qd++;this.e=d||oa();this.g=a;this.l=b;this.c=c;delete this.a};Rd.prototype.a=null;var Qd=0;Rd.prototype.getMessage=function(){return this.l};var Sd=function(a){this.g=a;this.c=this.e=this.a=null},Td=function(a,b){this.name=a;this.value=b};Td.prototype.toString=function(){return this.name};var Ud=new Td("SHOUT",1200),Vd=new Td("SEVERE",1E3),Wd=new Td("WARNING",900),Xd=new Td("INFO",800),Yd=new Td("CONFIG",700),Zd=new Td("FINE",500);Sd.prototype.getChildren=function(){this.c||(this.c={});return this.c};var $d=function(a){return a.e?a.e:a.a?$d(a.a):null};
Sd.prototype.log=function(a,b,c){if(a.value>=$d(this).value)for(ha(b)&&(b=b()),a=new Rd(a,String(b),this.g),c&&(a.a=c),c="log:"+a.getMessage(),m.console&&(m.console.timeStamp?m.console.timeStamp(c):m.console.markTimeline&&m.console.markTimeline(c)),m.msWriteProfilerMark&&m.msWriteProfilerMark(c),c=this;c;)c=c.a};Sd.prototype.info=function(a,b){this.log(Xd,a,b)}; var ae={},be=null,ce=function(){be||(be=new Sd(""),ae[""]=be,be.e=Yd)},A=function(a){ce();var b;if(!(b=ae[a])){b=new Sd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=A(a.substr(0,c));c.getChildren()[d]=b;b.a=c;ae[a]=b}return b};
var B=function(a,b){a&&a.log(Vd,b,void 0)},C=function(a,b){a&&a.log(Wd,b,void 0)},D=function(a,b){a&&a.info(b,void 0)},de=function(a,b){a&&a.log(Zd,b,void 0)};var E=function(a,b){this.c=0;this.h=void 0;this.a=this.e=null;this.g=this.l=!1;try{var c=this;a.call(b,function(a){ee(c,2,a)},function(a){ee(c,3,a)})}catch(d){ee(this,3,d)}},F=function(a){return new E(function(b){b(a)})},fe=function(a){return new E(function(b,c){c(a)})},ge=function(a){return new E(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,l;l=a[h];h++)l.then(na(f,h),g);else b(e)})};
E.prototype.then=function(a,b,c){return he(this,ha(a)?a:null,ha(b)?b:null,c)};E.prototype.then=E.prototype.then;E.prototype.$goog_Thenable=!0;var ke=function(a,b,c){var d=function(){try{b.call(c)}catch(a){ie.call(null,a)}};je(a,{Ka:null,Lb:d,Kb:d});return a},le=function(a,b,c){return he(a,null,b,c)};E.prototype.G=function(a){0==this.c&&Md(function(){var b=new me(a);ne(this,b)},this)};
var ne=function(a,b){if(0==a.c)if(a.e){var c=a.e;if(c.a){for(var d=0,e=-1,f=0,g;g=c.a[f];f++)if(g=g.Ka)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(0==c.c&&1==d?ne(c,b):(d=c.a.splice(e,1)[0],oe(c,d,3,b)))}}else ee(a,3,b)},je=function(a,b){a.a&&a.a.length||2!=a.c&&3!=a.c||pe(a);a.a||(a.a=[]);a.a.push(b)},he=function(a,b,c,d){var e={Ka:null,Kb:null,Lb:null};e.Ka=new E(function(a,g){e.Kb=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;e.Lb=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof
me?g(b):a(e)}catch(q){g(q)}}:g});e.Ka.e=a;je(a,e);return e.Ka};E.prototype.m=function(a){this.c=0;ee(this,2,a)};E.prototype.n=function(a){this.c=0;ee(this,3,a)};
var ee=function(a,b,c){if(0==a.c){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.c=1;c.then(a.m,a.n,a);return}if(ia(c))try{var f=c.then;if(ha(f)){qe(a,c,f);return}}catch(g){b=3,c=g}}a.h=c;a.c=b;pe(a);3!=b||c instanceof me||re(a,c)}},qe=function(a,b,c){a.c=1;var d=!1,e=function(b){d||(d=!0,a.m(b))},f=function(b){d||(d=!0,a.n(b))};try{c.call(b,e,f)}catch(g){f(g)}},pe=function(a){a.l||(a.l=!0,Md(a.v,a))};
E.prototype.v=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;b++)oe(this,a[b],this.c,this.h)}this.l=!1};var oe=function(a,b,c,d){if(2==c)b.Kb(d);else{if(b.Ka)for(;a&&a.g;a=a.e)a.g=!1;b.Lb(d)}},re=function(a,b){a.g=!0;Md(function(){a.g&&ie.call(null,b)})},ie=Ed,me=function(a){ra.call(this,a)};u(me,ra);me.prototype.name="cancel";
var se=function(){this.a="unknown";this.c=[];chrome.identity.getProfileUserInfo(r(this.e,this));chrome.identity.onSignInChanged.addListener(r(this.g,this))};ca(se);A("gws.collections.controllers.ChromeSignInController");var te=function(){var a=se.R();return"unknown"!=a.a?F("signed in"==a.a):new E(function(a){var c=r(function(d){Za(this.c,c);a("signed in"==d)},this);Xa(this.c,c)},a)},ve=function(a,b,c){a=ab(a.c);Pa(a,function(a){a(b,c)})}; se.prototype.e=function(a){a=a||{};a=a.email||a.id?"signed in":"signed out";this.a!=a&&(this.a=a,ve(this,this.a,!1))};se.prototype.g=function(a,b){this.a=b?"signed in":"signed out";ve(this,this.a,!0)};
var we=function(){this.sa=this.sa;this.ha=this.ha};we.prototype.sa=!1;we.prototype.la=function(){this.sa||(this.sa=!0,this.D())};var H=function(a,b){var c=na(xe,b);a.sa?c.call(void 0):(a.ha||(a.ha=[]),a.ha.push(n(void 0)?r(c,void 0):c))};we.prototype.D=function(){if(this.ha)for(;this.ha.length;)this.ha.shift()()};var xe=function(a){a&&"function"==typeof a.la&&a.la()},ye=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];fa(d)?ye.apply(null,d):xe(d)}};
var I=function(a,b){this.type=a;this.g=this.target=b;this.l=!1;this.nc=!0};I.prototype.ga=function(){this.l=!0};I.prototype.W=function(){this.nc=!1};var ze=function(a,b,c,d){I.call(this,a);this.data=b||"";this.a=c||"";this.c=d||""};u(ze,I);var Ae=!w||w&&9<=Nb,Be=w&&!Lb("9");!y||Lb("528");Eb&&Lb("1.9b")||w&&Lb("8")||Db&&Lb("9.5")||y&&Lb("528");Eb&&!Lb("8")||w&&Lb("9");var Ce=function(a){Ce[" "](a);return a};Ce[" "]=ba;var De=function(a,b){I.call(this,a?a.type:"");this.g=this.target=null;this.v=this.a=this.button=this.clientY=this.clientX=this.Fb=this.Eb=0;this.n=this.m=this.e=this.h=!1;this.c=this.state=null;if(a){this.c=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.g=b;var d=a.relatedTarget;if(d&&Eb)try{Ce(d.nodeName)}catch(e){}Object.defineProperties?Object.defineProperties(this,{Eb:{configurable:!0,enumerable:!0,get:this.Xb,set:this.ge},Fb:{configurable:!0,enumerable:!0,get:this.Yb,set:this.he}}):
(this.Eb=this.Xb(),this.Fb=this.Yb());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.button=a.button;this.a=a.keyCode||0;this.v=a.charCode||("keypress"==c?a.keyCode:0);this.h=a.ctrlKey;this.e=a.altKey;this.m=a.shiftKey;this.n=a.metaKey;this.state=a.state;a.defaultPrevented&&this.W()}};u(De,I);k=De.prototype;k.ga=function(){De.I.ga.call(this);this.c.stopPropagation?this.c.stopPropagation():this.c.cancelBubble=!0};
k.W=function(){De.I.W.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Be)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.Vc=function(){return this.c};k.Xb=function(){return y||void 0!==this.c.offsetX?this.c.offsetX:this.c.layerX};k.ge=function(a){Object.defineProperties(this,{Eb:{writable:!0,enumerable:!0,configurable:!0,value:a}})};k.Yb=function(){return y||void 0!==this.c.offsetY?this.c.offsetY:this.c.layerY}; k.he=function(a){Object.defineProperties(this,{Fb:{writable:!0,enumerable:!0,configurable:!0,value:a}})};
var Ee="closure_listenable_"+(1E6*Math.random()|0),Fe=function(a){return!(!a||!a[Ee])},Ge=0;var He=function(a,b,c,d,e){this.Da=a;this.proxy=null;this.src=b;this.type=c;this.ib=!!d;this.lb=e;this.key=++Ge;this.removed=this.hb=!1},Ie=function(a){a.removed=!0;a.Da=null;a.proxy=null;a.src=null;a.lb=null};var Je=function(a){this.src=a;this.a={};this.c=0};Je.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.c++);var g=Ke(a,b,d,e);-1<g?(b=a[g],c||(b.hb=!1)):(b=new He(b,this.src,f,!!d,e),b.hb=c,a.push(b));return b};Je.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=Ke(e,b,c,d);return-1<b?(Ie(e[b]),Ya(e,b),0==e.length&&(delete this.a[a],this.c--),!0):!1};
var Le=function(a,b){var c=b.type;if(!(c in a.a))return!1;var d=Za(a.a[c],b);d&&(Ie(b),0==a.a[c].length&&(delete a.a[c],a.c--));return d};Je.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Ie(d[e]);delete this.a[c];this.c--}return b}; var Me=function(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Ke(a,c,d,e));return-1<b?a[b]:null},Ke=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.Da==b&&f.ib==!!c&&f.lb==d)return e}return-1};
var Ne="closure_lm_"+(1E6*Math.random()|0),Oe={},Pe=0,Qe=function(a,b,c,d,e){if(ea(b)){for(var f=0;f<b.length;f++)Qe(a,b[f],c,d,e);return null}c=Re(c);return Fe(a)?a.listen(b,c,d,e):Se(a,b,c,!1,d,e)},Se=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Te(a);h||(a[Ne]=h=new Je(a));c=h.add(b,c,d,e,f);if(c.proxy)return c;d=Ue();c.proxy=d;d.src=a;d.Da=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Ve(b.toString()),d);Pe++;return c},Ue=function(){var a=
We,b=Ae?function(c){return a.call(b.src,b.Da,c)}:function(c){c=a.call(b.src,b.Da,c);if(!c)return c};return b},Xe=function(a,b,c,d,e){if(ea(b)){for(var f=0;f<b.length;f++)Xe(a,b[f],c,d,e);return null}c=Re(c);return Fe(a)?a.ma.add(String(b),c,!0,d,e):Se(a,b,c,!0,d,e)},Ye=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Ye(a,b[f],c,d,e);else c=Re(c),Fe(a)?a.unlisten(b,c,d,e):a&&(a=Te(a))&&(b=Me(a,b,c,!!d,e))&&Ze(b)},Ze=function(a){if(ga(a)||!a||a.removed)return!1;var b=a.src;if(Fe(b))return Le(b.ma,
a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.ib):b.detachEvent&&b.detachEvent(Ve(c),d);Pe--;(c=Te(b))?(Le(c,a),0==c.c&&(c.src=null,b[Ne]=null)):Ie(a);return!0},Ve=function(a){return a in Oe?Oe[a]:Oe[a]="on"+a},af=function(a,b,c,d){var e=!0;if(a=Te(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ib==c&&!f.removed&&(f=$e(f,d),e=e&&!1!==f)}return e},$e=function(a,b){var c=a.Da,d=a.lb||a.src;a.hb&&Ze(a);return c.call(d,b)},We=function(a,b){if(a.removed)return!0;
if(!Ae){var c;if(!(c=b))t:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new De(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.g;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.l&&0<=h;h--){c.g=e[h];var l=af(e[h],f,!0,c),d=d&&l}for(h=0;!c.l&&h<e.length;h++)c.g=e[h],l=af(e[h],f,!1,c),d=d&&l}return d}return $e(a, new De(b,this))},Te=function(a){a=a[Ne];return a instanceof Je?a:null},bf="__closure_events_fn_"+(1E9*Math.random()>>>0),Re=function(a){if(ha(a))return a;a[bf]||(a[bf]=function(b){return a.handleEvent(b)});return a[bf]};
var cf=function(a){we.call(this);this.c=a;this.a={}};u(cf,we);var df=[];cf.prototype.listen=function(a,b,c,d){ea(b)||(b&&(df[0]=b.toString()),b=df);for(var e=0;e<b.length;e++){var f=Qe(a,b[e],c||this.handleEvent,d||!1,this.c||this);if(!f)break;this.a[f.key]=f}return this};var ff=function(a,b,c,d){return ef(a,b,c,d,void 0)},ef=function(a,b,c,d,e,f){if(ea(c))for(var g=0;g<c.length;g++)ef(a,b,c[g],d,e,f);else{b=Xe(b,c,d||a.handleEvent,e,f||a.c||a);if(!b)return a;a.a[b.key]=b}return a};
cf.prototype.unlisten=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.c||this,c=Re(c),d=!!d,b=Fe(a)?Me(a.ma,String(b),c,d,e):a?(a=Te(a))?Me(a,b,c,d,e):null:null,b&&(Ze(b),delete this.a[b.key]);return this};cf.prototype.removeAll=function(){ob(this.a,Ze);this.a={}};cf.prototype.D=function(){cf.I.D.call(this);this.removeAll()};cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
var gf=function(){this.a=new cf(this);H(this,this.a);this.p=null};u(gf,we);
var hf=A("gws.collections.controllers.UmaController"),jf={bookmark_added:"BookmarkAdded",undo_unstar:"BookmarkBubble_Unstar",star:"Star",navie_create_button:"Stars_Navigate_New",navie_create_star_button:"Stars_Navigate_NewStar",navie_create_folder_button:"Stars_Navigate_NewFolder",navie_create_folder_confirm:"Stars_Navigate_NewFolder_Confirm",navie_item_timeline:"Stars_Navigate_AllItems",navie_item_profile:"Stars_Navigate_AllFolders",navie_item_bookmarks_bar:"Stars_Navigate_BookmarksBar",navie_item_folio:"Stars_Navigate_Folio",
navie_item_smart_filter:"Stars_Navigate_Filter",activity_bar_cancel:"Stars_ActivityBar_Cancel",activity_bar_delete:"Stars_ActivityBar_Delete",activity_bar_create_folio:"Stars_ActivityBar_CreateFolio",activity_bar_dropdown_folio:"Stars_ActivityBar_DropdownFolio",clip_checkmark:"Stars_Clip_Checkmark",clip_title_edit:"Stars_Clip_TitleEdit",clip_note_edit:"Stars_Clip_NoteEdit",clip_url_edit:"Stars_Clip_UrlEdit",folio_checkmark:"Stars_Folio_Checkmark",folio_share_button:"Stars_Folio_ShareButton",folio_title_edit:"Stars_Folio_TitleEdit",
folio_make_public_button:"Stars_Folio_MakePublicButton",folio_make_private_button:"Stars_Folio_MakePrivateButton",folio_tile:"Stars_Folio_Tile",folio_description_edit:"Stars_Folio_DescriptionEdit",folio_breadcrumb:"Stars_Folio_Breadcrumb",folio_chip:"Stars_Folio_Chip",search_button:"Stars_SearchButton",title_bar_edit_button:"Stars_TitleBar_EditButton",title_bar_all_filter:"Stars_TitleBar_AllFilter",title_bar_image_filter:"Stars_TitleBar_ImageFilter",title_bar_video_filter:"Stars_TitleBar_VideoFilter",
title_bar_webpage_filter:"Stars_TitleBar_WebpageFilter",images_percent:"Stars.Images_Percent",first20_images_percent:"Stars.Images_Percent_First20",no_images_snippets_percent:"Stars.No_Images_Snippets",goog_related_percent:"Stars.Goog_Related",no_image_no_snippet_20_percent:"Stars.No_Img_No_Snippet_20_Percent",goog_related_20_percent:"Stars.Goog_Related_20_Percent",number_of_nodes:"Stars.Number_Of_Nodes",list_view_enabled:"Stars_List_View_Enabled",list_view_disabled:"Stars_List_View_Disabled",list_view_launch_bookmark:"Stars_List_View_Launch_Bookmark",
list_view_curation_start:"Stars_List_View_Curation_Start",alert_account_mismatch:"Stars_Alert_Account_Mismatch",alert_backend_failure:"Stars_Alert_Backend_Failure",alert_bad_folio_name:"Stars_Alert_Bad_Folio_Name",alert_cannot_reload:"Stars_Alert_Cannot_Reload",alert_connection_lost:"Stars_Alert_Connection_Lost",alert_connection_restored:"Stars_Alert_Connection_Restored",alert_duplicate_folio_name:"Stars_Alert_Duplicate_Folio_Name",alert_extension_disconnected:"Stars_Alert_Extension_Disconnected",
alert_initialization_error:"Stars_Alert_Initialization_Error",alert_invalid_url:"Stars_Alert_Invalid_Url",alert_no_backend:"Stars_Alert_No_Backend",alert_no_connection:"Stars_Alert_No_Connection",alert_reload_needed:"Stars_Alert_Reload_Needed",alert_search_backend_failure:"Stars_Alert_Search_Backend_Failure",alert_version_mismatch:"Stars_Alert_Version_Mismatch",alert_write_error:"Stars_Alert_Write_Error",alert_out_of_quota:"Stars_Alert_Out_Of_Quota",clipper_shown:"Stars_Clipper_Shown",clipper_bookmark_added:"Stars_Clipper_Bookmark_Added",
clipper_bookmark_deleted:"Stars_Clipper_Bookmark_Deleted",clipper_folder_selected:"Stars_Clipper_Folder_Selected",clipper_last_used_displayed:"Stars_Clipper_Last_Used_Displayed",clipper_last_used_selected:"Stars_Clipper_Last_Used_Selected",clipper_suggest_displayed:"Stars_Clipper_Suggest_Displayed",clipper_suggest_selected:"Stars_Clipper_Suggest_Selected",clipper_image_changed:"Stars_Clipper_Image_Changed",clipper_title_changed:"Stars_Clipper_Title_Changed",clipper_note_changed:"Stars_Clipper_Note_Changed",
clipper_url_changed:"Stars_Clipper_Url_Changed",clipper_view_all:"Stars_Clipper_View_All",stars_signin_clicked:"Stars_SignIn_Clicked"},kf={curation_start:"Stars_Curation_Start",timeline:"Stars_Timeline_Active",profile:"Stars_Profile_Active",bookmarks_bar:"Stars_BookmarksBar_Active",folio:"Stars_Folio_Active",search:"Stars_Search_Active",smart_group:"Stars_SmartGroup_Active",error:"Stars_ErrorView_Active"},lf={timeline:"Stars_Launch_Bookmark_Timeline",bookmarks_bar:"Stars_Launch_Bookmark_BookmarksBar",
folio:"Stars_Launch_Bookmark_Folio",search:"Stars_Launch_Bookmark_Search",smart_group:"Stars_Launch_Bookmark_SmartGroup"},mf="images_percent first20_images_percent no_images_snippets_percent goog_related_percent no_image_no_snippet_20_percent goog_related_20_percent".split(" "),nf=["number_of_nodes"],of=wb(kf.timeline,"Stars.Timeline_Active_Clip_Count",kf.profile,"Stars.Profile_Active_Clip_Count",kf.bookmarks_bar,"Stars.BookmarksBar_Active_Clip_Count",kf.folio,"Stars.Folio_Active_Clip_Count",kf.search,
"Stars.Search_Active_Clip_Count",kf.smart_group,"Stars.SmartGroup_Active_Clip_Count",lf.timeline,"Stars.Launch_Bookmark_Timeline_Clip_Count",lf.bookmarks_bar,"Stars.Launch_Bookmark_BookmarksBar_Clip_Count",lf.folio,"Stars.Launch_Bookmark_Folio_Clip_Count",lf.search,"Stars.Launch_Bookmark_Search_Clip_Count",lf.smart_group,"Stars.Launch_Bookmark_SmartGroup_Clip_Count");
gf.prototype.c=function(a){"launch_bookmark"==a.a&&(D(hf,"Log recordLaunch"),chrome.bookmarkManagerPrivate?chrome.bookmarkManagerPrivate.recordLaunch():C(hf,"chrome.bookmarkManagerPrivate API is not available."));var b;b=a.a;var c=a.c;if(b="launch_bookmark"==b?lf[c]||"":jf[b]||kf[c]||"")n(chrome.metricsPrivate)?0<=mf.indexOf(a.a)?(D(hf,"Log percent: "+b+": "+La(a.data)),chrome.metricsPrivate.recordPercentage(b,La(a.data))):0<=nf.indexOf(a.a)?(D(hf,"Log count: "+b+": "+La(a.data)),chrome.metricsPrivate.recordCount(b, La(a.data))):((a=of[b])&&this.p&&(c=this.p.c.e.length,D(hf,"Log count: "+a+": "+c),chrome.metricsPrivate.recordCount(a,c)),D(hf,"Log user action: "+b),chrome.metricsPrivate.recordUserAction(b)):C(hf,"chrome.metricsPrivate API is not available.")};
var qf=function(a,b){I.call(this,a);this.error=b||null;this.message=pf[a]};u(qf,I);var pf={account_mismatch:dd,backend_failure:cd,bad_folio_name:ad,import_completed:nd,cannot_reload:ed,connection_lost:fd,connection_restored:gd,duplicate_folio_name:bd,extension_disconnected:hd,initialization_error:id,invalid_url:jd,no_backend:cd,no_connection:kd,reload_needed:ld,search_backend_failure:md,version_mismatch:cd,write_error:cd};
var rf=function(a){I.call(this,a);this.c=0;this.J=null;this.parentId="";this.a=null;this.newValue=this.oldValue="";this.h=!1;this.source=0;this.e=""};u(rf,I);var tf=function(a,b,c,d,e){var f=new rf("folio_changed");f.J=a;f.c=b;f.oldValue=c;f.newValue=d;sf(f,e);return f},uf=function(a,b,c,d,e){var f=new rf("clip_changed");f.a=a;f.c=b;f.oldValue=c;f.newValue=d;sf(f,e);return f},sf=function(a,b){b&&(a.source=b.a,a.e=b.k())};rf.prototype.aa=function(){return v(this.a&&this.a.k()||this.J&&this.J.k())};
var vf=m.JSON.parse,wf=m.JSON.stringify;var J=function(){},xf=function(a,b,c,d){a.a={};b||(b=[]);a.l=void 0;a.e=-1;a.Z=b;t:{if(a.Z.length){b=a.Z.length-1;var e=a.Z[b];if(e&&"object"==typeof e&&"number"!=typeof e.length){a.g=b-a.e;a.c=e;break t}}-1<c?(a.g=c,a.c=a.Z[c+a.e]={}):a.g=Number.MAX_VALUE}if(d)for(c=0;c<d.length;c++)b=d[c],b<a.g?(b+=a.e,a.Z[b]=a.Z[b]||[]):a.c[b]=a.c[b]||[]},K=function(a,b){return b<a.g?a.Z[b+a.e]:a.c[b]},L=function(a,b,c){b<a.g?a.Z[b+a.e]=c:a.c[b]=c},M=function(a,b,c){if(!a.a[c]){var d=K(a,c);d&&(a.a[c]=new b(d))}return a.a[c]},
yf=function(a,b,c){if(!a.a[c]){for(var d=K(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.a[c]=e}return a.a[c]},N=function(a,b,c){var d=c?c.Z:c;a.a[b]=c;L(a,b,d)},zf=function(a,b,c){c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].Z;a.a[b]=c;L(a,b,d)};J.prototype.B=function(){return m.JSON&&m.JSON.stringify?m.JSON.stringify(this.Z):wf(this.Z)};J.prototype.toString=function(){return this.Z.toString()};
J.prototype.Pd=function(){var a=Af,b=a.c;if(a.e){if(a.a)return this.a[b]||(this.a[b]=Ra(this.c[b]||[],function(b){return new a.a(b)})),this.a[b]}else if(a.a)return!this.a[b]&&this.c[b]&&(this.a[b]=new a.a(this.c[b])),this.a[b];return this.c[b]};var Cf=function(a){return new a.constructor(Bf(a.Z))},Bf=function(a){var b;if(ea(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Bf(b):b);return c}c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Bf(b):b);return c};
var Ef=function(a){xf(this,a,-1,Df)};u(Ef,J);var Df=[3];Ef.prototype.getTitle=function(){return K(this,2)};Ef.prototype.setTitle=function(a){L(this,2,a)};var Ff=function(a){xf(this,a,-1,null)};u(Ff,J);var Gf=function(a){xf(this,a,-1,null)};u(Gf,J);var Hf=function(a){return K(a,1)};var If=function(a){xf(this,a,-1,null)};u(If,J);If.prototype.k=function(){return K(this,1)};var Jf=function(a){xf(this,a,-1,null)};u(Jf,J);Jf.prototype.getTitle=function(){return K(this,1)};Jf.prototype.setTitle=function(a){L(this,1,a)};var Kf=function(a){xf(this,a,-1,null)};u(Kf,J);var Lf=function(a){xf(this,a,-1,null)};u(Lf,J);var Nf=function(a){xf(this,a,22,Mf)};u(Nf,J);var Mf=[3];Nf.prototype.aa=function(){return M(this,If,1)};Nf.prototype.Za=function(){return K(this,8)};Nf.prototype.Ra=function(a){L(this,8,a)};var Of=function(a){return null!=K(a,11)?K(a,11):0};Nf.prototype.setVersion=function(a){L(this,14,a)};Nf.prototype.oa=function(){return K(this,16)};Nf.prototype.qa=function(a){L(this,16,a)};Nf.prototype.Cb=function(){return K(this,21)};var Pf=function(a){xf(this,a,-1,null)};u(Pf,J); Pf.prototype.L=function(){return K(this,2)};
var Qf=function(a){xf(this,a,-1,null)};u(Qf,J);k=Qf.prototype;k.aa=function(){return M(this,If,1)};k.getTitle=function(){return K(this,2)};k.setTitle=function(a){L(this,2,a)};k.Qa=function(a){L(this,6,a)};k.Za=function(){return K(this,8)};k.Ra=function(a){L(this,8,a)};k.S=function(){return M(this,If,9)};k.Cb=function(){return K(this,10)};k.L=function(){return K(this,11)};k.setVersion=function(a){L(this,12,a)};k.oa=function(){return K(this,14)};k.qa=function(a){L(this,14,a)};
var Sf=function(a){xf(this,a,-1,Rf)};u(Sf,J);var Rf=[2,3];k=Sf.prototype;k.Db=function(){return K(this,1)};k.fe=function(a){L(this,1,a)};k.kc=function(){return K(this,4)};k.be=function(a){L(this,4,a)};k.jc=function(){return K(this,5)};k.ae=function(a){L(this,5,a)};k.kb=function(){return K(this,6)};
var Tf=function(a,b){I.call(this,a);this.J=b||null};u(Tf,I);var Uf=function(a){return a.J?a.J.k():""};var Vf=function(a){if(!a)return"";a=v(a);Rb(a)[1]||(a="http://"+a);return a},Wf=function(a){var b="";a&&(b=v(Qb(Rb(a)[3]||null)),b=0==b.indexOf("www.")?b.substring(4):b,a=v(Qb(Rb(a)[5]||null)),a="/"==a?[]:a.split(/\/+/),1<a.length&&(b+="/"+a[1]));return b};
var Xf=function(a){this.a=a||new Jf;L(this.a,3,K(this.a,3))};Xf.prototype.getTitle=function(){return v(this.a.getTitle())};var Yf=function(a){return v(K(a.a,3))};Xf.prototype.setTitle=function(a){this.a.setTitle(a)};var Zf=function(a,b){try{gc(b)}catch(c){b=encodeURI(b)}try{gc(b)}catch(d){b=""}L(a.a,3,b)};Xf.prototype.B=function(){return this.a.B()};var $f=function(a){try{var b=vf(a);return new Xf(new Jf(b))}catch(c){return null}};
var ag;ag=!1;var bg=kb;bg&&(-1!=bg.indexOf("Firefox")||-1!=bg.indexOf("iPad")||-1!=bg.indexOf("iPhone")||-1!=bg.indexOf("iPod")||-1!=bg.indexOf("Chrome")||-1!=bg.indexOf("Android")||-1!=bg.indexOf("Safari")&&(ag=!0));var cg=ag;var dg=function(a){we.call(this);this.e=[];this.a={};this.c={};this.g="boolean"==typeof a?a:!0};u(dg,we);var eg=A("gws.collections.models.IndexedClips");dg.prototype.get=function(){return cg?ab(this.e):Object.create(this.e)};dg.prototype.add=function(a){var b=a.k();if(b in this.a)return C(eg,"Clip with ID already exists: "+b),!1;if(!fg(this,gg(a),a))return!1;this.e.push(a);this.a[b]=a;return!0};
dg.prototype.remove=function(a){var b=Oa(this.e,a);if(0>b)return!1;Ya(this.e,b);tb(this.a,a.k());hg(this,gg(a),a);this.g&&xe(a);return!0};var jg=function(a,b){var c=b.a;if(204==b.c){var d=ig(b.oldValue),e=ig(b.newValue);hg(a,d,c);fg(a,e,c)}},hg=function(a,b,c){b in a.c&&(Za(a.c[b],c),0==a.c[b].length&&tb(a.c,b))},fg=function(a,b,c){if(!b)return C(eg,"Clip has no URL: "+c.toString()),!1;b in a.c?Xa(a.c[b],c):a.c[b]=[c];return!0},ig=function(a){return(a=$f(a))?Yf(a):""}; dg.prototype.D=function(){this.g&&ye(this.e);dg.I.D.call(this)};
var kg=function(a){we.call(this);this.c=[];this.e={};this.a={};this.h="boolean"==typeof a?a:!0;this.g=new cf(this);H(this,this.g)};u(kg,we);var lg=A("gws.collections.models.IndexedFolios");kg.prototype.get=function(){return cg?ab(this.c):Object.create(this.c)};var mg=function(a,b){return a.e[b]||null};
kg.prototype.add=function(a){var b=a.k();if(b in this.e)return C(lg,"Folio with ID already exists: "+b),!1;if(!ng(this,a.getTitle(),a))return!1;this.g.listen(a,"folio_changed",this.l);this.c.push(a);this.e[b]=a;return!0};kg.prototype.remove=function(a){var b=Oa(this.c,a);if(0>b)return!1;Ya(this.c,b);tb(this.e,a.k());(b=a.getTitle())&&Za(this.a[b],a);this.g.unlisten(a,"folio_changed",this.l);this.h&&xe(a);return!0};
kg.prototype.l=function(a){if(102==a.c){var b=a.J,c=a.oldValue;c&&Za(this.a[c],b);ng(this,a.newValue,b)}};var ng=function(a,b,c){if(!b)return C(lg,"Folio has no title: FolioModel:"+c.o.B()),!0;b in a.a&&C(lg,"Folio with title already exists: "+b);var d=a.a,e=[];b in d||(d[b]=e);a.a[b].push(c);return!0};kg.prototype.D=function(){this.h&&ye(this.c);kg.I.D.call(this)};
var og=function(){};ca(og);var pg={0:"c_",1:"f_",2:"d_",3:"g_",4:"lc_",5:"lf_"},rg=function(){og.R();return qg(0)},qg=function(a){return pg[a]+(839808*a+Math.floor(839808*Math.random())).toString(36)+oa().toString(36)};var sg=function(a,b,c){I.call(this,c||"TRANSACTION_COMMIT");this.a=a||0;(a=b)||(og.R(),a=qg(2));this.e=a;this.c=[];this.h=[]};u(sg,I);var tg=function(){return new sg(3,void 0)},ug=function(a,b){0<a.c.length&&b.dispatchEvent(a)},O=function(a,b,c){a.c.push(b);a.h.push(c);c.dispatchEvent(b)};sg.prototype.k=function(){return this.e};
var P=function(){we.call(this);this.ma=new Je(this);this.Qc=this;this.Ea=null};u(P,we);P.prototype[Ee]=!0;k=P.prototype;k.T=function(a){this.Ea=a};k.addEventListener=function(a,b,c,d){Qe(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Ye(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.Ea;if(c)for(b=[];c;c=c.Ea)b.push(c);var c=this.Qc,d=a.type||a;if(p(a))a=new I(a,c);else if(a instanceof I)a.target=a.target||c;else{var e=a;a=new I(d,c);vb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.l&&0<=g;g--)f=a.g=b[g],e=vg(f,d,!0,a)&&e;a.l||(f=a.g=c,e=vg(f,d,!0,a)&&e,a.l||(e=vg(f,d,!1,a)&&e));if(b)for(g=0;!a.l&&g<b.length;g++)f=a.g=b[g],e=vg(f,d,!1,a)&&e;return e};k.D=function(){P.I.D.call(this);this.ma&&this.ma.removeAll(void 0);this.Ea=null};
k.listen=function(a,b,c,d){return this.ma.add(String(a),b,!1,c,d)};k.unlisten=function(a,b,c,d){return this.ma.remove(String(a),b,c,d)};var vg=function(a,b,c,d){b=a.ma.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.ib==c){var h=g.Da,l=g.lb||g.src;g.hb&&Le(a.ma,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.nc};
var wg=function(){P.call(this)};u(wg,P);var Q=function(a){return a||new sg},R=function(a,b,c){b!=c&&ug(b,a)};var xg=function(a){P.call(this);this.o=a};u(xg,wg);xg.prototype.k=function(){return this.o.aa()?v(this.o.aa().k()):""};xg.prototype.oa=function(){return v(this.o.oa())};xg.prototype.qa=function(a){this.o.qa(a);a=new I("server_id_set_event");a.w=this;this.dispatchEvent(a)};xg.prototype.Za=function(){return this.o.Za()};var yg=function(a){a.o.Ra(oa())};xg.prototype.m=function(){return!!this.o.Cb()};xg.prototype.B=function(){return this.o.B()};
var zg=".0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".split(""),Ag={},Bg;for(Bg in zg)Ag[zg[Bg]]=Bg;var Cg={},Dg;for(Dg in Ag)Cg[Dg]=parseInt(Ag[Dg],10);
var Eg=zg.length,ta=zg[0],Fg=zg[Eg-1],Gg=zg[Eg/2],Hg=function(a){if(!a||ua(a))return"";for(var b="",c=0;a[c]===ta;)b+=ta,++c;b+=zg[Math.floor(Cg[a[c]]/2)];ua(b)&&(b+=Gg);return b},Ig=function(a){if(!a)return Gg;for(var b="",c=a.length-1;0<=c;){if(a[c]===Fg)b=Gg+b;else{b=zg[Math.ceil((Cg[a[c]]+(Eg-1))/2)]+b;break}--c}var d="";return d=0<=c?a.substring(0,c)+b:a+b};
var Kg=function(a){xg.call(this,a||new Qf);this.g=null;this.e=new dg(!1);H(this,this.e);this.c=new kg(!1);H(this,this.c);this.a=[];this.h=Jg(this);this.v=new cf(this);H(this,this.v)};u(Kg,xg);Kg.prototype.w=function(a){return!!this.e.a[a]||!!mg(this.c,a)};Kg.prototype.ra=function(){return this.g?[this.g.k()]:[]};Kg.prototype.L=function(){return v(this.o.L())};
Kg.prototype.l=function(a,b,c){a=this.S().k();var d=this.L(a);if(b===d)return!1;L(this.o,11,b);yg(this);var e=Q(c),f=new rf("folio_changed");f.J=this;f.parentId=a;f.c=111;f.oldValue=d;f.newValue=b;sf(f,e);O(e,f,this);R(this,e,c);return!0};var Lg=function(a,b){var c=b.Ea,c=(c?c:null)||b;a.v.listen(c,"clip_changed",a.G).listen(c,"folio_changed",a.G)};
Kg.prototype.G=function(a){if(this.w((a.a||a.J).k())){switch(a.c){case 111:var b=a.J;Za(this.a,b);eb(this.a,b,this.h);break;case 304:b=a.a,Za(this.a,b),eb(this.a,b,this.h)}"clip_changed"===a.type&&jg(this.e,a)}};
var Mg=function(a,b,c){b||(og.R(),b=qg(1));var d=b;b=new If;L(b,1,d);L(b,2,a);a=new Qf;N(a,1,b);c&&a.setTitle(c);c=oa();L(a,7,c);a.Ra(c);return new Kg(a)},Ng=function(a,b){var c;b instanceof Kg?c=!!mg(a.c,b.k()):(c=b.k(),c=!!a.e.a[c]);return c},Og=function(a,b){var c=Q(b);yg(a);var d=new rf("folio_changed");d.J=a;d.c=107;sf(d,c);O(c,d,a);R(a,c,b)},Tg=function(a,b,c,d){if(!Ng(a,b)){var e=Q(d);Og(a,e);var f=Q(e),g=a.k();if(!c){a.o.aa()?(c=a.o.aa(),c=v(K(c,2))):c="";var h=new Pf,l=new If;L(l,1,g);L(l,
2,c);N(h,1,l);c=new Pg(h)}c.L()||(h=a.a.length?Ma(a.a).L(a.k()):"",h=Ig(h),L(c.a,2,h));c!=b.fa[g]&&(g=Q(f),h=Qg(c),h in b.fa?C(Rg,"Clip already in folio: "+h):(b.fa[h]=c,h=yf(b.o,Pf,3),h.push(c.a),zf(b.o,3,h),Sg(b,c,301,"",g),R(b,g,f)));b.qb.add(a);R(b,f,e);a.e.add(b)&&(eb(a.a,b,a.h),Lg(a,b),R(a,e,d))}},Ug=function(a,b,c){if(!Ng(a,b)){for(var d=Q(c),e=!0,f=b.qb.$(),g=Q(d),h=0;h<f.length;++h)e=e&&f[h].Ba(b,!1,g);R(a,g,d);e&&(Tg(a,b,void 0,d),R(a,d,c))}};
Kg.prototype.Ba=function(a,b,c){if(!Ng(this,a))return!1;var d=Q(c);Og(this,d);var e=Q(d);if(!b){var f=this.k();if(f in a.fa){b=Q(e);var g=a.fa[f];tb(a.fa,f);f=yf(a.o,Pf,3);Za(f,g.a);zf(a.o,3,f);Sg(a,g,302,g.B(),e);R(a,b,e)}}a.qb.remove(this);R(a,e,d);if(!this.e.remove(a))return!1;Za(this.a,a);R(this,d,c);return!0};
var Xg=function(a,b,c){if(!Ng(a,b)){for(var d=a;d;){if(d==b)return;d=d.S()}var d=Q(c),e=b.S();if(e){if(!Vg(e,b))return;b.l(e.k(),"",d);Og(e,d)}a.c.add(b)&&(Wg(b,a,d),e=b.L(a.k())||Ig(a.a.length?Ma(a.a).L(a.k()):""),b.l(a.k(),e,d),eb(a.a,b,a.h),Lg(a,b),Og(a,d),R(a,d,c))}},Yg=function(a,b,c){var d=Q(c);Ng(a,b)&&Vg(a,b)&&(b.l("","",d),Wg(b,null,d),Og(a,d),R(a,d,c))},Vg=function(a,b){var c=a.c.remove(b);c&&Za(a.a,b);return c};
Kg.prototype.getTitle=function(a){if(!a)return v(this.o.getTitle());a=[];for(var b=this;b;){var c=b.getTitle();cb(a,0,0,c);b=b.S()}return a.join(" / ")};Kg.prototype.m=function(){return Zg(this)||!!this.o.Cb()};var Zg=function(a){return"f_bookmarks_bar"==(a.oa()||a.k())};Kg.prototype.Qa=function(a,b){var c=!!K(this.o,6);if(c==a)return!1;this.o.Qa(a);yg(this);var d=Q(b),c=tf(this,106,String(c),String(a),d);O(d,c,this);for(var c=this.c.get(),e=0;e<c.length;++e)c[e].Qa(a,d);R(this,d,b);return!0};
var $g=function(a,b,c){var d=v(K(a.o,3));if(d!=b){var e=Q(c);L(a.o,3,b);yg(a);b=tf(a,103,d,b,e);O(e,b,a);R(a,e,c)}};Kg.prototype.setTitle=function(a,b){var c=this.getTitle();if(c==a)return!1;var d=Q(b);this.o.setTitle(a);yg(this);c=tf(this,102,c,a,d);O(d,c,this);R(this,d,b);return!0};Kg.prototype.S=function(){return this.g};
var Wg=function(a,b,c){var d=b?b.o.aa().B():"",e=a.S()?a.S().o.aa().B():"";if(a.g=b){var f=b.o.aa();N(a.o,9,f)}else N(a.o,9,void 0);yg(a);f=Q(c);d=tf(a,109,e,d,f);O(f,d,a);b&&a.Qa(!!K(b.o,6),f);R(a,f,c)};Kg.prototype.toString=function(){return"FolioModel:"+this.k()};Kg.prototype.n=function(){var a=Ia(this.k())%8+1;return(qa()?"images/":"https://ssl.gstatic.com/stars/images/")+"folder-bg-"+a+".png"};
var Jg=function(a){var b=a.k();return function(a,d){var e;if(!(e=b)&&(e=a)){if(d){e=a.ra();for(var f=d.ra(),g=[],h=0;h<e.length;++h)for(var l=0;l<f.length;++l)e[h]==f[l]&&g.push(e[h]);e=g}else e=[];e=e[0]}(f=e)?(e=a&&a.L(f),f=d&&d.L(f),e=e&&f?e<f?-1:f<e?1:0:0):e=0;return e}};
var ah=function(a,b,c){I.call(this,a);this.value=b||null;this.enable=!!c;this.a=this.c=null};u(ah,I);var bh=function(a){this.a=a||new Ef};bh.prototype.setTitle=function(a){this.a.setTitle(a)};bh.prototype.B=function(){return this.a.B()};var ch=function(a){try{var b=vf(a);return new bh(new Ef(b))}catch(c){return null}};var Pg=function(a){this.a=a||new Pf},Qg=function(a){return v(M(a.a,If,1).k())};Pg.prototype.L=function(){return v(this.a.L())};Pg.prototype.B=function(){return this.a.B()};var dh=function(a){try{var b=vf(a);return new Pg(new Pf(b))}catch(c){return null}};
var eh=function(a,b){this.width=a;this.height=b};eh.prototype.clone=function(){return new eh(this.width,this.height)};var fh=function(a){return a.width/a.height};eh.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};eh.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};eh.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
var ih=function(a){this.a=a||new Ff;M(this.a,Gf,2)||(a=new Gf,N(this.a,2,a));M(this.a,Gf,3)||(a=new Gf,N(this.a,3,a));new Tb(gh(this));new Tb(hh(this))},jh=function(a){var b;b=M(a.a,Gf,2);b=K(b,2);a=M(a.a,Gf,2);a=K(a,3);return b&&a?new eh(b,a):null},gh=function(a){return v(Hf(M(a.a,Gf,2)))},kh=function(a){var b;b=M(a.a,Gf,3);b=K(b,2);a=M(a.a,Gf,3);a=K(a,3);return b&&a?new eh(b,a):null},hh=function(a){return v(Hf(M(a.a,Gf,3))).replace(/^\/\//,"https://")};ih.prototype.B=function(){return this.a.B()}; var lh=function(a){try{var b=vf(a);return new ih(new Ff(b))}catch(c){return null}};
var mh=function(a){this.a=a||new Kf};mh.prototype.B=function(){return this.a.B()};var nh=function(a){this.a=a||new Lf};nh.prototype.B=function(){return this.a.B()};var oh=function(a){try{var b=vf(a);return new nh(new Lf(b))}catch(c){return null}};var ph=function(a){xf(this,a,-1,null)};u(ph,J);var Af=new function(){this.c=71309500;this.a=ph;this.e=0}(function(a,b){var c,d=K(b,1),e=K(b,2),f;if(f=c=b.getLocation())f={latitude:K(c,1),longitude:K(c,2)},a&&(f.rc=c);c={xf:d,Qg:e,location:f};a&&(c.rc=b);return c});ph.prototype.getLocation=function(){return M(this,qh,3)};var qh=function(a){xf(this,a,-1,null)};u(qh,J);
var th=function(a){xg.call(this,a||new Nf);this.c=rh(this);this.a=S(this);a={};for(var b=yf(this.o,Pf,3),c=0;c<b.length;c++){var d=new Pg(b[c]),e=Qg(d);a[e]=d}this.fa=a;this.e=sh(this);a=M(this.o,Kf,13);!this.h&&a&&(this.h=new mh(a));this.h=this.h||null;this.qb=new Od;this.k()||(a=rg(),this.o.aa()||(b=new If,N(this.o,1,b)),b=this.o.aa(),L(b,1,a))};u(th,xg);var Rg=A("gws.collections.models.ClipModel");th.prototype.w=function(){return!1};th.prototype.L=function(a){return(a=this.fa[a])?a.L():""};
th.prototype.l=function(a,b,c){var d=Q(c);a=this.fa[a];if(!a)return!1;var e=a.L();if(a.L()==b)return!1;L(a.a,2,b);yg(this);Sg(this,a,304,e,d);R(this,d,c);return!0};
var uh=function(a,b){var c=new If;L(c,1,a);L(c,2,b);var d=new Nf;N(d,1,c);c=oa();L(d,7,c);d.Ra(c);return new th(d)},vh=function(a,b){var c=Q(b);a.qb.$().forEach(function(a){a.Ba(this,!1,c)},a);R(a,c,b)},Sg=function(a,b,c,d,e){var f=Q(e),g=Qg(b);if(g){var h="";switch(c){case 301:h=b.B();break;case 304:h=b.L();break;case 303:h=(0).toString();break;case 302:h=""}b=new rf("clip_changed");b.a=a;b.parentId=g;b.c=c;b.oldValue=d;b.newValue=h;sf(b,f);O(f,b,a);R(a,f,e)}else C(Rg,"Bad FolioInfo - no folio id set?? FolioInfo:"+
b.a.B())};th.prototype.clone=function(){return new th(Cf(this.o))};th.prototype.ra=function(){return sb(this.fa)};th.prototype.kb=function(){return pb(this.fa)};
var rh=function(a){var b=M(a.o,Ff,5);!a.c&&b&&(a.c=new ih(b));return a.c||null},wh=function(a){var b=M(a.o,Ef,9);!a.g&&b&&(a.g=new bh(b));return a.g||null},S=function(a){var b=M(a.o,Jf,6);!a.a&&b&&(a.a=new Xf(b));return a.a||null},xh=function(a){return K(a.o,4)},gg=function(a){var b;switch(xh(a)){case 4:case 2:case 1:S(a)&&(b=Yf(S(a)));break;case 3:wh(a)&&(b=wh(a),b=v(K(b.a,6)))}(b=Vf(b))||C(Rg,"No URL for clip! "+a.toString());return b};
th.prototype.getTitle=function(){return S(this)?S(this).getTitle().toString():""};var sh=function(a){var b=M(a.o,Lf,10);!a.e&&b&&(a.e=new nh(b));return a.e||null},yh=function(a,b,c){var d=Q(c);if(Yf(S(a))!=b){var e=S(a).B(),f=S(a);Zf(f,b);L(f.a,5,void 0);yg(a);b=uf(a,204,e,f.B(),d);O(d,b,a);R(a,d,c)}};th.prototype.setTitle=function(a,b){var c=Q(b);if(S(this).getTitle()==a)return!1;var d=S(this).B(),e=S(this);e.setTitle(a);yg(this);d=uf(this,204,d,e.B(),c);O(c,d,this);R(this,c,b);return!0};
var zh=function(a,b,c){var d=Q(c),e=a.a&&a.a.B(),f=b.B();e!=f&&(a.a=b,N(a.o,6,b.a),yg(a),b=uf(a,204,e||"",f,d),O(d,b,a),R(a,d,c))},Ah=function(a,b,c){var d=Q(c),e=v(K(a.o,2));e!=b&&(L(a.o,2,b),yg(a),b=uf(a,202,e,b,d),O(d,b,a),R(a,d,c))},Bh=function(a,b,c){var d=Q(c),e=xh(a);xh(a)!=b&&(L(a.o,4,b),b=uf(a,206,""+e,""+b,d),O(d,b,a),R(a,d,c))},Ch=function(a,b,c){var d=Q(c),e=a.c&&a.c.B(),f=b.B();e!=f&&(a.c=b,N(a.o,5,b.a),yg(a),b=uf(a,203,e||"",f,d),O(d,b,a),R(a,d,c))};
th.prototype.toString=function(){return"ClipModel:"+this.k()};th.prototype.getLocation=function(){var a=this.o.Pd();return a&&(a=a.getLocation())?v(K(a,1).toFixed(4)+","+K(a,2).toFixed(4)):""};th.prototype.n=function(){var a=Ia(this.k())%8+1;return(qa()?"images/":"https://ssl.gstatic.com/stars/images/")+"tile-bg-"+a+".png"};
var Dh=function(a){I.call(this,a);this.c=this.a=null};u(Dh,I);var Eh=function(a,b){var c=new Dh("suggest_folios");c.a=a;c.c=b;return c};A("gws.collections.models.DataOperationModel");xb(1,3,2);xb(4,6,5);xb(202,203,204,206,207,208,209,301,302,304,303);xb(103,102,105,106,107,109,111);var Jh=function(a){P.call(this);this.a=new Sf;this.e=new kg;H(this,this.e);this.c=new dg;H(this,this.c);if(a){for(var b=tg(),c=yf(a,Qf,2),d=0;d<c.length;++d)Fh(this,new Kg(c[d]),b);for(var d=Q(b),c=this.e.get(),e=0;e<c.length;++e){var f=c[e],g;(g=(g=f.o.S())?v(g.k()):"")&&(g=Gh(this,g))&&Xg(g,f,d)}R(this,d,b);c=yf(a,Nf,3);for(d=0;d<c.length;++d)Hh(this,new th(c[d]),b);b=a.Db();!this.k()&&b&&(Ih(this,b,this.a.Db,this.a.fe),this.dispatchEvent("user_id_changed"));Ih(this,v(a.kc()),this.a.kc,this.a.be);
Ih(this,v(a.jc()),this.a.jc,this.a.ae)}this.Hb=!1;this.g=new cf(this);H(this,this.g);this.g.listen(this,"clip_changed",this.l)};u(Jh,wg);var Kh=A("gws.collections.models.UserModel");Jh.prototype.l=function(a){jg(this.c,a)};
var Hh=function(a,b,c){var d=Q(c);if(!a.c.add(b))return!1;b.T(a);var e=yf(a.a,Nf,3);e.push(b.o);zf(a.a,3,e);e=new rf("clip_added");e.a=b;sf(e,d);O(d,e,a);for(var e=b.ra(),f=0;f<e.length;f++){var g=Gh(a,e[f]);g?Tg(g,b,b.fa[e[f]],d):C(Kh,"Folio does not exist: "+e[f])}R(a,d,c);return!0},Fh=function(a,b,c){var d=Q(c);if(mg(a.e,b.k())||!a.e.add(b))return C(Kh,"Folio could not be added: "+b.k()),!1;b.T(a);var e=yf(a.a,Qf,2);e.push(b.o);zf(a.a,2,e);(e=b.S())&&Xg(e,b,d);e=new rf("folio_added");e.J=b;sf(e,
d);O(d,e,a);R(a,d,c);b.T(a);return!0},Lh=function(a,b){return b?Va(a.c.get(),function(a){return a.oa()==b}):null},Mh=function(a,b){return b?Va(a.e.get(),function(a){return a.oa()==b}):null},Gh=function(a,b){return mg(a.e,b)||Mh(a,b)};Jh.prototype.k=function(){return v(this.a.Db())};var Ih=function(a,b,c,d){n(b)&&null!==b&&c.call(a.a)!=b&&d.call(a.a,b)};
Jh.prototype.Ba=function(a,b){for(var c=Q(b),d=a.ra(),e=0;e<d.length;e++){var f=Gh(this,d[e]);f?f.Ba(a,!0,c):C(Kh,"Trying to remove clip with a folio id that cannot be found: "+d[e])}if(!this.c.remove(a))return!1;d=yf(this.a,Nf,3);Za(d,a.o);zf(this.a,3,d);d=new rf("clip_removed");d.a=a;sf(d,c);O(c,d,this);R(this,c,b);return!0};Jh.prototype.h=function(a,b){for(var c=Q(b),d=a.length-1;0<=d;--d)this.Ba(a[d],c);R(this,c,b)};
var Nh=function(a,b,c){var d=Q(c);if(mg(a.e,b.k())){var e=b.e.get(),f=b.c.get();a.h(e,d);for(var e=Q(d),g=0;g<f.length;g++)Nh(a,f[g],e);R(a,e,d);(f=b.S())&&Yg(f,b,d);b.T(null);a.e.remove(b);f=yf(a.a,Qf,2);Za(f,b.o);zf(a.a,2,f);f=new rf("folio_removed");f.J=b;f.h=!0;sf(f,d);O(d,f,a);R(a,d,c)}};Jh.prototype.B=function(){return this.a.B()};
var Oh=!w||w&&9<=Nb,Ph=!Eb&&!w||w&&w&&9<=Nb||Eb&&Lb("1.9.1"),Qh=w&&!Lb("9");var Rh=function(a){if(a.classList)return a.classList;a=a.className;return p(a)&&a.match(/\S+/g)||[]},Sh=function(a,b){return a.classList?a.classList.contains(b):Wa(Rh(a),b)},Th=function(a,b){a.classList?a.classList.add(b):Sh(a,b)||(a.className+=0<a.className.length?" "+b:b)},Uh=function(a,b){if(a.classList)Pa(b,function(b){Th(a,b)});else{var c={};Pa(Rh(a),function(a){c[a]=!0});Pa(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}},Vh=function(a,b){a.classList? a.classList.remove(b):Sh(a,b)&&(a.className=Qa(Rh(a),function(a){return a!=b}).join(" "))};
var T=function(a,b){this.x=n(a)?a:0;this.y=n(b)?b:0};T.prototype.clone=function(){return new T(this.x,this.y)};var Wh=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};T.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};T.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};T.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
var Zh=function(a){return a?new Xh(Yh(a)):sa||(sa=new Xh)},$h=function(a,b){var c,d,e,f;c=document;c=b||c;if(c.querySelectorAll&&c.querySelector&&a)return c.querySelectorAll(""+(a?"."+a:""));if(a&&c.getElementsByClassName){var g=c.getElementsByClassName(a);return g}g=c.getElementsByTagName("*");if(a){f={};for(d=e=0;c=g[d];d++){var h=c.className;"function"==typeof h.split&&Wa(h.split(/\s+/),a)&&(f[e++]=c)}f.length=e;return f}return g},bi=function(a,b){ob(b,function(b,d){"style"==d?a.style.cssText=
b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in ai?a.setAttribute(ai[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},ai={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},ci=function(a){return a.parentWindow||a.defaultView},ei=function(a,b,c){return di(document,arguments)},di=function(a,
b){var c=b[0],d=b[1];if(!Oh&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Da(d.name),'"');if(d.type){c.push(' type="',Da(d.type),'"');var e={};vb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:ea(d)?c.className=d.join(" "):bi(c,d));2<b.length&&fi(a,c,b,2);return c},fi=function(a,b,c,d){function e(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!fa(f)||ia(f)&&0<f.nodeType?e(f):Pa(gi(f)?ab(f):f,e)}},hi=function(a,
b){fi(Yh(a),a,arguments,1)},ii=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},Yh=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},ji=function(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Yh(a).createTextNode(String(b)))}},ki={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},li={IMG:" ",BR:"\n"},mi=function(a,b,c){if(!(a.nodeName in ki))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in li)b.push(li[a.nodeName]);else for(a=a.firstChild;a;)mi(a,b,c),a=a.nextSibling},gi=function(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return!1},Xh=function(a){this.a=a||m.document||document};k=Xh.prototype;
k.U=function(a){return p(a)?this.a.getElementById(a):a};k.setProperties=bi;k.F=function(a,b,c){return di(this.a,arguments)};k.Wc=function(a,b){a.appendChild(b)};k.append=hi;k.getChildren=function(a){return Ph&&void 0!=a.children?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}; k.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};k.ie=ji;
var oi=function(a,b,c){var d=ni[c];if(!d){var e=Ja(c),d=e;void 0===a.style[e]&&(e=(y?"Webkit":Eb?"Moz":w?"ms":Db?"O":null)+Ka(e),void 0!==a.style[e]&&(d=e));ni[c]=d}(c=d)&&(a.style[c]=b)},ni={},pi=function(a,b){var c;t:{c=Yh(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]},qi=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,
top:0,right:0,bottom:0}}w&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},ri=function(a){if(1==a.nodeType)return a=qi(a),new T(a.left,a.top);var b=ha(a.Vc),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.c.targetTouches&&a.c.targetTouches.length&&(c=a.c.targetTouches[0]);return new T(c.clientX,c.clientY)},si=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+
"px");return a},ui=function(a){var b=ti;if("none"!=pi(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a},ti=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=y&&!b&&!c;return n(b)&&!d||!a.getBoundingClientRect?new eh(b,c):(a=qi(a),new eh(a.right-a.left,a.bottom-a.top))};
var vi=function(a){a()},wi=function(a,b){a&&vi(function(){a.style.display=b?"":"none"})},xi=function(a,b){a&&vi(function(){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")})},U=function(a,b,c){a&&vi(function(){if(p(b))oi(a,c,b);else for(var d in b)oi(a,b[d],d)})},yi=function(a,b,c){if(a)if(pa.R().a){var d,e;b instanceof T?(d=b.x,e=b.y):(d=b,e=c);U(a,"left","");U(a,"right",d+"px");U(a,"top",e+"px")}else vi(function(){var d,
e;b instanceof T?(d=b.x,e=b.y):(d=b,e=c);a.style.left=si(d,!1);a.style.top=si(e,!1)})},zi=function(a,b,c){a&&vi(function(){var d=b,e;if(d instanceof eh)e=d.height,d=d.width;else{if(void 0==c)throw Error("missing height argument");e=c}a.style.width=si(d,!0);a.style.height=si(e,!0)})},Ai=function(a,b){a&&vi(function(){Th(a,b)})},Bi=function(a,b){a&&vi(function(){Uh(a,b)})},Ci=function(a,b){a&&vi(function(){Vh(a,b)})},V=function(a,b,c){a&&vi(function(){c?Th(a,b):Vh(a,b)})},Di=function(a,b){a&&b&&vi(function(){a.appendChild(b)})}, Ei=function(a,b,c){var d=arguments;vi(function(){hi.apply(a.append,[].slice.call(d,1))})},Fi=function(a){vi(function(){ii(a)})},Gi=function(a,b,c){vi(function(){a.ie(b,c)})};
var Ii=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,h,l,q,t,x){if("%"==q)return"%";var G=c.shift();if("undefined"==typeof G)throw Error("[goog.string.format] Not enough arguments");arguments[0]=G;return Hi[q].apply(null,arguments)})},Hi={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-
a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d},d:function(a,b,c,d,e,f,g,h){return Hi.f(parseInt(a,10),b,c,d,0,f,g,h)}};Hi.i=Hi.d; Hi.u=Hi.d;
var Ji=function(a,b,c,d){this.position=a||new T;this.c=b||new eh(0,0);this.visible="boolean"==typeof c?c:!0;this.a=d||0},Ki=function(a,b){b&&(wi(b,a.visible),xi(b,a.visible?1:0))};Ji.prototype.hide=function(){this.visible=!1;return this};Ji.prototype.clone=function(){return new Ji(new T(this.position.x,this.position.y),new eh(this.c.width,this.c.height),this.visible,this.a||void 0)}; Ji.prototype.toString=function(){return Ii("Position(%d, %d), Size(%d, %d), %s",this.position.x,this.position.y,this.c.width,this.c.height,this.visible?"visible":"hidden")};
var Li=function(){};ca(Li);Li.prototype.a=0;var W=function(a){P.call(this);this.e=a||Zh();this.Sb=null;this.pa=!1;this.l=null;this.P=void 0;this.bb=this.cb=this.da=this.Tb=null};u(W,P);W.prototype.Qd=Li.R();W.prototype.k=function(){return this.Sb||(this.Sb=":"+(this.Qd.a++).toString(36))};W.prototype.U=function(){return this.l};var Mi=function(a){a.P||(a.P=new cf(a));return a.P};W.prototype.T=function(a){if(this.da&&this.da!=a)throw Error("Method not supported");W.I.T.call(this,a)};W.prototype.ba=function(){this.l=this.e.a.createElement("div")};
var Ni=function(a,b){if(a.pa)throw Error("Component already rendered");a.l||a.ba();b?b.insertBefore(a.l,null):a.e.a.body.appendChild(a.l);a.da&&!a.da.pa||a.La()};W.prototype.La=function(){this.pa=!0;Oi(this,function(a){!a.pa&&a.U()&&a.La()})};var Pi=function(a){Oi(a,function(a){a.pa&&Pi(a)});a.P&&a.P.removeAll();a.pa=!1};W.prototype.D=function(){this.pa&&Pi(this);this.P&&(this.P.la(),delete this.P);Oi(this,function(a){a.la()});this.l&&ii(this.l);this.da=this.Tb=this.l=this.bb=this.cb=null;W.I.D.call(this)};
W.prototype.G=function(){return this.Tb};var Oi=function(a,b){a.cb&&Pa(a.cb,b,void 0)};W.prototype.removeChild=function(a,b){if(a){var c=p(a)?a:a.k(),d;this.bb&&c?(d=this.bb,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){tb(this.bb,c);Za(this.cb,a);b&&(Pi(a),a.l&&ii(a.l));c=a;if(null==c)throw Error("Unable to set parent component");c.da=null;W.I.T.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};
var Qi=function(a,b){W.call(this,b);this.a=a;this.v=this.m=this.w=null;this.n=!1;this.h=new Ji(void 0,void 0,!1);this.c=new Ji(void 0,void 0,!1);this.g=Dd().Pb};u(Qi,W);var Ri=function(a,b){a.n!=b&&(a.n=b,a.update())};Qi.prototype.G=function(){return this.a};Qi.prototype.k=function(){return this.a.k()};Qi.prototype.getTitle=function(){return this.a.getTitle()};var Si=function(a){return a.h.visible||a.c.visible};
Qi.prototype.update=function(){var a=this.U();a&&(Gi(this.e,this.w,this.a.getTitle()),V(this.m,this.g.ta.lc,!!K(this.a.o,6)),V(a,this.g.ta.selected,this.n))};
Qi.prototype.ba=function(){Qi.I.ba.call(this);this.m=this.e.F("DIV",this.g.ta.ic);this.v=this.e.F("DIV",this.g.ta.Pc);this.w=this.e.F("DIV",[this.g.ta.title,this.g.text]);Zg(this.a)&&Ai(this.m,this.g.ta.xb);var a=this.l;Ai(a,this.g.ta.C);var b=this.e.F("DIV",this.g.ta.ub,this.m,this.w);this.e.append(a,b,this.v);this.update();Ki(this.h,a);Mi(this).listen(this.v,"click",this.A).listen(a,"click",this.H)};
Qi.prototype.A=function(a){a&&(a.W(),a.ga());this.dispatchEvent(new Tf("nested_picker_drill_to_child",this.a))};Qi.prototype.H=function(){this.n?this.dispatchEvent(new Tf("nested_picker_folio_unselected",this.a)):this.dispatchEvent(new Tf("nested_picker_folio_selected",this.a))};
var Ti=function(a,b,c){a.c.position.x=n(b)?b:a.h.position.x;a.c.position.y=n(c)?c:a.h.position.y},Ui=function(a){var b=a.U();if(b){a.c.visible&&Ki(a.c,a.U());var c=a.c,d=a.h;b&&(yi(b,c.position.x,c.position.y),!d||d.position.x==c.position.x&&d.position.y==c.position.y||U(b,"transform","translate("+Math.floor(d.position.x-c.position.x)+"px,"+Math.floor(d.position.y-c.position.y)+"px)"));Ai(b,a.g.ka)}},Vi=function(a,b){var c;if(a||b)if(a)if(b)if(Zg(a.a))c=-1;else if(Zg(b.a))c=1;else{var d=a.getTitle(); c=b.getTitle();d=String(d).toLowerCase();c=String(c).toLowerCase();c=d<c?-1:d==c?0:1}else c=1;else c=-1;else c=0;return c};
var Wi=function(a){return(a=a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""))?a:null};var Xi=function(a,b,c){we.call(this);this.m=a;this.h=c;this.c=b||window;this.e=r(this.l,this)};u(Xi,we);Xi.prototype.a=null;Xi.prototype.g=!1;var $i=function(a){a.stop();a.g=!1;var b=Yi(a),c=Zi(a);b&&!c&&a.c.mozRequestAnimationFrame?(a.a=Qe(a.c,"MozBeforePaint",a.e),a.c.mozRequestAnimationFrame(null),a.g=!0):a.a=b&&c?b.call(a.c,a.e):a.c.setTimeout(hb(a.e),20)};
Xi.prototype.stop=function(){if(null!=this.a){var a=Yi(this),b=Zi(this);a&&!b&&this.c.mozRequestAnimationFrame?Ze(this.a):a&&b?b.call(this.c,this.a):this.c.clearTimeout(this.a)}this.a=null};Xi.prototype.l=function(){this.g&&this.a&&Ze(this.a);this.a=null;this.m.call(this.h,oa())};Xi.prototype.D=function(){this.stop();Xi.I.D.call(this)};
var Yi=function(a){a=a.c;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null},Zi=function(a){a=a.c;return a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};
var aj=function(a){if(a.e&&!a.h||a.n||112<=a.a&&123>=a.a)return!1;switch(a.a){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!Eb;default:return 166>a.a||183<a.a}},dj=function(a,b,c,d,e){if(!(w||y&&Lb("525")))return!0;if(Fb&&e)return bj(a);if(e&&!d)return!1;ga(b)&&(b=cj(b));if(!c&&(17==b||18==b||Fb&&91==b))return!1;if(y&&
d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(w&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!y}return bj(a)},bj=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||y&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}},cj=function(a){if(Eb)a= ej(a);else if(Fb&&y)t:switch(a){case 93:a=91;break t}return a},ej=function(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};
var fj=function(a,b,c){if(ha(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};var gj=function(a){P.call(this);this.c=null;this.a=a;a=w||y&&!Lb("531")&&"TEXTAREA"==a.tagName;this.e=new cf(this);this.e.listen(this.a,a?["keydown","paste","cut","drop","input"]:"input",this)};u(gj,P);
gj.prototype.handleEvent=function(a){if("input"==a.type)w&&Lb(10)&&0==a.a&&0==a.v||(hj(this),Db&&this.a!=Yh(this.a).activeElement||this.dispatchEvent(ij(a)));else if("keydown"!=a.type||aj(a)){var b="keydown"==a.type?this.a.value:null;w&&229==a.a&&(b=null);var c=ij(a);hj(this);this.c=fj(function(){this.c=null;this.a.value!=b&&this.dispatchEvent(c)},0,this)}};var hj=function(a){null!=a.c&&(m.clearTimeout(a.c),a.c=null)},ij=function(a){a=new De(a.c);a.type="input";return a}; gj.prototype.D=function(){gj.I.D.call(this);this.e.la();hj(this);delete this.a};
var jj=function(a,b){P.call(this);var c=this.a=a;(c=ia(c)&&1==c.nodeType?this.a:this.a?this.a.body:null)&&pi(c,"direction");this.c=Qe(this.a,Eb?"DOMMouseScroll":"mousewheel",this,b)};u(jj,P);
jj.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.c;if("mousewheel"==a.type){c=1;if(w||y&&(Gb||Lb("532.0")))c=40;d=kj(-a.wheelDelta,c);n(a.wheelDeltaX)?(b=kj(-a.wheelDeltaX,c),c=kj(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),n(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;if(ga(this.e)){var e=this.e;Math.min(Math.max(b,-this.e),e)}ga(this.g)&&(b=this.g,c=Math.min(Math.max(c,-this.g),b));d=new lj(d,a,0,c);this.dispatchEvent(d)}; var kj=function(a,b){return y&&(Fb||Hb)&&0!=a%b?a:a/b};jj.prototype.D=function(){jj.I.D.call(this);Ze(this.c);this.c=null};var lj=function(a,b,c,d){De.call(this,b);this.type="mousewheel";this.detail=a;this.G=d};u(lj,De);
var nj=function(a,b,c,d){P.call(this);this.a=a;this.g=b;this.c=c;this.l=d||0;a.removeAttribute("maxlength");this.e=new gj(a);Qe(this.e,"input",this.h,!1,this);mj(this)};u(nj,P);nj.prototype.h=function(){mj(this)};var mj=function(a){var b=a.a.value.length;if(b>a.c){var c=a.a.scrollTop,d=a.a.scrollLeft;a.a.value=a.a.value.substring(0,a.c);b=a.c;a.a.scrollTop=c;a.a.scrollLeft=d}a.g&&ji(a.g,String(1==a.l?b:a.c-b))};nj.prototype.D=function(){nj.I.D.call(this);delete this.a;this.e.la();this.e=null};
var oj=function(a,b){W.call(this,b);this.p=a;this.g={};this.H=[];this.h=this.n=this.v="";this.w=this.A=0;this.ea=this.M=!1;this.K=[];this.c={};og.R();this.a=Dd().Pb;this.m=null;this.Y=new Xi(this.Ja,ci(this.e.a),this);H(this,this.Y)};u(oj,W);A("gws.collections.serp.NestedPicker");
oj.prototype.ba=function(){oj.I.ba.call(this);var a=this.l;Bi(a,[this.a.C,this.a.ce]);var b=this.e.F("INPUT",[this.a.V,this.a.text]);b.placeholder=zd;var c=this.e.F("DIV",[this.a.Xa,this.a.text],Yc);b.setAttribute("tabindex","1");c.setAttribute("tabindex","2");var d=this.e.F("DIV",this.a.Wa,[b,c]),e=d.cloneNode(!0);wi(e,!1);var f=this.e.F("DIV",this.a.Ab),g=this.e.F("DIV",this.a.$a),h=this.e.F("DIV",this.a.Na,[f,g]),l=h.cloneNode(!0),q;q=this.a.$a;var t=l||this.e.a,x=t||document,G=null;x.querySelectorAll&&
x.querySelector?G=x.querySelector("."+q):G=$h(q,t)[0];q=G||null;wi(h,!1);wi(l,!1);t=this.e.F("DIV",this.a.na,d,e,h,l);x=this.e.F("DIV",this.a.Mb);xi(x,0);G=this.e.F("DIV",this.a.yb);xi(G,0);Ei(this.e,a,t,x,G);this.c[this.a.na]=t;this.c[this.a.V]=b;this.c[this.a.Xa]=c;this.c[this.a.Mb]=x;this.c[this.a.yb]=G;this.c[this.a.Wa]=d;this.c[this.a.fb]=e;this.c[this.a.Ab]=f;this.c[this.a.$a]=g;this.c[this.a.ac]=q;this.c[this.a.Na]=h;this.c[this.a.mb]=l;a=new nj(b,null,300);H(this,a);this.va();this.ja=new jj(this.U(),
!0);H(this,this.ja);Mi(this).listen(this.p,"folios_loaded",this.va).listen(this.p,"folio_added",this.gd).listen(this.p,"folio_removed",this.jd).listen(this.p,"folio_changed",this.hd).listen(this,"nested_picker_drill_to_child",this.qd).listen(this,"nested_picker_drill_to_parent",this.$b).listen(this,"nested_picker_folio_selected",this.Ha).listen(this,"nested_picker_folio_unselected",this.Ia).listen(this.c[this.a.V],"keyup",this.Ua).listen(this.c[this.a.V],"keydown",this.Ta).listen(this.c[this.a.Xa],
"click",this.X).listen(this.c[this.a.Xa],"keydown",this.Sa).listen(this.c[this.a.Ab],"click",this.$b).listen(this.c[this.a.na],"scroll",this.ia).listen(this.c[this.a.na],"mousemove",this.wa).listen(this.c[this.a.V],"blur",this.wa)};oj.prototype.va=function(){var a;t:{a=this.g;for(var b in a){a=!1;break t}a=!0}if(a)for(a=this.p.e.get(),b=0;b<a.length;b++)pj(this,a[b])};var pj=function(a,b){if(!(b.k()in a.g||b.m()&&!Zg(b))){var c=new Qi(b,a.e);c.T(a);H(a,c);a.g[b.k()]=c;Ni(c,a.c[a.a.na]);qj(a)}};
k=oj.prototype;k.gd=function(a){a.J&&pj(this,a.J)};k.hd=function(a){var b=a.J;b&&b.k()in this.g&&(this.g[b.k()].update(),this.n==b.k()&&Gi(this.e,this.c[this.a.$a],b.getTitle()),"folio_changed"==a.type&&109==a.c&&qj(this))};k.jd=function(a){(a=a.J)&&a.k()in this.g&&(a.k(),this.v==a.k()&&(this.v=""),this.n==a.k()&&(this.w=1,this.h=""),Za(this.K,a.k()),this.H.push(a.k()),qj(this))};
k.$b=function(){if(this.n){var a=this.g[this.n];a?(a=(a=a.G().S())?a.k():"",a in this.g||(a="")):a="";if(1!=this.w||a!=this.h)this.h=a,this.w=1,qj(this),rj(this,null),this.c[this.a.V].focus()}};k.qd=function(a){a=Uf(a);if(2!=this.w||a!=this.h)if(2!=this.A||a!=this.n)this.c[this.a.V].focus(),rj(this,null),this.w=2,this.h=a,qj(this)};
var qj=function(a){if(a.M)a.ea=!0;else{a.M=!0;a.A=a.w;var b=1==a.A,c;for(c in a.g){var d=a.g[c];d.h.visible&&(d.c.visible=!1,Ti(d,250*(b?1:-1)),Ui(d))}if(0!=a.A){Ai(a.c[a.a.Na],a.a.ka);""!=a.h&&(c=a.c[a.a.mb],Ai(c,a.a.ka),wi(c,!0),U(c,"transform","translate("+250*(b?-1:1)+"px,0px)"));d=""==a.h?0:30;Ai(a.c[a.a.Wa],a.a.ka);a.c[a.a.V].value="";Ci(a.c[a.a.V],a.a.nb);c=a.c[a.a.fb];Ai(c,a.a.ka);U(c,"transform","translate("+250*(b?-1:1)+"px,"+d+"px)");wi(c,!0);var e=sj(a,tj(a,a.h));for(c=0;c<e.length;++c){e[c].c.visible=
!0;var f=250*(b?-1:1);e[c].h.position=f instanceof T?f:new T(f,30*c+d+37);Ti(e[c],0);Ui(e[c])}}else for(b=sj(a,tj(a,a.n)),d=37+(""==a.n?0:30),c=0;c<b.length;++c)b[c].c.visible=!0,Ti(b[c],0,30*c+d),Ui(b[c]);null!=a.Y.a||$i(a.Y)}};
oj.prototype.Ja=function(){if(0!=this.A){var a=1==this.A;U(this.c[this.a.Na],"transform","translate("+250*(a?1:-1)+"px,0px)");if(""!=this.h){U(this.c[this.a.mb],"transform","translate(0px,0px)");var b=this.g[this.h].getTitle();Gi(this.e,this.c[this.a.ac],b)}b=""==this.h?0:30;U(this.c[this.a.Wa],"transform","translate("+250*(a?1:-1)+"px,"+(""==this.n?0:30)+"px)");U(this.c[this.a.fb],"transform","translate(0px,"+b+"px)")}for(var c in this.g)Si(this.g[c])&&(b=this.g[c],a=b.U())&&(b=b.c,a&&(0<b.a&&a&&
0<b.a&&U(a,"transition","opacity 0.3s $DELAY, transform 0.3s $DELAY".replace(/\$DELAY/g,b.a?b.a+"ms":"")),U(a,"transform","translate(0, 0)")));fj(this.Ga,300,this)};
oj.prototype.Ga=function(){if(0!=this.A){var a=this.c[this.a.Na];Ci(a,this.a.ka);wi(a,""!=this.h);U(a,"transform","translate(0px,0px)");""!=this.h&&(a=this.g[this.h].getTitle(),Gi(this.e,this.c[this.a.$a],a),a=this.c[this.a.mb],Ci(a,this.a.ka),wi(a,!1));var a=""==this.h?0:30,b=this.c[this.a.Wa];Ci(b,this.a.ka);U(b,"transform","translate(0px,"+a+"px)");a=this.c[this.a.fb];wi(a,!1);Ci(a,this.a.ka)}for(var c in this.g)if(Si(this.g[c])&&(a=this.g[c],b=a.U())){var d=a.c,e=b,f=a.h;e&&f&&(f.position.x!=
d.position.x||f.position.y!=d.position.y)&&(0<d.a&&e&&0<d.a&&U(e,"transition",""),U(e,"transform",""));Ki(a.c,b);Ci(b,a.g.ka);a.h=a.c.clone()}this.A=0;this.n=this.h;c=this.c[this.a.na];V(c,this.a.Vd,c.clientHeight==c.scrollHeight);this.ia();for(c=0;c<this.H.length;++c)if(a=this.g[this.H[c]])delete this.g[a.k()],a.la();this.H=[];this.M=!1;this.ea?(this.ea=!1,qj(this)):this.w=0};
var tj=function(a,b){var c,d;if(b){c=a.g[b];c=c.G().c.get();d=[];for(var e=0;e<c.length;++e)Wa(a.H,c[e].k())||d.push(a.g[c[e].k()])}else for(e in d=[],a.g)c=a.g[e],Wa(a.H,e)||null!=c.G().S()||d.push(c);return d},sj=function(a,b){var c=ab(b);c.sort(Vi||db);if(0<c.length){for(var d=c[0],e=1;e<c.length;++e)d.a.Za()<c[e].a.Za()&&(d=c[e]);Za(c,d);cb(c,0,0,d)}for(var d=a.Fa,e={},f=0;f<c.length;f++){var g=c[f],h=d.call(a,g,f,c);n(h)&&(e[h]||(e[h]=[])).push(g)}return c=$a(e.selected||[],e.search||[],e.suggested||
[],e.other||[])};oj.prototype.Fa=function(a){if(a.k()==this.v)return"selected";var b=Wi(this.c[this.a.V].value);return(b=b&&b.toLowerCase())&&1<b.length&&-1!=a.getTitle().toLowerCase().indexOf(b)?"search":Wa(this.K,a.k())?"suggested":"other"};
var uj=function(a,b){if(b in a.g){a.v in a.g&&Ri(a.g[a.v],!1);var c=a.g[b];Ri(c,!0);a.c[a.a.V].value="";a.v=b;c=c.G().S();a.h=c?c.k():"";a.h in a.g||(a.h="");a.n!=a.h&&(a.w=a.ab?1:2);qj(a)}},vj=function(a){if(a.v){var b=a.g[a.v];b&&Ri(b,!1);a.v="";a.h="";a.n!=a.h&&(a.w=1);a.c[a.a.V].value="";qj(a)}};oj.prototype.Ha=function(a){uj(this,Uf(a))};oj.prototype.Ia=function(){vj(this)};
oj.prototype.Ta=function(a){switch(a.a){case 9:a.W();a.m?wj(this):xj(this);break;case 13:a.W();a.ga();break;case 46:a.ga();break;case 38:case 40:a.W()}};
oj.prototype.Ua=function(a){switch(a.a){case 9:a.W();break;case 13:a.W();a.ga();this.m?(uj(this,this.m.G().k()),this.dispatchEvent(new Tf("nested_picker_folio_selected",this.m.G()))):this.X();break;case 38:a.W();wj(this);break;case 40:a.W();xj(this);break;case 39:this.m&&(a.W(),this.M||this.m.A());break;case 37:if(this.m||0==this.c[this.a.V].value.length)a.W(),this.M||this.dispatchEvent(new Tf("nested_picker_drill_to_parent"));break;default:rj(this,null),Ci(this.c[this.a.V],this.a.nb),aj(a)&&qj(this)}};
var rj=function(a,b){if(a.m!==b){a.m&&Ri(a.m,!1);if(b){Ri(b,!0);var c=a.c[a.a.na],d=c.scrollTop,e=ri(b.U()),f=ri(c),e=(new T(e.x-f.x,e.y-f.y)).y+d,f=ui(c).height,g=ui(b.U()).height;e+g>d+f?c.scrollTop=e+g-f+5:e<d&&(c.scrollTop=e-5)}else a.c[a.a.na].scrollTop=0;a.m=b}};oj.prototype.wa=function(){rj(this,null)};var wj=function(a){var b=sj(a,tj(a,a.n)),c=Math.max((a.m?b.indexOf(a.m):-1)-1,-1);rj(a,b[c])},xj=function(a){var b=sj(a,tj(a,a.n)),c=Math.min((a.m?b.indexOf(a.m):-1)+1,b.length-1);rj(a,b[c])};
oj.prototype.Sa=function(a){if(13==a.a||32==a.a)a.W(),this.X()};oj.prototype.X=function(){var a=this.c[this.a.V],b=Wi(a.value);if(b&&b&&0==(this.p.e.a[b]||[]).length){b=Mg(this.p.k(),qg(1),b);pj(this,b);Fh(this.p,b);var c=this.g[this.n];c&&Xg(c.G(),b);this.dispatchEvent(new Tf("nested_picker_folio_selected",b));uj(this,b.k());a.value=""}else Ai(a,this.a.nb),this.dispatchEvent(new qf(b?"duplicate_folio_name":"bad_folio_name"))};
oj.prototype.Va=function(a){var b=this.c[this.a.na],c=b.scrollTop,d=0>a.G,b=c+b.clientHeight>=b.scrollHeight;(0>=c&&d||b&&!d)&&a.W()};oj.prototype.ia=function(){var a=this.c[this.a.na],b=a.scrollTop,c=0>=b;xi(this.c[this.a.yb],b+a.clientHeight>=a.scrollHeight?0:1);xi(this.c[this.a.Mb],c?0:1)};
var zj=function(a,b){P.call(this);a&&yj(this,a,b)};u(zj,P);k=zj.prototype;k.Ma=null;k.ob=null;k.Ib=null;k.pb=null;k.ca=-1;k.za=-1;k.wb=!1;
var Aj={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Bj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Cj=w||y&&Lb("525"),Dj=Fb&&Eb;
zj.prototype.a=function(a){y&&(17==this.ca&&!a.h||18==this.ca&&!a.e||Fb&&91==this.ca&&!a.n)&&(this.za=this.ca=-1);-1==this.ca&&(a.h&&17!=a.a?this.ca=17:a.e&&18!=a.a?this.ca=18:a.n&&91!=a.a&&(this.ca=91));Cj&&!dj(a.a,this.ca,a.m,a.h,a.e)?this.handleEvent(a):(this.za=cj(a.a),Dj&&(this.wb=a.e))};zj.prototype.c=function(a){this.za=this.ca=-1;this.wb=a.e};
zj.prototype.handleEvent=function(a){var b=a.c,c,d,e=b.altKey;w&&"keypress"==a.type?(c=this.za,d=13!=c&&27!=c?b.keyCode:0):y&&"keypress"==a.type?(c=this.za,d=0<=b.charCode&&63232>b.charCode&&bj(c)?b.charCode:0):Db?(c=this.za,d=bj(c)?b.keyCode:0):(c=b.keyCode||this.za,d=b.charCode||0,Dj&&(e=this.wb),Fb&&63==d&&224==c&&(c=191));var f=c=cj(c),g=b.keyIdentifier;c?63232<=c&&c in Aj?f=Aj[c]:25==c&&a.m&&(f=9):g&&g in Bj&&(f=Bj[g]);this.ca=f;a=new Ej(f,d,0,b);a.e=e;this.dispatchEvent(a)};zj.prototype.U=function(){return this.Ma};
var yj=function(a,b,c){a.pb&&Fj(a);a.Ma=b;a.ob=Qe(a.Ma,"keypress",a,c);a.Ib=Qe(a.Ma,"keydown",a.a,c,a);a.pb=Qe(a.Ma,"keyup",a.c,c,a)},Fj=function(a){a.ob&&(Ze(a.ob),Ze(a.Ib),Ze(a.pb),a.ob=null,a.Ib=null,a.pb=null);a.Ma=null;a.ca=-1;a.za=-1};zj.prototype.D=function(){zj.I.D.call(this);Fj(this)};var Ej=function(a,b,c,d){De.call(this,d);this.type="key";this.a=a;this.v=b};u(Ej,De);
var Gj=function(a,b,c,d,e){W.call(this,e);this.K=a;this.M=b;this.h=c.toLowerCase();this.g=!0;this.m=d;this.a=!1;this.w=Dd().zc;this.n=null;this.v=new zj;H(this,this.v);Mi(this).listen(this.v,"key",this.kd);this.H=this.e.F("div")};u(Gj,W);Gj.prototype.ba=function(){var a=this.e.F(this.h,[this.w.C,this.K]);this.l=a;a.type="text";a.spellcheck=!1;Hj(this,"");Ij(this,this.g);"div"!=this.h&&0<this.m&&(a=new nj(a,null,this.m),H(this,a))};
Gj.prototype.La=function(){Gj.I.La.call(this);var a=this.l;this.n||(this.n=new gj(a),H(this,this.n));yj(this.v,a);Mi(this).listen(a,"mousedown",this.je).listen(a,"blur",this.ya).listen(this.n,"input",this.ud)};
var Ij=function(a,b){a.g=b;var c=a.l;"div"===a.h?c.contentEditable=!a.g:(c.readOnly=a.g,c.disabled=a.g,c.placeholder=a.g?"":a.M);V(c,a.w.editable,!a.g);b&&c.blur()},Hj=function(a,b){"div"==a.h?Gi(a.e,a.l,b):a.l.value=Jj(a,b)},Kj=function(a){if("div"==a.h){a=a.l;if(Qh&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];mi(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Qh||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}else a=
Jj(a,a.l.value);return a};k=Gj.prototype;k.update=function(a){this.a||Hj(this,a)};k.ud=function(){this.a=!0;if("div"==this.h&&0<this.m){var a=Kj(this);a.length>this.m&&Hj(this,a.substring(0,this.m))}};k.kd=function(a){switch(a.a){case 13:a.ga();if("textarea"===this.h?!a.m:1)a.W(),this.l.blur();break;case 46:a.ga();break;case 37:case 38:case 39:case 40:a.ga()}};k.je=function(a){this.g||a.ga()};
k.ya=function(){if(this.U()&&("textarea"==this.h?this.U().scrollTop=0:this.U().scrollLeft=0,this.a)){this.a=!1;var a=Kj(this);Hj(this,a);var b=new I("editable_element_saved");b.value=a;this.dispatchEvent(b)}};k.D=function(){this.ya();Gj.I.D.call(this)};var Jj=function(a,b){a.H.innerHTML=b;var c=[];mi(a.H,c,!1);c=c.join("");return-1!=c.indexOf("&")?"document"in m?Fa(c):Ga(c):c};
var Lj=function(a,b,c,d){Gj.call(this,a,b,d?"textarea":"input",2048,c);this.A=!!d;this.c=""};u(Lj,Gj);k=Lj.prototype;k.ba=function(){Lj.I.ba.call(this);var a=this.l;a.type="url";Mi(this).listen(a,"focus",this.Id).listen(a,"blur",this.Gd)};
k.ya=function(){if(this.a){var a=this.l;0==a.value.trim().length?(this.dispatchEvent(new qf("invalid_url")),this.a=!1):(a.validity.valid||(a.value="http://"+a.value),a.validity.valid?(Lj.I.ya.call(this),this.c=a.value):(this.dispatchEvent(new qf("invalid_url")),this.a=!1))}};k.update=function(a){this.a||(this.c=a,Hj(this,this.A?this.c:Wf(this.c)||this.c))};k.Id=function(){this.a=!0;Hj(this,this.c)};k.Gd=function(){this.ya();Hj(this,this.A?this.c:Wf(this.c)||this.c)};
var Mj=function(a){W.call(this,a);this.h=Dd().Nb;this.a=new Gj(this.h.Jb,wd,"textarea",1024,a);H(this,this.a);this.a.T(this);this.c=new Gj(this.h.title,vd,"input",300,a);H(this,this.c);this.c.T(this);this.g=new Lj(this.h.url,xd,a);H(this,this.g);this.g.T(this)};u(Mj,W);A("gws.collections.serp.TileArea");
Mj.prototype.ba=function(){Mj.I.ba.call(this);var a=this.l;Ai(a,this.h.qe);Ni(this.c,a);Ni(this.a,a);Ni(this.g,a);Ij(this.c,!1);Ij(this.a,!1);Ij(this.g,!1);Mi(this).listen(this.c,"editable_element_saved",r(this.m,this,"title_changed","clipper_title_changed")).listen(this.a,"editable_element_saved",r(this.m,this,"note_changed","clipper_note_changed")).listen(this.g,"editable_element_saved",r(this.m,this,"url_changed","clipper_url_changed"))}; Mj.prototype.m=function(a,b,c){this.dispatchEvent(new ah(a,c.value));this.dispatchEvent(new ze("log","",b))};var Nj=function(a){a.c.ya();a.a.ya();a.g.ya()};Mj.prototype.D=function(){Nj(this);Mj.I.D.call(this)};
var Oj=function(){};var Pj=function(){};u(Pj,Oj);var Qj=function(a){this.a=a};u(Qj,Pj);k=Qj.prototype;k.isAvailable=function(){if(!this.a)return!1;try{return this.a.setItem("__sak","1"),this.a.removeItem("__sak"),!0}catch(a){return!1}};k.set=function(a,b){try{this.a.setItem(a,b)}catch(c){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};k.get=function(a){a=this.a.getItem(a);if(!p(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};k.remove=function(a){this.a.removeItem(a)};
k.eb=function(a){var b=0,c=this.a,d=new jb;d.next=function(){if(b>=c.length)throw ib;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!p(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};k.key=function(a){return this.a.key(a)};
var Rj=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.a=a};u(Rj,Qj);var Sj=function(){},Tj=function(){this.a=new Rj;this.c=this.a.isAvailable()};u(Tj,Sj);ca(Tj);Tj.prototype.get=function(a){if(this.c)return this.a.get(a)};var Uj=function(a){P.call(this);this.m=a;this.g=jh(a)||kh(a)||new eh(1,1);this.K=fh(this.g)||1;a=kh(this.m)&&kh(this.m).width||300;a=Math.min(a,300);this.v=new eh(a,a/this.K);this.G=new cf(this);H(this,this.G);this.a=this.c=null;this.h=0;this.e=null;this.n=0;this.A=new T(1,1);this.H=null;this.w=new T(0,0);this.l=Dd().Dc;this.P=!1};u(Uj,P);A("gws.collections.view.MultiResImage");Uj.prototype.D=function(){this.c&&Fi(this.c);Uj.I.D.call(this)};
var Vj=function(a){return!!hh(a.m)&&!!kh(a.m)},Wj=function(a){if(a.c){var b="";a.H&&(b+="scale("+a.H.x+","+a.H.y+") ");b+="translate("+Math.floor(a.w.x)+"px,"+Math.floor(a.w.y)+"px) scale("+a.A.x+","+a.A.y+")";U(a.c,"transform",b)}},Xj=function(a,b){zi(b,Math.floor(a.v.width),Math.floor(a.v.height))},Yj=function(a){if(!Vj(a))return!0;var b=kh(a.m);return!a.P&&(a.g.width>b.width||a.g.height>b.height)&&300<a.g.width&&300<a.g.height};Uj.prototype.Y=function(){this.h=2;Yj(this)&&Zj(this)};
Uj.prototype.X=function(a){this.h=4;wi(this.a,!1);Yj(this)?Zj(this):(this.c&&Ai(this.c,this.l.hidden),this.dispatchEvent(a))};var Zj=function(a){if(!a.e){a.e=ei("img",a.l.Oa);var b=a.h;V(a.e,a.l.hidden,2==b||1==b);a.n=1;ff(ff(a.G,a.e,"load",a.da),a.e,"error",a.M);a.e.src=gh(a.m);Xj(a,a.e);Di(a.c,a.e)}};Uj.prototype.da=function(){this.n=2;this.a&&(Ai(this.a,this.l.hidden),wi(this.a,!1),this.h=3);Ci(this.e,this.l.hidden)}; Uj.prototype.M=function(a){this.n=4;wi(this.e,!1);this.a&&3==this.h?(Ci(this.a,this.l.hidden),wi(this.a,!0),this.h=2):2!=this.h&&(this.c&&Ai(this.c,this.l.hidden),this.dispatchEvent(a))};
var ak=function(a,b){P.call(this);this.m=a;this.l=jh(a)||kh(a)||new eh(1,1);this.h=fh(this.l)||1;var c=kh(this.m)&&kh(this.m).width||300,c=Math.min(b||300,c);this.e=new eh(c,Math.floor(c/this.h));this.n=new Uj(a);this.n.T(this);H(this,this.n);this.a=null;this.g=new T(0,0);this.c=new T(1,1);this.G=this.v=null};u(ak,P);var bk=pa.R().a?"col-ci-rtl":"col-ci";ak.prototype.D=function(){this.a&&(Fi(this.a),this.a=null);ak.I.D.call(this)};ak.prototype.L=function(){return this.g}; var ck=function(a){!a.a||Wh(a.g,a.v)&&Wh(a.c,a.G)||(U(a.a,"transform","translate3d("+Math.floor(a.g.x)+"px,"+Math.floor(a.g.y)+"px, 0) scale("+a.c.x+","+a.c.y+")"),a.v=a.g.clone(),a.G=a.c.clone())};ak.prototype.U=function(){return this.a};
var dk=function(a,b){W.call(this,b);this.w=!1;this.m=this.X=this.H=null;this.wa=new Mj(b);this.wa.T(this);H(this,this.wa);this.va=this.Ia=this.Ja=this.ab=this.Ga=this.Ha=this.M=this.K=this.ea=null;this.g=[];this.c=-1;this.Ua=this.Y=!1;this.v=this.h=this.Vb="";this.ja=!1;this.a=Dd().Nb;this.p=a;this.n=new oj(a,this.e);this.n.T(this);H(this,this.n);this.Ta=new Xi(this.Uc,ci(this.e.a),this);H(this,this.Ta);this.Fa=new zj;H(this,this.Fa);Mi(this).listen(this.Fa,"key",this.fd)};u(dk,W);var ek=A("gws.collections.serp.ClipperView");
k=dk.prototype;
k.ba=function(){dk.I.ba.call(this);var a=this.e,b=this.l;Bi(b,[this.a.ub,this.a.hidden]);this.H=a.F("div",this.a.ec);this.ea=a.F("div",[this.a.Nc,this.a.text]);this.K=a.F("div",[this.a.Mc,this.a.icon]);this.K.title=Zc;var c=a.F("div",this.a.Nd,[this.ea,a.F("div",this.a.re),this.K]),c=a.F("div",this.a.bc,c);this.M=a.F("div",[this.a.Sc,this.a.text,this.a.Bb]);this.Ha=a.F("div",[this.a.$d,this.a.hidden]);this.Ga=a.F("div",[this.a.Td,this.a.hidden]);this.X=a.F("div",this.a.Md,[c,this.M,this.Ha,this.Ga]);
this.ia=this.e.F("div",[this.a.Yc,this.a.text],yd);c=this.e.F("div",this.a.Kc);this.Sa=this.e.F("div",[this.a.group,this.a.pe],[this.ia,c]);this.vb=a.F("div",this.a.se,a.F("div",[this.a.ue,this.a.text],Ad));this.va=a.F("div",this.a.me);this.Ja=a.F("div",[this.a.oe,this.a.text]);this.Ia=a.F("div",[this.a.le,this.a.text],Bd);this.ab=a.F("div",this.a.ke,this.va,this.Ja,this.Ia);Ei(a,this.H,this.X);Ni(this.wa,this.H);Ei(a,this.H,this.Sa);Ni(this.n,this.H);c=this.n;Mi(c).listen(c.ja,"mousewheel",c.Va);
Ei(a,this.H,this.ab,this.vb);Ei(a,b,this.H)};
k.La=function(){dk.I.La.call(this);this.Fa.U()||yj(this.Fa,this.e.a.body);Mi(this).listen(this.e.a.body,"mouseup",this.pd).listen(this.U(),"mouseup",this.od).listen(this.ab,"click",this.ld).listen(this.K,"click",this.Fd).listen(this.Ha,"click",this.Od).listen(this.Ga,"click",this.Ld).listen(this.M,"click",this.rd).listen(this.Sa,"click",this.Wd).listen(this.vb,"click",this.Jd).listen(this,"nested_picker_folio_selected",this.dd).listen(this,"nested_picker_folio_unselected",this.ed)};
k.Wd=function(){this.A=!0;fk(this)};k.fd=function(a){27==a.a?this.dispatchEvent(new ah("cancel_edit")):13==a.a&&this.close()};k.od=function(a){a.ga()};
k.Zb=function(a){this.Vb="url("+a.n()+")";var b=rh(a);S(a);var c=b&&gh(b)||"";if(this.Ua){if(!this.m&&c||this.m&&!c||this.m&&gh(this.m.m)!=c)this.Y=!0}else b&&(jh(b)||kh(b))?(0==this.g.length&&(this.g=[b],this.c=0),gk(this,b)):(this.c=this.g.length,hk(this));b=this.wa;c=S(a);b.a.update(v(K(a.o,2))||v(K(c.a,2)));b.c.update(c?c.getTitle():"");b.g.update(gg(a));a=a.ra();(a=a[a.length-1])?(uj(this.n,a),this.h=a):this.h?(uj(this.n,this.h),this.dispatchEvent(new ah("move_to_folio",this.h))):(this.h="",
vj(this.n));this.w?fk(this):ik(this,!0)};var jk=function(a,b){return Ua(a.g,function(a){return gh(a)==b})};dk.prototype.mc=function(a){a=rh(a);var b=jk(this,gh(a));-1==b?B(ek,"removeImage: not in imageDataModels_ (length="+this.g.length+") img="+gh(a)):(Ya(this.g,b),b==this.c||0==this.g.length?(this.c=this.g.length,hk(this)):b<this.c&&(this.c--,gk(this,this.g[this.c])),fk(this))};
var gk=function(a,b){if(!a.m||a.m.m!=b){a.m&&a.m.la();U(a.X,"background-image","");a.m=new ak(b);H(a,a.m);var c=a.m;if(250!=c.l.width||126!=c.l.height){c.c.x=250/c.e.width;c.c.y=126/c.e.height;c.l.width=250;c.l.height=126;var d=new eh(0,0),e=new T(0,0);c.h>250/126?(d.width=126*c.h,d.height=126,e.x=.5*(250-d.width),e.y=0):(d.height=250/c.h,d.width=250,e.x=0,e.y=Math.max(Math.min(0,(Number(lc.portrait)||25)/100*-d.height+63),-d.height+126));var f=c.n,g=d.width,d=d.height,h=new T(1/c.c.x,1/c.c.y),l=
e.y;f.w.x=e.x;f.w.y=l;g&&d?(f.g.width=Number(g),f.g.height=Number(d)):g?(f.g.width=Number(g),f.g.height=g/f.K):(f.g.width=d*f.K,f.g.height=Number(d));f.A.x=f.g.width/f.v.width;f.A.y=f.g.height/f.v.height;f.H=h||null;f.P=!1;!f.P&&f.c&&(Yj(f)?(Zj(f),3==f.n&&(Ci(f.e,f.l.hidden),wi(f.e,!0),f.a&&wi(f.a,!1),f.h=3,f.n=2)):f.a&&3==f.h&&(Ci(f.a,f.l.hidden),wi(f.a,!0),f.h=2,f.e&&(wi(f.e,!1),f.n=3)));Wj(f);ck(c)}c=a.m;e=a.X;c.a=ei("div",bk);zi(c.a,Math.floor(c.e.width),Math.floor(c.e.height));U(c.a,"clip","rect(0px, "+
c.e.width+"px, "+c.e.height+"px, 0px)");ck(c);f=c.n;g=c.a;f.c||(f.c=ei("div",f.l.C),Xj(f,f.c));Wj(f);!f.a&&Vj(f)?!f.a&&Vj(f)&&(f.a=ei("img",f.l.Oa),f.h=1,ff(f.G,f.a,"load",f.Y),ff(f.G,f.a,"error",f.X),f.a.src=hh(f.m),Xj(f,f.a),Di(f.c,f.a)):Zj(f);Di(g,f.c);Di(e,c.a)}},hk=function(a){U(a.X,"background-image",a.Vb);a.m&&(a.m.la(),a.m=null)};dk.prototype.Od=function(){kk(this,this.c-1)};dk.prototype.Ld=function(){kk(this,this.c+1)};
var kk=function(a,b){b==a.c||0>b||b>a.g.length||(a.c=b,b==a.g.length?hk(a):gk(a,a.g[a.c]),a.Ua=!0,a.Y||(a.Y=!0,fj(a.Va,3E3,a)),fk(a))};dk.prototype.Va=function(){if(this.Y){this.Y=!1;var a=new ah("image_data_changed");a.a=[this.g[this.c]];this.dispatchEvent(a);this.dispatchEvent(new ze("log","","clipper_image_changed"))}};
dk.prototype.ld=function(){uj(this.n,this.v);this.h=this.v;this.dispatchEvent(new ah("move_to_folio",this.v));this.dispatchEvent(new ze("log","",this.ja?"clipper_last_used_selected":"clipper_suggest_selected"));lk(this.v);fk(this)};
var mk=function(a){if(!a.v){var b,c=Tj.R();b=c.get("stars.lufid");var d=c.get("stars.lufts"),c=Gh(a.p,b),d=432E5>oa()-d;if(b=c&&d?b:"")a.dispatchEvent(new ze("log","","clipper_last_used_displayed")),a.v=b,a.ja=!0,Gi(a.e,a.Ia,Cd)}},lk=function(a){var b=Tj.R();b.c&&b.a.set("stars.lufid",a);a=""+oa();b.c&&b.a.set("stars.lufts",a)},ik=function(a,b){a.w!=b&&(a.w=b,b||(a.A=!1,a.Va(),Nj(a.wa)),fk(a),a.dispatchEvent(new ah(a.w?"show_clipper":"hide_clipper")))},nk=function(a){Gi(a.e,a.ea,od);Ci(a.K,a.a.qc);
a.K.title=Zc};k=dk.prototype;k.close=function(){ik(this,!1)};k.pd=function(){D(ek,"Closed clipper view");ik(this,!1)};k.Fd=function(){D(ek,"Unstarred item from clipper view");this.h?(this.dispatchEvent(new ah("remove_from_folio",this.h)),this.h="",vj(this.n),fk(this)):(this.Y=!1,this.dispatchEvent(new ze("log","","undo_unstar")),this.dispatchEvent(new ze("log","","clipper_bookmark_deleted")),this.dispatchEvent(new ah("remove_clip")))};
k.rd=function(){this.h&&(D(ek,"Clicked on folio chip."),this.dispatchEvent(new ah("open_curation",this.h,!0)))};k.Jd=function(){D(ek,"Clicked on view activity.");this.dispatchEvent(new ze("log","","clipper_view_all"));this.dispatchEvent(new ah("open_curation",void 0,!0))};k.dd=function(a){var b=Uf(a);a=a.J?a.J.oa():"";this.A=!1;this.h=b;this.dispatchEvent(new ah("move_to_folio",b));this.dispatchEvent(new ze("log","","clipper_folder_selected"));lk(a||b);fk(this)};
k.ed=function(a){a=Uf(a);this.A=!1;this.h="";this.dispatchEvent(new ah("remove_from_folio",a));fk(this)};var fk=function(a){a.w&&a.dispatchEvent("clipper_opened");null!=a.Ta.a||$i(a.Ta)};
dk.prototype.Uc=function(){if(this.pa){var a;a=this.n;a=a.v in a.g?a.g[a.v].G():null;V(this.M,this.a.Bb,!a);if(a){a=a.getTitle();Gi(this.e,this.M,a);Gi(this.e,this.ia,a);var b=new Jc(Xc);a=Nc(b,{FOLDER_NAME:a});Gi(this.e,this.ea,a);Ai(this.K,this.a.qc);this.K.title=$c}else Gi(this.e,this.ia,yd),nk(this);a=-1!=this.c;V(this.Ha,this.a.hidden,!a||0==this.c);V(this.Ga,this.a.hidden,!a||this.c==this.g.length);V(this.X,this.a.Ud,a&&this.c==this.g.length);(a=Gh(this.p,this.v))?(Gi(this.e,this.Ja,a.getTitle()),
V(this.va,this.a.pc,!!K(a.o,6)),V(this.va,this.a.xb,Zg(a))):(this.v="",this.ja=!1);a=!!a&&!this.h&&!this.A;V(this.H,this.a.ne,a);this.w&&(b=this.e.a.body,V(b,this.a.Zd,a),V(b,this.a.Yd,this.A));V(this.l,this.a.hidden,!this.w);V(this.H,this.a.Rd,this.A);V(this.vb,this.a.te,this.A);V(this.Sa,this.a.Xc,this.A);this.A?(a=this.n,a.c[a.a.V].focus(),qj(a)):(a=this.n,b=a.c[a.a.V],b.value="",b.blur(),rj(a,null),Ci(b,a.a.nb));fj(this.Rc,310,this)}};dk.prototype.Rc=function(){this.w||this.dispatchEvent("clipper_closed")}; dk.prototype.D=function(){this.Va();dk.I.D.call(this)};
var ok=function(a){var b=new E(function(b,d){var e=new Image;e.onerror=na(d,"Error loading image: "+a);e.onabort=na(d,"Aborted loading image: "+a);e.onload=na(b,e);e.src=a});fj(b.G,2E3,b);return b};var pk=function(a){P.call(this);this.e=new cf(this);H(this,this.e);this.p=a;this.c=null};u(pk,P);var qk=A("gws.collections.serp.ClipperController");
pk.prototype.Gb=function(a){this.T(a);this.e.listen(this.p,"clip_removed",this.ad).listen(this.p,"clip_changed",this.$c).listen(this.p,"folio_removed",this.cd).listen(this.p,"folio_changed",this.bd).listen(this,"note_changed",this.xd).listen(this,"url_changed",this.Hd).listen(this,"title_changed",this.Ed).listen(this,"move_to_folio",this.vd).listen(this,"remove_clip",this.Bd).listen(this,"remove_from_folio",this.Cd).listen(this,"open_curation",this.yd).listen(this.Ea,"suggest_folios",this.Dd)};
var rk=function(a,b,c){a.c=b;if(a.a){var d=a.a,e=0;d.w&&(ik(d,!1),e=310);var f=d.n;f.K=[];qj(f);d.v="";d.g=[];d.c=-1;d.Ua=!1;mk(d);fj(r(d.Zb,d,b),e)}c&&(c=new Dh("get_suggested_folios"),c.a=b,a.dispatchEvent(c))};k=pk.prototype;k.ad=function(a){a.a&&this.c&&this.c==a.a&&(this.c=null,this.a&&this.a.close())};
k.$c=function(a){if(this.c&&this.c.k()==a.a.k()){var b=a.a;if(0!=a.source||0==a.source&&(203==a.c||204==a.c))if(!rh(b)||jh(rh(b))||203!=a.c||a.oldValue)this.a&&this.a.Zb(b);else{var c=gh(rh(b));ok(c).then(function(a){if(this.a)if(100>a.width||100>a.height)this.a.mc(b);else{var e=this.a,f=a.width;a=a.height;var g=rh(b),h=jk(e,gh(g));if(-1==h)B(ek,"updateImageSize: not in imageDataModels_ (length="+e.g.length+") w="+f+" h="+a+" img="+gh(g));else{var g=lh(g.B()),l=M(g.a,Gf,2);L(l,2,f);f=M(g.a,Gf,2);
L(f,3,a);e.g[h]=g;h==e.c&&Ch(b,g)}}else B(qk,"refetchImageSize("+c+") no save widget")},function(a){B(qk,"refetchImageSize("+c+") failed: "+a)},this)}}};k.cd=function(a){if(this.a){var b=this.a;a=a.J;b.pa&&(b.h==a.k()&&(b.h="",Gi(b.e,b.ia,yd),Ai(b.M,b.a.Bb),nk(b)),b.v==a.k()&&fk(b))}};
k.bd=function(a){if(this.a){var b=this.a;a=a.J;if(b.pa){var c=a.getTitle();if(b.h==a.k()){Gi(b.e,b.M,c);Gi(b.e,b.ia,c);var d;d=new Jc(Xc);d=Nc(d,{FOLDER_NAME:c});Gi(b.e,b.ea,d)}b.v==a.k()&&(Gi(b.e,b.Ja,c),V(b.va,b.a.pc,!!K(a.o,6)))}}};k.xd=function(a){Ah(this.c,a.value||"")};k.Ed=function(a){this.c.setTitle(a.value||"")};k.Hd=function(a){(a=Vf(a.value))&&yh(this.c,a)};k.vd=function(a){if(a=Gh(this.p,a.value)){var b=this.p,c=this.c,d=Q(void 0);Ng(a,c)||(Ug(a,c,d),R(b,d,void 0))}};
k.Bd=function(){var a=this.p,b=this.c.k(),c=Q(void 0),b=a.c.a[b]||null||Lh(a,b);a.Ba(b,c);R(a,c,void 0)};k.Cd=function(a){var b=this.p,c=this.c.k(),d=a.value;a=Q(void 0);c=b.c.a[c]||null||Lh(b,c);d=Gh(b,d);null!=d&&null!=c&&d.Ba(c,void 0,a);R(b,a,void 0)};k.yd=function(){D(qk,"Opening curation view");this.a&&this.a.close()};
k.Dd=function(a){if(a.a==this.c&&this.a){if(a.c&&a.c.length){var b=this.a;a=a.c;var c=b.n;c.K=[];for(var d=0;d<a.length;++d)a[d]in c.g&&Xa(c.K,a[d]);qj(c);b.v=a[0];b.ja=!1;Gi(b.e,b.Ia,Bd);b.dispatchEvent(new ze("log","","clipper_suggest_displayed"))}else b=this.a,a=b.n,a.K=[],qj(a),b.v="",b.ja=!1,mk(b);fk(b)}};
var sk=function(a){pk.call(this,a);this.g=!1};u(sk,pk);A("gws.collections.serp.PageClipperController");k=sk.prototype;k.Gb=function(a){sk.I.Gb.call(this,a);this.e.listen(this.p,"clip_added",this.Zc).listen(this,"image_data_changed",this.td).listen(a,"add_extra_image_data",this.md).listen(a,"force_clipper_clip",this.sd).listen(this,"cancel_edit",this.nd)};k.Zc=function(a){if(0==a.source||4==a.source)this.g=!0,rk(this,a.a,0==a.source)};
k.td=function(a){if(a.a[0])Ch(this.c,a.a[0]);else{a=this.c;var b=new ih;L(b.a,6,!0);Ch(a,b,void 0)}};k.sd=function(a){this.g=!1;rk(this,a.c,!0)};k.nd=function(){this.g&&this.dispatchEvent(new ah("remove_clip"))};k.md=function(a){if(this.a){var b=this.a;a=a.a;if(b.m){for(var c=b.g[b.c],d=!1,e=0;e<a.length;++e)if(gh(c)==gh(a[e])){d=!0;b.c=e;break}d||(a.unshift(c),b.c=0)}else b.c=a.length;b.g=a;fk(b)}};
var tk=function(a){xf(this,a,-1,null)};u(tk,J);var uk=function(a){xf(this,a,-1,null)};u(uk,J);uk.prototype.getTitle=function(){return K(this,4)};uk.prototype.setTitle=function(a){L(this,4,a)};var vk=function(){};ca(vk);
var wk=A("gws.collections.utils.SuggestRequestBuilder"),yk=function(a,b){var c=xk(b);if(!c)return null;var d=new uk;N(d,1,c);c=b.k();L(d,2,c);d.setTitle(v(b.getTitle()));c=S(b);L(d,5,v(c?v(v(K(c.a,2))):""));return d},xk=function(a){var b=xh(a);if(1!=b&&2!=b&&4!=b)return C(wk,"Could not make querydoc for clip of type: "+b),null;var c,d;1==xh(a)?(d=rh(a),d=v(K(d.a,1))):2==xh(a)?(d=S(a),d=v(K(d.a,4))):d="";c=d;if(1==b){if(!c)return C(wk,"Image clip had no doc id."),null}else if(!(2!=b&&4!=b||c||gg(a)))return C(wk, "Web page clip had no URL."),null;d=new tk;c&&L(d,1,c);c||2!=b&&4!=b||(a=gg(a),L(d,3,a));1==b?L(d,2,1):2!=b&&4!=b||L(d,2,2);return d};
var zk=function(a,b){a.forEach(function(a){b(a);a.children&&zk(a.children,b)})},Ak=function(a,b){var c=[];zk(a,function(a){c.push(a)});return ge(Ra(c,b))};var Bk=function(){this.c={};this.a={}};ca(Bk);var Ck=function(a){var b=Bk.R();a&&(b.c[a]=(b.c[a]||0)+1)},Dk=function(a){var b=Bk.R();a&&(b.a[a]=(b.a[a]||0)+1)};var Ek=function(a){we.call(this);this.e=a;this.a={};this.c={}};u(Ek,we);Ek.prototype.D=function(){this.unlisten();Ek.I.D.call(this)};Ek.prototype.listen=function(a,b){var c=r(b,this.e);a.addListener(c);var d=a[ja]||(a[ja]=++ka);d in this.a?this.c[d].add(c):(this.a[d]=a,this.c[d]=new Od([c]));return this};Ek.prototype.unlisten=function(a){if(a){var b=a[ja]||(a[ja]=++ka);if(b in this.a){var c=this.c[b].$();Pa(c,a.removeListener,a);delete this.c[b];delete this.a[b]}}else ob(this.a,this.unlisten,this)};
var Fk=function(a){return Ra(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var Gk=function(){this.c=-1};var Hk=function(){this.c=-1;this.c=64;this.a=[];this.h=[];this.m=[];this.g=[];this.g[0]=128;for(var a=1;a<this.c;++a)this.g[a]=0;this.l=this.e=0;this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.a[4]=3285377520;this.l=this.e=0};u(Hk,Gk);
var Ik=function(a,b,c){c||(c=0);var d=a.m;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.a[0];c=a.a[1];for(var g=a.a[2],h=a.a[3],l=a.a[4],q,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),q=1518500249):(f=c^g^h,q=1859775393):60>e?(f=c&g|h&(c|g),q=2400959708):(f=c^g^h,q=3395469782),
f=(b<<5|b>>>27)+f+l+q+d[e]&4294967295,l=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+c&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+h&4294967295;a.a[4]=a.a[4]+l&4294967295};
Hk.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.c,d=0,e=this.h,f=this.e;d<b;){if(0==f)for(;d<=c;)Ik(this,a,d),d+=this.c;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.c){Ik(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.c){Ik(this,e);f=0;break}}this.e=f;this.l+=b}};
var Jk={Ve:"ceb78281253d004c97cea9cd1c8fde847243f04b",Te:"efb56b6adf5cb5f3688780e16941e316e503f8dd",cf:"a91f2de32a4187d369b4432584d4152f506ba4fa"},Kk=function(){var a=rb(Jk),b,c=chrome.runtime.id;b=new Hk;b.update(c);b.update("5238b7ea1925f09c60862cf5c0c0507d446b189c");var c=[],d=8*b.l;56>b.e?b.update(b.g,56-b.e):b.update(b.g,b.c-(b.e-56));for(var e=b.c-1;56<=e;e--)b.h[e]=d&255,d/=256;Ik(b,b.h);for(e=d=0;5>e;e++)for(var f=24;0<=f;f-=8)c[d]=b.a[e]>>f&255,++d;b=Fk(c);return Wa(a,b)};
var Lk=function(){P.call(this);this.e=new cf(this);H(this,this.e)};u(Lk,P);Lk.prototype.a=function(a){this.T(a)};var Mk=A("image.collections.extension.Promises"),ie=function(a){B(Mk,a.toString())},X=function(a,b,c){return function(d){var e=chrome.runtime.lastError;e?(Dk(a),c(e.message||"Unknown Chrome API error")):(Ck(a),b(d))}},Nk=function(){var a=chrome.runtime.id;return new E(function(b,c){chrome.management.get(a,X("chrome.management.get",b,c))})},Pk=function(){return n(Ok)?F(Ok):Nk().then(function(a){return Ok=a=a.version})},Ok,Qk=function(){return new E(function(a,b){chrome.bookmarks.getTree(X("chrome.bookmarks.getTree",
a,b))})},Sk=function(){return Rk().then(function(a){return Qk().then(function(b){function c(b){b.Aa=a[b.id]||{};b.children&&b.children.forEach(c)}b.forEach(c);return b})})},Tk=function(){return new E(function(a,b){chrome.bookmarkManagerPrivate.getSubtree("",!0,X("chrome.bookmarkManagerPrivate.getSubtree",a,b))})},Uk=function(a){return new E(function(b,c){chrome.bookmarks.get(a,X("chrome.bookmarks.get",b,c))})},Vk=function(a){return new E(function(b,c){chrome.bookmarks.getChildren(a,X("chrome.bookmarks.getChildren",
b,c))})},Wk=function(a){return Vk("0").then(function(b){return a<b.length?b[a]:fe("No child "+a+" in node 0")})},Yk=function(){return n(Xk)?F(Xk):Wk(0).then(function(a){return Xk=a.id})},Xk,$k=function(){return n(Zk)?F(Zk):Wk(1).then(function(a){return Zk=a.id})},Zk,al=function(a){return new E(function(b,c){chrome.bookmarkManagerPrivate.getMetaInfo(a,"stars.id",function(d){n(d)?(Ck("chrome.bookmarkManagerPrivate.getMetaInfo"),b(d)):(Dk("chrome.bookmarkManagerPrivate.getMetaInfo"),c("Node "+a+" has no property stars.id"))})})},
bl=function(a){return new E(function(b){chrome.bookmarkManagerPrivate.getMetaInfo(a,void 0,function(a){n(a)?Ck("chrome.bookmarkManagerPrivate.getMetaInfo"):Dk("chrome.bookmarkManagerPrivate.getMetaInfo");b(a||{})})})},Rk=function(){return new E(function(a){chrome.bookmarkManagerPrivate.getMetaInfo(void 0,void 0,function(b){n(b)?Ck("chrome.bookmarkManagerPrivate.getMetaInfo"):Dk("chrome.bookmarkManagerPrivate.getMetaInfo");a(b||{})})})},cl=function(a,b,c){return new E(function(d,e){chrome.bookmarkManagerPrivate.setMetaInfo(a,
b,c,X("chrome.bookmarkManagerPrivate.setMetaInfo",d,e))})},dl=function(a){return new E(function(b,c){chrome.bookmarks.create(a,X("chrome.bookmarks.create",b,c))})},el=function(a,b){return new E(function(c,d){chrome.bookmarks.move(a,b,X("chrome.bookmarks.move",c,d))})},fl=function(a,b){return new E(function(c,d){chrome.bookmarkManagerPrivate.createWithMetaInfo(a,b,X("chrome.bookmarkManagerPrivate.createWithMetaInfo",c,d))})},gl=function(a){return new E(function(b,c){chrome.bookmarks.remove(a,X("chrome.bookmarks.remove",
b,c))})},hl=function(a){return new E(function(b,c){chrome.bookmarks.removeTree(a,X("chrome.bookmarks.removeTree",b,c))})},il=function(a,b){return new E(function(c,d){chrome.bookmarks.update(a,b,X("chrome.bookmarks.update",c,d))})},jl=function(a){return new E(function(b,c){chrome.bookmarks.search(a,X("chrome.bookmarks.search",b,c))})},kl=function(a,b){return new E(function(c,d){chrome.tabs.executeScript(a,b,X("chrome.tabs.executeScript",c,d))})},ll=function(a){return new E(function(b,c){chrome.tabs.query(a,
X("chrome.tabs.query",b,c))})},ml=function(a){return new E(function(b,c){chrome.tabs.get(a,X("chrome.tabs.get",b,c))})},nl=function(a){var b={active:!0};return new E(function(c,d){chrome.tabs.update(a,b,X("chrome.tabs.update",c,d))})},ol=function(a){return new E(function(b,c){chrome.tabs.create(a,X("chrome.tabs.create",b,c))})},pl=function(){return new E(function(a,b){chrome.identity.getAuthToken({interactive:!Kk()},X("chrome.identity.getAuthToken",a,b))})},ql=function(a){return new E(function(b,
c){chrome.identity.removeCachedAuthToken({token:a},X("chrome.identity.removeCachedToken",b,c))})},rl=function(){return new E(function(a,b){chrome.identity.getProfileUserInfo(X("chrome.identity.getProfileUserInfo",a,b))})},sl=function(){return new E(function(a,b){chrome.storage.local.get("had-full-extension",X("chrome.storage.local.get",a,b))})},tl=function(){var a={"had-full-extension":"1"};new E(function(b,c){chrome.storage.local.set(a,X("chrome.storage.local.set",b,c))})};
var ul=function(a){this.a=a};ul.prototype.k=function(){return this.a};var vl=function(a){Lk.call(this);this.p=a;this.c=null;this.g=new Ek(this);H(this,this.g)};u(vl,Lk);var wl=A("image.collections.extension.ActiveTabController");vl.prototype.a=function(a){vl.I.a.call(this,a);ll({active:!0,currentWindow:!0}).then(function(a){0<a.length&&(this.c=new ul(a[0].id),this.g.listen(chrome.tabs.onUpdated,this.m).listen(chrome.tabs.onReplaced,this.h).listen(chrome.runtime.onMessage,this.l));xl(this)},void 0,this)};
vl.prototype.l=function(a){switch(a.type){case "created_clip":var b;try{b=new th(new Nf(vf(a.clipData)))}catch(c){b=null}var d;d=this.p;var e=b.k();if(d=d.c.a[e]||null||Lh(d,e)){var e=new sg(0,void 0),f=Q(e);xh(b)&&Bh(d,xh(b),f);rh(b)&&Ch(d,rh(b),f);S(b)&&zh(d,S(b),f);R(d,f,e);ug(e,this.p)}else C(wl,"Clip created for non-existent clip?");b=a.images;a=[];for(d=0;d<b.length;d++)a.push(lh(b[d]));a.length&&(b=new ah("add_extra_image_data"),b.a=a,this.dispatchEvent(b));break;case "salient_images_found":b=
a.images;a=[];for(d=0;d<b.length;d++)a.push(lh(b[d]));a.length&&(b=new ah("add_extra_image_data"),b.a=a,this.dispatchEvent(b));break;default:B(wl,"Invalid message type: "+a.type)}};vl.prototype.m=function(a,b,c){a==this.c.k()&&"loading"==b.status&&(this.c=new ul(c.id))};vl.prototype.h=function(a,b){b==this.c.k()&&(this.c=new ul(a),ml(a).then(function(){},void 0,this))};
var xl=function(a){var b={code:'!window["__SENTINEL__"];'.replace("__SENTINEL__","full_script_injected"),allFrames:!1,runAt:"document_start"};kl(a.c.k(),b).then(function(a){a[0]&&yl(this)},function(a){B(wl,a.toString())},a)},yl=function(a){function b(a){B(wl,a.toString())}var c=chrome.runtime.getManifest().content_scripts,d=a.c.k();c.forEach(function(a){var c=a.all_frames,g=a.run_at;a.js.forEach(function(a){le(kl(d,{allFrames:c,runAt:g,file:a}),b)})})}; vl.prototype.postMessage=function(a){if(!this.c)return!1;chrome.tabs.sendMessage(this.c.k(),a,r(function(b){b||fj(r(this.postMessage,this,a),100)},this));return!0};
var zl=null,Al=null;var Bl=0,Cl=0,Dl=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String){if(!zl){zl={};Al={};for(var b=0;65>b;b++)zl[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),Al[zl[b]]=b,62<=b&&(Al["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b)]=b)}for(var b=Al,c=[],d=0;d<a.length;){var e=b[a.charAt(d++)],f=d<a.length?
b[a.charAt(d)]:0;++d;var g=d<a.length?b[a.charAt(d)]:64;++d;var h=d<a.length?b[a.charAt(d)]:64;++d;if(null==e||null==f||null==g||null==h)throw Error();c.push(e<<2|f>>4);64!=g&&(c.push(f<<4&240|g>>2),64!=h&&c.push(g<<6&192|h))}return new Uint8Array(c)}return new Uint8Array(0)};
var Fl=function(a,b,c,d){this.c=null;this.m=this.n=this.a=this.g=this.l=0;this.v=!1;this.next=n(d)?d:this.e;a&&El(this,a,b,c)},Gl=[],Hl=0,Il=function(a,b,c,d){if(Hl){Hl--;var e=Gl[Hl];a&&(El(e,a,b,c),n(d)?e.next=d:e.next=e.e);return e}return new Fl(a,b,c,d)};Fl.prototype.clone=function(){return Il(this.c,this.l,this.g-this.l,this.next)};var El=function(a,b,c,d){a.c=Dl(b);a.l=n(c)?c:0;a.g=n(d)?a.l+d:a.c.length;a.a=a.l};
Fl.prototype.e=function(){var a,b=this.c;a=b[this.a+0];var c=a&127;if(128>a)return this.a+=1,c;a=b[this.a+1];c|=(a&127)<<7;if(128>a)return this.a+=2,c;a=b[this.a+2];c|=(a&127)<<14;if(128>a)return this.a+=3,c;a=b[this.a+3];c|=(a&127)<<21;if(128>a)return this.a+=4,c;a=b[this.a+4];c|=(a&15)<<28;if(128>a)return this.a+=5,c>>>0;this.a+=10;return c};Fl.prototype.h=Fl.prototype.e;
var Jl=function(a){this.a=Il(a,void 0,void 0);this.e=this.c=-1;this.g=!1},Kl=function(a){var b=a.a;(b=b.a==b.g)||(b=a.g)||(b=a.a,b=b.v||0>b.a||b.a>b.g);if(b)return!1;var b=a.a.e(),c=b&7;if(0!=c&&5!=c&&1!=c&&2!=c)return a.g=!0,!1;a.c=b>>>3;a.e=c;return!0},Ll=function(a){switch(a.e){case 0:if(0!=a.e)Ll(a);else{for(var b=a.a;b.c[b.a]&128;)b.a++;b.a++}break;case 1:1!=a.e?Ll(a):(b=a.a,b.a+=8);break;case 2:2!=a.e?Ll(a):(b=a.a.e(),a=a.a,a.a+=b);break;case 5:5!=a.e?Ll(a):(b=a.a,b.a+=4)}},Nl=function(a,b){var c=
Ml,d=a.a.g,e=a.a.e(),e=a.a.a+e;a.a.g=e;c(b,a);a.a.a=e;a.a.g=d},Ol=function(a){var b=a.a.e();a=a.a;for(var c=a.c,d=a.a,b=d+b,e=[];d<b;){var f=c[d++];if(128>f)e.push(f);else if(!(192>f))if(224>f){var g=c[d++];e.push((f&31)<<6|g&63)}else if(240>f){var g=c[d++],h=c[d++];e.push((f&15)<<12|(g&63)<<6|h&63)}}c=String.fromCharCode.apply(null,e);a.a=d;return c};
var Pl=A("image.collections.extension.ProtoParser"),Ml=function(a,b){try{for(var c=0;Kl(b);){switch(b.c){case 1:var d=Ol(b);L(a,1,d);break;case 2:var e=b.a.h();L(a,2,e);break;case 3:var f=b.a.h();L(a,3,f);break;default:Ll(b)}if(100<++c)return B(Pl,"Reached max number of fields while parsing image info"),!1}return!0}catch(g){return B(Pl,"Failed to parse image info: "+g),!1}};
var Ql=function(){this.a=[];this.c=[];this.e=[]},Sl=function(a){var b=a.a,c=a.e.pop();a.a=a.c.pop();Rl(a,8*(c>>>0)+2);Rl(a,b.length);a.a=a.a.concat(b)},Rl=function(a,b){var c=b,d=0>c,c=Math.abs(c),e=c>>>0,c=Math.floor((c-e)/4294967296),c=c>>>0;d&&(c=~c>>>0,e=(~e>>>0)+1,4294967295<e&&(e=0,c++,4294967295<c&&(c=0)));Bl=e;Cl=c;d=Bl;for(e=Cl;0<e||127<d;)a.a.push(d&127|128),d=(d>>>7|e<<25)>>>0,e>>>=7;a.a.push(d)},Tl=function(a,b,c){null!=c&&(Rl(a,8*(b>>>0)+0),Rl(a,c))},Ul=function(a,b,c){if(null!=c){Rl(a, 8*(b>>>0)+2);b=[];for(var d=0,e=0;e<c.length;e++){var f=c.charCodeAt(e);128>f?b[d++]=f:(2048>f?b[d++]=f>>6|192:(b[d++]=f>>12|224,b[d++]=f>>6&63|128),b[d++]=f&63|128)}Rl(a,b.length);a.a=a.a.concat(b)}};
var Vl=function(a,b){var c=Hf(b);c&&Ul(a,1,c);c=K(b,2);null!=c&&null!=c&&Tl(a,2,c);c=K(b,3);null!=c&&null!=c&&Tl(a,3,c)},Wl=function(a,b){var c=K(b,1);c&&Ul(a,1,c);if(c=M(b,Gf,2))a.c.push(a.a),a.e.push(2),a.a=[],Vl(a,c),Sl(a);if(c=M(b,Gf,3))a.c.push(a.a),a.e.push(3),a.a=[],Vl(a,c),Sl(a)},Xl=function(a,b){var c=K(b,1);c&&Ul(a,1,c);c=K(b,2);null!=c&&null!=c&&Tl(a,2,c);c=K(b,3);null!=c&&null!=c&&Tl(a,3,c)},Yl=function(a,b){var c=K(b,1);c&&Ul(a,1,c);(c=b.getTitle())&&Ul(a,2,c);if(c=K(b,3))for(var d=0;d<
c.length;++d)Ul(a,3,c[d]);(c=K(b,4))&&Ul(a,4,c);(c=K(b,5))&&Ul(a,5,c);(c=K(b,6))&&Ul(a,6,c)},Zl=function(a,b){var c=b.getTitle();c&&Ul(a,1,c);(c=K(b,2))&&Ul(a,2,c);(c=K(b,3))&&Ul(a,3,c);(c=K(b,4))&&Ul(a,4,c);(c=K(b,5))&&Ul(a,5,c);c=K(b,6);null!=c&&c&&null!=c&&(Rl(a,48),Rl(a,~~c));(c=K(b,7))&&null!=c&&(Rl(a,56),Rl(a,c))};
var $l=function(a,b,c){this.name=a;n(b)&&(this.id=b);this.l=!n(c)||c},am={},bm=function(a){a=a.a();0==--am[a]&&delete am[a]};$l.prototype.execute=function(){return ke(Pk().then(function(a){a="crx."+a;return this.id&&this.l?cl(this.id,"stars.version",a).then(fb(a)):a},void 0,this).then(function(a){var b=this.a();b in am?++am[b]:am[b]=1;return this.c(a)},void 0,this),na(bm,this))};$l.prototype.a=function(){return wf(this)};
var cm=function(a,b,c,d,e){$l.call(this,"create",void 0,!1);this.title=a;this.parentId=b;n(c)&&(this.index=c);n(d)&&(this.url=d);this.Aa=e||{}};u(cm,$l);cm.prototype.a=function(){return wf(new cm(this.title,this.parentId,void 0,this.url,void 0))};cm.prototype.c=function(a){var b={title:this.title,parentId:this.parentId};n(this.index)&&(b.index=this.index);n(this.url)&&(b.url=this.url);var c=this.Aa,d={},e;for(e in c)d[e]=c[e];n(a)&&(d["stars.version"]=a);return fl(b,d)};
var dm=A("image.collections.extension.Serialization"),em=function(a){try{return 0==a.lastIndexOf(")]}',",0)&&(a=a.substring(5)),vf(a)}catch(b){return null}},fm=function(a,b){var c=new Ql;b(c,a);c=String.fromCharCode.apply(null,new Uint8Array(c.a));return window.btoa(c)},gm=function(a){try{a=window.atob(a)}catch(b){return null}for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return new Jl(c)},hm=function(a){if(!a)return null;a=gm(a);if(!a)return B(dm,"Image data is not base64-encoded"),
null;var b=new Ff,c;t:try{for(var d=0;Kl(a);){switch(a.c){case 1:var e=Ol(a);L(b,1,e);break;case 2:var f=new Gf;Nl(a,f);N(b,2,f);break;case 3:var g=new Gf;Nl(a,g);N(b,3,g);break;default:Ll(a)}if(100<++d){B(Pl,"Reached max number of fields while parsing image data");c=!1;break t}}c=!0}catch(h){B(Pl,"Failed to parse image data: "+h),c=!1}return c?new ih(b):(B(dm,"Cannot parse image data"),null)},im=function(a){if(!a)return null;a=gm(a);if(!a)return B(dm,"Page data is not base64-encoded"),null;var b=
new Jf,c;t:try{for(var d=0;Kl(a);){switch(a.c){case 1:b.setTitle(Ol(a));break;case 2:var e=Ol(a);L(b,2,e);break;case 3:var f=Ol(a);L(b,3,f);break;case 4:var g=Ol(a);L(b,4,g);break;case 5:var h=Ol(a);L(b,5,h);break;case 6:var l=!!a.a.e();L(b,6,l);break;case 7:var q=a.a;i:{for(var t=q,x=void 0,G=0,zc=0,cc=0;4>cc;cc++)if(x=t.c[t.a++],G|=(x&127)<<7*cc,128>x){t.n=G>>>0;t.m=0;break i}x=t.c[t.a++];G|=(x&127)<<28;zc|=(x&127)>>4;if(128>x)t.n=G>>>0,t.m=zc>>>0;else{for(cc=0;5>cc;cc++)if(x=t.c[t.a++],zc|=(x&
127)<<7*cc+3,128>x){t.n=G>>>0;t.m=zc>>>0;break i}t.v=!0}}var ue=q.n,Ac=q.m;if(t=Ac&2147483648)ue=~ue+1>>>0,Ac=~Ac>>>0,0==ue&&(Ac=Ac+1>>>0);x=4294967296*Ac+ue;L(b,7,t?-x:x);break;default:Ll(a)}if(100<++d){B(Pl,"Reached max number of fields while parsing page data");c=!1;break t}}c=!0}catch(pn){B(Pl,"Failed to parse page data: "+pn),c=!1}return c?new Xf(b):(B(dm,"Cannot parse page data"),null)},jm=function(a){if(!a)return null;a=gm(a);if(!a)return B(dm,"Entity data is not base64-encoded"),null;var b=
new Ef,c;t:try{for(var d=0;Kl(a);){switch(a.c){case 1:var e=Ol(a);L(b,1,e);break;case 2:b.setTitle(Ol(a));break;case 3:if(K(b,3))K(b,3).push(Ol(a));else{var f=[Ol(a)];L(b,3,f||[])}break;case 4:var g=Ol(a);L(b,4,g);break;case 5:var h=Ol(a);L(b,5,h);break;case 6:var l=Ol(a);L(b,6,l);break;default:Ll(a)}if(100<++d){B(Pl,"Reached max number of fields while parsing entity data");c=!1;break t}}c=!0}catch(q){B(Pl,"Failed to parse entity data: "+q),c=!1}return c?new bh(b):(B(dm,"Cannot parse entity data"),
null)},km=function(a){if(!a)return null;a=gm(a);if(!a)return B(dm,"Video data is not base64-encoded"),null;var b=new Lf,c;t:try{for(var d=0;Kl(a);){switch(a.c){case 1:var e=Ol(a);L(b,1,e);break;case 2:var f=a.a.h();L(b,2,f);break;case 3:var g=a.a.h();L(b,3,g);break;default:Ll(a)}if(100<++d){B(Pl,"Reached max number of fields while parsing video data");c=!1;break t}}c=!0}catch(h){B(Pl,"Failed to parse video data: "+h),c=!1}return c?new nh(b):(B(dm,"Cannot parse video data"),null)};
var lm=function(){};lm.prototype.a=null;var nm=function(a){var b;(b=a.a)||(b={},mm(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var om,pm=function(){};u(pm,lm);var qm=function(a){return(a=mm(a))?new ActiveXObject(a):new XMLHttpRequest},mm=function(a){if(!a.c&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.c=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.c};om=new pm;
var rm=function(a){P.call(this);this.ea=new yb;this.A=a||null;this.e=!1;this.w=this.a=null;this.h=this.K=this.n="";this.g=this.P=this.m=this.H=!1;this.l=0;this.v=null;this.da="";this.G=this.ja=!1};u(rm,P);rm.prototype.c=A("goog.net.XhrIo");var sm=/^https?$/i,tm=["POST","PUT"],um=[],vm=function(a,b,c,d){var e=new rm;um.push(e);b&&e.listen("complete",b);e.ma.add("ready",e.Y,!0,void 0,void 0);d&&(e.l=Math.max(0,d));e.send(a,"GET",void 0,c)};rm.prototype.Y=function(){this.la();Za(um,this)};
rm.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.n+"; newUri="+a);b=b?b.toUpperCase():"GET";this.n=a;this.h="";this.K=b;this.H=!1;this.e=!0;this.a=this.A?qm(this.A):qm(om);this.w=this.A?nm(this.A):nm(om);this.a.onreadystatechange=r(this.M,this);try{de(this.c,wm(this,"Opening Xhr")),this.P=!0,this.a.open(b,String(a),!0),this.P=!1}catch(e){de(this.c,wm(this,"Error opening Xhr: "+e.message));xm(this,e);return}a=c||"";var f=this.ea.clone();
d&&Cb(d,function(a,b){f.set(b,a)});d=Va(f.xa(),ym);c=m.FormData&&a instanceof m.FormData;!Wa(tm,b)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.da&&(this.a.responseType=this.da);"withCredentials"in this.a&&(this.a.withCredentials=this.ja);try{zm(this),0<this.l&&(this.G=Am(this.a),de(this.c,wm(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.G)),this.G?(this.a.timeout=this.l,this.a.ontimeout=
r(this.X,this)):this.v=fj(this.X,this.l,this)),de(this.c,wm(this,"Sending request")),this.m=!0,this.a.send(a),this.m=!1}catch(g){de(this.c,wm(this,"Send error: "+g.message)),xm(this,g)}};var Am=function(a){return w&&Lb(9)&&ga(a.timeout)&&n(a.ontimeout)},ym=function(a){return"content-type"==a.toLowerCase()};
rm.prototype.X=function(){"undefined"!=typeof aa&&this.a&&(this.h="Timed out after "+this.l+"ms, aborting",de(this.c,wm(this,this.h)),this.dispatchEvent("timeout"),this.a&&this.e&&(de(this.c,wm(this,"Aborting")),this.e=!1,this.g=!0,this.a.abort(),this.g=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bm(this)))};var xm=function(a,b){a.e=!1;a.a&&(a.g=!0,a.a.abort(),a.g=!1);a.h=b;Cm(a);Bm(a)},Cm=function(a){a.H||(a.H=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
rm.prototype.D=function(){this.a&&(this.e&&(this.e=!1,this.g=!0,this.a.abort(),this.g=!1),Bm(this,!0));rm.I.D.call(this)};rm.prototype.M=function(){this.sa||(this.P||this.m||this.g?Dm(this):this.ia())};rm.prototype.ia=function(){Dm(this)};
var Dm=function(a){if(a.e&&"undefined"!=typeof aa)if(a.w[1]&&4==Em(a)&&2==Fm(a))de(a.c,wm(a,"Local request error detected and ignored"));else if(a.m&&4==Em(a))fj(a.M,0,a);else if(a.dispatchEvent("readystatechange"),4==Em(a)){de(a.c,wm(a,"Request complete"));a.e=!1;try{if(Gm(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<Em(a)?a.a.statusText:""}catch(c){de(a.c,"Can not get status: "+c.message),b=""}a.h=b+" ["+Fm(a)+"]";Cm(a)}}finally{Bm(a)}}},Bm=function(a,b){if(a.a){zm(a);
var c=a.a,d=a.w[0]?ba:null;a.a=null;a.w=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){B(a.c,"Problem encountered resetting onreadystatechange: "+e.message)}}},zm=function(a){a.a&&a.G&&(a.a.ontimeout=null);ga(a.v)&&(m.clearTimeout(a.v),a.v=null)},Gm=function(a){var b=Fm(a),c;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break t;default:c=!1}if(!c){if(b=0===b)a=Rb(String(a.n))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0, a.length-1)),b=!sm.test(a?a.toLowerCase():"");c=b}return c},Em=function(a){return a.a?a.a.readyState:0},Fm=function(a){try{return 2<Em(a)?a.a.status:-1}catch(b){return-1}},wm=function(a,b){return b+" ["+a.K+" "+a.n+" "+Fm(a)+"]"};
var Hm=function(a,b,c){return new E(function(d,e){function f(c,h){function l(){fj(na(f,c-1,2*h),h)}pl().then(function(f){vm(a,function(b){b=b.target;if(Gm(b)){var x;try{x=b.a?b.a.responseText:""}catch(G){de(b.c,"Can not get responseText: "+G.message),x=""}d(x)}else if(0<c)switch(Fm(b)){case 403:case 401:ql(f).then(l,e);break;case 500:h*=2;l();break;default:l()}else e(a+" returned "+Fm(b))},{Authorization:"Bearer "+f},b||0)},e)}te().then(function(a){a?f(c||0,500):e("The user is not signed in.")})})};
var Im=function(a,b,c,d){Lk.call(this);this.endpoint=a;this.h=b;this.m=c;this.l=d};u(Im,Lk);A("image.collections.extension.GwsController");
Im.prototype.sendRequest=function(a){var b=new Tb("https://www.google.com/stars"+this.endpoint);n(a)&&b.a.set("q",a);return le(Pk().then(function(a){b.a.set("v",encodeURIComponent(String("crx."+a)));return Hm(b,this.h,this.m)},void 0,this).then(function(a){if("json"==this.l){if(a=em(a))return a;throw"Response from "+b.toString()+" is not JSON";}return a},void 0,this),function(a){this.dispatchEvent(new ze("log",a.toString(),"xhr_failure"));throw a;},this)};
var Jm=function(a,b,c){$l.call(this,"move",a);null!=b&&(this.parentId=b);null!=c&&(this.index=c)};u(Jm,$l);Jm.prototype.c=function(){var a={};null!=this.parentId&&(a.parentId=this.parentId);null!=this.index&&(a.index=this.index);return el(this.id,a)};var Km=function(a){this.c=a||m;this.a=[]},Lm=A("image.collections.extension.PromiseQueue");Km.prototype.add=function(a){this.a.push(a);1==this.a.length&&Mm(this)};var Mm=function(a){ke(le(a.a[0].call(a.c),function(a){B(Lm,a.toString())}),function(){this.a.shift();0<this.a.length&&Mm(this)},a)};
var Nm=function(a){$l.call(this,"remove",a,!1)};u(Nm,$l);Nm.prototype.c=function(){return gl(this.id)};var Om=function(a){$l.call(this,"removeTree",a,!1)};u(Om,$l);Om.prototype.c=function(){return hl(this.id)};var Pm=function(a,b,c){$l.call(this,"setMetaInfo",a);this.e=b;this.value=c};u(Pm,$l);var Qm=function(a,b,c){return new Pm(a,b,c)};Pm.prototype.c=function(){return cl(this.id,this.e,this.value)};var Rm=function(a,b,c){$l.call(this,"update",a);null!=b&&(this.e=b);null!=c&&(this.g=c)};u(Rm,$l);Rm.prototype.c=function(){var a={};null!=this.e&&(a.title=this.e);null!=this.g&&(a.url=this.g);return il(this.id,a)};var Sm=function(a){Lk.call(this);this.p=a;this.O={};this.Q={};this.N={};this.c=new Km(this);this.g=new Ek(this);H(this,this.g)};u(Sm,Lk);var Y=A("image.collections.extension.IoController"),Tm=["f_bookmarks_bar","f_other_bookmarks","f_mobile_bookmarks","f_managed_bookmarks"];
Sm.prototype.a=function(a){Sm.I.a.call(this,a);ff(this.e.listen(this.p,"TRANSACTION_COMMIT",this.A),a,"load_all",this.h);this.c.add(function(){return Pk().then(function(a){chrome.bookmarkManagerPrivate.setVersion("crx."+a)})});this.g.listen(chrome.runtime.onInstalled,this.l).listen(chrome.bookmarks.onCreated,this.n).listen(chrome.bookmarks.onRemoved,this.w).listen(chrome.bookmarks.onChanged,this.m).listen(chrome.bookmarks.onMoved,this.G).listen(chrome.bookmarkManagerPrivate.onMetaInfoChanged,this.v)};
Sm.prototype.l=function(a){"install"==a.reason&&Yk().then(function(a){return Vk(a).then(function(c){if(!Va(c,function(a){a=a.url;return!!a&&0==a.lastIndexOf("chrome://bookmarks",0)}))return dl({title:Wc,url:"chrome://bookmarks",parentId:a,index:0})},void 0,this)},void 0,this)};var Um=function(a){return rl().then(function(b){if(!b.id)return Pk().then(function(b){var d="crx.loggedout."+b;return Ak(a,function(a){return"stars.version"in a.Aa?F():cl(a.id,"stars.version",d)})})})};
Sm.prototype.h=function(a){this.c.add(function(){return Sk().then(function(b){var c=Vm(b);this.dispatchEvent(new ze("log",c.toString(),"number_of_nodes"));return sl().then(function(d){var e=!1;"had-full-extension"in d||(e=a.a&&c>a.a);e?(D(Y,"Folios only mode is on"),this.p.Hb=!0):tl();var f=tg();return Wm(this,b,f,e).then(function(){D(Y,"User data loaded");ug(f,this.p);this.dispatchEvent("all_loaded");return Um(b)},void 0,this)},void 0,this)},void 0,this)})};
var Wm=function(a,b,c,d){return ge(Ra(b,function(a){return Xm(this,a,c,d)},a))},Xm=function(a,b,c,d){var e=Ym(a,b,c,d);if(b.url)return a.Q[b.id]=e,d||e.then(function(a){this.Q[b.id]=F(a)},function(a){this.Q[b.id]=fe(a)},a),le(e,function(a){C(Y,"Node "+b.id+" not loaded, reason: "+a.toString())});a.N[b.id]=e;e.then(function(a){this.N[b.id]=F(a)},function(a){this.N[b.id]=fe(a)},a);var f=b.children;return e.then(function(){return le(Wm(this,f,c,d).then(function(){return Zm(this,f,c,d)},void 0,this),
function(a){C(Y,"Failed to reorder children of node "+b.id+": "+a.toString())})},function(a){C(Y,"Failed to load folder node "+b.id+": "+a.toString());return Wm(this,f,c,d)},a)},Vm=function(a){var b=0;zk(a,function(a){a.children&&(b+=a.children.length)});return b},an=function(a,b,c,d){if("0"==b.parentId&&2==b.index)return F();var e=[];if("0"!=b.id&&("0"!=b.parentId||1!=b.index)){D(Y,"Node "+b.id+": "+b.title);b.Aa={};var f=$m(a,b);d&&Xg(d,f,c);if(!Fh(a.p,f,c))return D(Y,"Cannot add folio "+f.getTitle()+
" to the user model"),fe("Failed to load folio");a.O[f.k()]=F(b.id);a.N[b.id]=F(f);e.push(al(b.id).then(function(a){0==a.lastIndexOf("ssf_",0)&&f.o.qa(a)},gb))}if(b=b.children){d=b.length;for(var g=0;g<d;g++)e.push(an(a,b[g],c,f))}return ge(e)},Zm=function(a,b,c,d){return Sa(b,function(a,b){return a.then(function(a){var e=Ig(a),l;if(b.url){if(d)return e;l=this.Q[b.id]}else l=this.N[b.id];return l.then(function(b){bn(b,a,c);return e},void 0,this)},void 0,this)},F(Gg),a)},en=function(a,b,c,d){return le(cn(a,
b.id).then(function(a){var b=Gh(this.p,dn(a));if(b){var b=ab(b.a),g=Oa(b,a);if(1!=b.length&&c!=g){c<g?(g=b[c-1],b=b[c]):(g=b[c],b=b[c+1]);var h=g,l=b,g=dn(a),q=a.L(g),b=h&&h.L(g),g=l&&l.L(g);if(h&&!b||l&&!g)throw"Sibling doesn't have a valid position to use.";if(b&&g)if(b<q&&q<g)b=q;else{if(b!==g)if(b>g)b="";else{h="";for(l=0;b[l]===g[l];)h+=b[l],++l;l===b.length?h+=Hg(g.substr(l)):(q=Cg[b[l]],g=Cg[g[l]],2<=g-q?h+=zg[Math.floor((q+g)/2)]:(h+=b[l],h+=Ig(b.substr(l+1))));b=h}}else b=g?q&&q<g?q:Hg(g):
b?b<q?q:Ig(b):q;bn(a,b,d)}}},void 0,a),function(){return Vk(b.parentId).then(function(a){return Zm(this,a,d)},void 0,this)},a)},cn=function(a,b){return a.Q[b]||a.N[b]||fe("Node promise is missing.")},dn=function(a){return a instanceof th?(a=a.ra(),v(a[0])):(a=a.S())?a.k():""},bn=function(a,b,c){var d=dn(a);if(d&&b!=a.L(d)&&!a.l(d,b,c))throw"Cannot set position of item "+a.k()+" to "+b;},Ym=function(a,b,c,d){if(d&&b.url)return D(Y,"Node "+b.id+": skipped: "+b.title),fe("skipped");D(Y,"Node "+b.id+
": "+b.title);return"0"==b.id?fe("Root node is ignored"):"0"==b.parentId&&1==b.index?fe("Other Bookmarks node is ignored"):"0"==b.parentId&&2==b.index?fe("Mobile Bookmarks node is ignored"):b.url?fn(a,b,c):gn(a,b,c)},fn=function(a,b,c){var d=hn(a,b);return jn(a,d,b,c).then(function(){if(!Hh(this.p,d,c))throw"Cannot add clip "+d.getTitle()+" to the user model";this.O[d.k()]=F(b.id);return d},void 0,a)},gn=function(a,b,c){var d=$m(a,b);return("0"==b.parentId?F(d):kn(a,d,b,c)).then(function(){if(!Fh(this.p,
d,c))throw"Cannot add folio "+d.getTitle()+" to the user model";this.O[d.k()]=F(b.id);return d},void 0,a)},jn=function(a,b,c,d){return(a.N[c.parentId]||fe()).then(function(a){Ug(a,b,d)},function(){vh(b,d)})},kn=function(a,b,c,d){return(a.N[c.parentId]||fe()).then(function(a){Xg(a,b,d)},function(){var a=Q(d);b.S()&&Yg(b.S(),b,a);R(b,a,d)})},hn=function(a,b){var c=b.Aa;og.R();var d=uh(pg[4]+b.id,a.p.k());L(d.o,7,b.dateAdded);d.o.Ra(b.dateAdded);L(d.o,21,"managed"==b.unmodifiable);c["stars.id"]&&d.qa(c["stars.id"]);
Bh(d,Number(c["stars.type"])||2);"stars.note"in c&&Ah(d,v(c["stars.note"]));var e=hm(c["stars.imageData"]);e&&(d.c=e,N(d.o,5,e.a),yg(d));(e=im(c["stars.pageData"]))||(e=new Xf);e.setTitle(b.title);Zf(e,b.url);d.a=e;N(d.o,6,e.a);if(e=jm(c["stars.entityData"]))d.g=e,N(d.o,9,e.a);if(c=km(c["stars.videoData"]))d.e=c,N(d.o,10,c.a);return d},$m=function(a,b){var c=b.Aa,d;og.R();d=pg[5]+b.id;d=Mg(a.p.k(),d,b.title);"0"==b.parentId?d.qa(Tm[b.index]):c["stars.id"]&&(0==c["stars.id"].lastIndexOf("ssf_",0)?
d.qa(c["stars.id"]):Qm(b.id,"stars.id","").execute());L(d.o,7,b.dateAdded);d.o.Ra(b.dateGroupModified);L(d.o,10,"0"==b.parentId||"managed"==b.unmodifiable);"stars.description"in c&&$g(d,v(c["stars.description"]));d.Qa("true"==c["stars.isPublic"]);return d};
Sm.prototype.A=function(a){if(0==a.a||2==a.a||4==a.a)a=ln(this,a.c),Pa(a,function(a){switch(a.type){case "clip_added":mn(this,a);break;case "clip_changed":switch(a.c){case 202:nn(this,a);break;case 206:on(this,a);break;case 203:qn(this,a);break;case 207:rn(this,a);break;case 208:sn(this,a);break;case 204:tn(this,a);break;case 209:un(this,a);break;case 301:vn(this,a);break;case 302:wn(this,a);break;case 304:xn(this,a);break;default:C(Y,"Unexpected clip change type: "+a.c)}break;case "clip_removed":yn(this,
a);break;case "folio_added":zn(this,a);break;case "folio_changed":switch(a.c){case 102:An(this,a);break;case 103:Bn(this,a);break;case 106:Cn(this,a);break;case 109:Dn(this,a);break;case 111:En(this,a);break;case 107:break;default:C(Y,"Unexpected folio change type: "+a.c)}break;case "folio_removed":Fn(this,a);break;default:B(Y,"Unexpected data event type: "+a.type)}},this)};
var ln=function(a,b){var c=[],d={};Pa(b,function(a){var b=a.aa();b&&(d[b]=Math.max(Gn(a),d[b]||0))},a);Pa(b,function(a){var b=a.aa(),g=Gn(a);0<g&&g<d[b]||c.push(a)},a);return c},Gn=function(a){switch(a.type){case "clip_added":case "clip_removed":case "folio_added":case "folio_removed":return 3}switch(a.c){case 301:case 302:case 109:return 2;case 304:case 111:return 1}return 0},Hn=function(a,b,c){a.c.add(function(){return this.O[b]?this.O[b].then(c,void 0,this):fe("Trying to perform action on non-existing node.")})},
mn=function(a,b){var c=b.a;a.c.add(function(){var a,b=c.ra();1==b.length?(b=b[0],b in this.O?a=this.O[b]:B(Y,"Clip "+c.k()+" has invalid parent: "+b)):1<b.length&&B(Y,"Clip "+c.k()+" is in "+b.length+" folios");a||(a=$k());var f;a=a.then(function(a){f=a;return cn(this,f)},void 0,this).then(function(a){return a},function(){return null},this).then(function(a){var b={"stars.id":c.oa(),"stars.type":xh(c).toString(),"stars.note":v(K(c.o,2)),"stars.flags":Of(c.o).toString()};if(rh(c)){var d=rh(c),d=fm(d.a,
Wl);b["stars.imageData"]=d}S(c)&&(d=S(c),d=Cf(d.a),L(d,1,void 0),L(d,3,void 0),b["stars.pageData"]=fm(d,Zl));wh(c)&&(d=wh(c),d=fm(d.a,Yl),b["stars.entityData"]=d);sh(c)&&(d=sh(c),d=fm(d.a,Xl),b["stars.videoData"]=d);var e;a&&(e=c.L(a.k()),e=In(e,a));a=c.getTitle();d=gg(c);return(new cm(a,f,e,d,b)).execute()},void 0,this).then(function(a){this.Q[a.id]=F(c);return a.id},void 0,this);this.O[c.k()]=a;a.then(function(a){this.O[c.k()]=F(a)},function(a){this.O[c.k()]=fe(a)},this);return a})},yn=function(a,
b){var c=b.a.k();Hn(a,c,function(a){return(new Nm(a)).execute().then(function(){delete this.O[c];delete this.Q[a];this.dispatchEvent("clipper_closed")},void 0,this)})},nn=function(a,b){Hn(a,b.a.k(),function(a){return Qm(a,"stars.note",b.newValue).execute()})},on=function(a,b){Hn(a,b.a.k(),function(a){return Qm(a,"stars.type",b.newValue).execute()})},qn=function(a,b){var c=lh(b.newValue);c?Hn(a,b.a.k(),function(a){var b=fm(c.a,Wl);return Qm(a,"stars.imageData",b).execute()}):B(Y,"Error parsing new image data")},
rn=function(a,b){var c=oh(b.newValue);c?Hn(a,b.a.k(),function(a){var b=fm(c.a,Xl);return Qm(a,"stars.videoData",b).execute()}):B(Y,"Error parsing new video data")},sn=function(a,b){var c=ch(b.newValue);c?Hn(a,b.a.k(),function(a){var b=fm(c.a,Yl);return Qm(a,"stars.entityData",b).execute()}):B(Y,"Error parsing new entity data")},tn=function(a,b){var c=$f(b.oldValue);if(c){var d=$f(b.newValue);d?Hn(a,b.a.k(),function(a){var b=c.a,g=d.a,h=g.getTitle(),l=K(g,3);if(h!=b.getTitle()||l!=K(b,3))return(new Rm(a,
h,l)).execute();L(b,1,void 0);L(b,3,void 0);L(g,1,void 0);L(g,3,void 0);b=fm(b,Zl);g=fm(g,Zl);return g!=b?Qm(a,"stars.pageData",g).execute():F()}):B(Y,"Error parsing new page data")}else B(Y,"Error parsing old page data")},vn=function(a,b){var c=b.a,d=dh(b.newValue),e=Qg(d),f=Gh(a.p,e),g;a.p.Hb||(g=In(d.L(),f));Hn(a,c.k(),function(a){return this.O[e].then(function(b){return(new Jm(a,b,g)).execute()},void 0,this)})},wn=function(a,b){dh(b.oldValue);Hn(a,b.a.k(),function(a){return $k().then(function(b){return(new Jm(a,
b,void 0)).execute()},void 0,this)})},Jn=function(a,b,c,d){return Uk(b).then(function(a){a=a[0];var f=In(c,d);if(f!=a.index)return f>a.index&&++f,(new Jm(b,void 0,f)).execute()},void 0,a)},In=function(a,b){var c=b.k(),d=ab(b.a);return""==a?d.length:Ta(d,function(b){return b.L(c)<a})},xn=function(a,b){if(b.newValue){var c=b.a;Hn(a,c.k(),function(a){if(1!=c.kb())throw"Clip "+c.k()+" is in "+c.kb()+" folios.";var e=c.ra()[0],e=Gh(this.p,e);return Jn(this,a,b.newValue,e)})}},un=function(a,b){Hn(a,b.a.k(),
function(a){return Qm(a,"stars.flags",b.newValue).execute()})},zn=function(a,b){var c=b.J;a.c.add(function(){var a,b=c.S();if(b){var f=b.k();f in this.O?a=this.O[f]:B(Y,"Folio "+c.k()+" has invalid parent: "+f)}a||(a=$k());a=a.then(function(a){var d={"stars.id":"","stars.description":v(K(c.o,3)),"stars.isPublic":(!!K(c.o,6)).toString()},l;b&&(l=In(c.L(f),b));var q=c.getTitle();return(new cm(q,a,l,void 0,d)).execute()},void 0,this).then(function(a){this.N[a.id]=F(c);return a.id},void 0,this);this.O[c.k()]=
a;a.then(function(a){this.O[c.k()]=F(a)},function(a){this.O[c.k()]=fe(a)},this);return a})},Fn=function(a,b){var c=b.J.k();Hn(a,c,function(a){return(new Om(a)).execute().then(function(){delete this.O[c];delete this.N[a]},void 0,this)})},An=function(a,b){Hn(a,b.J.k(),function(a){return(new Rm(a,b.newValue,void 0)).execute()})},Bn=function(a,b){Hn(a,b.J.k(),function(a){return Qm(a,"stars.description",b.newValue).execute()})},Cn=function(a,b){Hn(a,b.J.k(),function(a){return Qm(a,"stars.isPublic",b.newValue).execute()})},
Dn=function(a,b){Hn(a,b.J.k(),function(a){var d;(d=em(b.newValue))?(d=new If(d),d=v(d.k()),d=this.O[d]):d=$k();return d.then(function(b){return(new Jm(a,b,void 0)).execute()},void 0,this)})},En=function(a,b){if(b.newValue){var c=b.J,d=Gh(a.p,b.parentId);Hn(a,c.k(),function(a){return Jn(this,a,b.newValue,d)})}};
Sm.prototype.n=function(a,b){if(!((new cm(b.title,b.parentId,b.index,b.url,void 0)).a()in am)){var c=tg(),d=bl(a).then(function(a){b.Aa=a;return Ym(this,b,c)},void 0,this);b.url?(this.Q[a]=d,d.then(function(b){this.Q[a]=F(b)},function(b){this.Q[a]=fe(b)},this)):(this.N[a]=d,d.then(function(b){this.N[a]=F(b)},function(b){this.N[a]=fe(b)},this));d.then(function(){if(n(b.index))return ke(en(this,b,b.index,c),function(){ug(c,this.p)},this)},function(a){C(Y,a.toString())},this)}};
Sm.prototype.w=function(a){if(!((new Nm(a)).a()in am||(new Om(a)).a()in am)){var b=tg();a in this.Q?this.Q[a].then(function(c){delete this.O[c.k()];delete this.Q[a];this.p.Ba(c,b);ug(b,this.p)},void 0,this):a in this.N?this.N[a].then(function(c){delete this.O[c.k()];delete this.N[a];Nh(this.p,c,b);ug(b,this.p)},void 0,this):B(Y,"Removed node "+a+" has no corresponding clip or folio promise")}};
Sm.prototype.m=function(a,b){if(!((new Rm(a,b.title,b.url)).a()in am)){var c=tg();a in this.Q?this.Q[a].then(function(a){null!=b.title&&a.setTitle(b.title,c);null!=b.url&&yh(a,b.url,c);ug(c,this.p)},void 0,this):a in this.N?this.N[a].then(function(a){null!=b.title&&a.setTitle(b.title,c);ug(c,this.p)},void 0,this):B(Y,"Changed node "+a+" has no corresponding clip or folio promise")}};
Sm.prototype.G=function(a,b){var c;b.parentId!=b.hc?c=new Jm(a,b.parentId,void 0):b.index!=b.Lg&&(c=new Jm(a,void 0,b.index));c&&c.a()in am||(a in this.Q?Kn(this,a,b):a in this.N?Ln(this,a,b):B(Y,"Moved node "+a+" has no corresponding clip or folio promise"))};
var Kn=function(a,b,c){var d={id:b,parentId:c.parentId},e=tg();ke(a.Q[b].then(function(a){return c.parentId==c.hc?a:jn(this,a,d,e).then(fb(a))},void 0,a).then(function(a){if(0<a.kb()&&n(c.index))return en(this,d,c.index,e)},void 0,a),function(){ug(e,this.p)},a)},Ln=function(a,b,c){var d={id:b,parentId:c.parentId},e=tg();ke(a.N[b].then(function(a){return c.parentId==c.hc?a:kn(this,a,d,e).then(fb(a))},void 0,a).then(function(a){if(a.S()&&n(c.index))return en(this,d,c.index,e)},void 0,a),function(){ug(e,
this.p)},a)};
Sm.prototype.v=function(a,b){if(1==pb(b)){var c=v(qb(b));if(Qm(a,c,b[c]).a()in am)return}a in this.Q?this.Q[a].then(function(a){var c=tg(),f;for(f in b){var g=b[f];switch(f){case "stars.id":0==g.lastIndexOf("ssc_",0)&&a.qa(g);break;case "stars.type":Bh(a,La(g)||2,c);break;case "stars.note":Ah(a,g,c);break;case "stars.imageData":var h=hm(g);h?Ch(a,h,c):B(Y,"Error decoding image data");break;case "stars.pageData":(h=im(g))?(Zf(h,Yf(S(a))),h.setTitle(S(a).getTitle()),zh(a,h,c)):B(Y,"Error decoding page data");break;
case "stars.entityData":if(g=jm(g)){var h=a,l=g,g=c,q=Q(g),t=h.g&&h.g.B(),x=l.B();t!=x&&(h.g=l,N(h.o,9,l.a),yg(h),l=uf(h,208,t||"",x,q),O(q,l,h),R(h,q,g))}else B(Y,"Error decoding entity data");break;case "stars.videoData":(g=km(g))?(h=a,l=g,g=c,q=Q(g),t=h.e&&h.e.B(),x=l.B(),t!=x&&(h.e=l,N(h.o,10,l.a),yg(h),l=uf(h,207,t||"",x,q),O(q,l,h),R(h,q,g))):B(Y,"Error decoding video data");break;case "stars.flags":h=a;l=Number(g)||0;g=c;q=Q(g);t=Of(h.o);t!=l&&(L(h.o,11,l),yg(h),l=uf(h,209,""+t,""+l,q),O(q,
l,h),R(h,q,g));break;case "stars.version":case "stars.oldId":case "stars.touch":break;default:C(Y,"Unexpected meta info: "+f)}}ug(c,this.p)},void 0,this):a in this.N?this.N[a].then(function(c){var e=tg(),f;for(f in b){var g=b[f];switch(f){case "stars.id":0==g.lastIndexOf("ssf_",0)?c.qa(g):Qm(a,"stars.id","").execute();break;case "stars.description":$g(c,g,e);break;case "stars.isPublic":c.Qa("true"==g,e);break;case "stars.version":case "stars.oldId":break;default:C(Y,"Unexpected meta info: "+f)}}ug(e, this.p)},void 0,this):B(Y,"Node "+a+" with changed meta info has no corresponding clip or folio promise")};
var Nn=function(a){xf(this,a,-1,Mn)};u(Nn,J);var Mn=[1,2];var On=function(a){Im.call(this,"/suggest",1E3,3,"json");this.p=a;this.c=null};u(On,Im);var Pn=A("image.collections.extension.SuggestController");On.prototype.a=function(a){On.I.a.call(this,a);this.c=new E(function(b){ff(this.e,a,"folio-server-ids-loaded",b)},this);this.e.listen(a,"get_suggested_folios",this.g)};
On.prototype.g=function(a){var b=a.a;if(a=b.oa()){var c=yk(vk.R(),b);c?(L(c,2,a),ge([this.sendRequest(c.B()),this.c]).then(function(a){a=new Nn(a[0]);var c=K(a,2),f=[];K(a,1).forEach(function(a,b){if(!(.2>c[b])){var d=Gh(this.p,a);d?f.push(d.k()):B(Pn,"Cannot find folio with server id "+a)}},this);this.dispatchEvent(Eh(b,f))},void 0,this)):B(Pn,"Cannot create suggest request from clip "+b.k())}else B(Pn,"No server id for clip "+b.k())};
var Qn=function(){this.a=oa()},Rn=new Qn;Qn.prototype.set=function(a){this.a=a};Qn.prototype.get=function(){return this.a};var Sn=function(a){this.g=a||"";this.l=Rn};Sn.prototype.a=!0;Sn.prototype.c=!0;Sn.prototype.e=!1;var Tn=function(a){return 10>a?"0"+a:String(a)},Un=function(a,b){var c=(a.e-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},Vn=function(a){Sn.call(this,a)};u(Vn,Sn);
var Wn=function(){r(this.g,this);this.a=new Vn;this.a.c=!1;this.a.e=!1;this.c=this.a.a=!1;this.e="";this.l={}};
Wn.prototype.g=function(a){if(!this.l[a.c]){var b;b=this.a;var c=[];c.push(b.g," ");if(b.c){var d=new Date(a.e);c.push("[",Tn(d.getFullYear()-2E3)+Tn(d.getMonth()+1)+Tn(d.getDate())+" "+Tn(d.getHours())+":"+Tn(d.getMinutes())+":"+Tn(d.getSeconds())+"."+Tn(Math.floor(d.getMilliseconds()/10)),"] ")}c.push("[",Un(a,b.l.get()),"s] ");c.push("[",a.c,"] ");c.push(a.getMessage());b.e&&(d=a.a)&&c.push("\n",d instanceof Error?d.message:d.toString());b.a&&c.push("\n");b=c.join("");if(c=Xn)switch(a.g){case Ud:Yn(c, "info",b);break;case Vd:Yn(c,"error",b);break;case Wd:Yn(c,"warn",b);break;default:Yn(c,"debug",b)}else this.e+=b}};var Xn=m.console,Yn=function(a,b,c){if(a[b])a[b](c);else a.log(c)};
var Zn=function(){P.call(this);this.g=new cf(this);H(this,this.g);this.p=new Jh;H(this,this.p);this.e=new Sm(this.p);H(this,this.e);this.h=new gf;H(this,this.h);this.l=new On(this.p);H(this,this.l);this.c=new vl(this.p);H(this,this.c);this.a=new sk(this.p);H(this,this.a)};u(Zn,P);ca(Zn);var $n=new Wn;0!=$n.c&&(ce(),$n.c=!1);var ao=A("image.collections.extension.Popup");k=Zn.prototype;k.Lc=function(){window.close()};
k.Kd=function(){var a=window;this.dispatchEvent(new ze("log","","star"));this.dispatchEvent(new ze("log","","clipper_shown"));var b=Zh(a);pa.R().a&&b.setProperties(b.a.body,{dir:"rtl"});var c=b.F("link",{rel:"stylesheet",type:"text/css",href:"collections.css"});ff(ff(this.g,c,"load",this.zd),a,"unload",this.Ad);b.Wc(b.a.head,c)};
k.zd=function(a){a=Zh(a.target);var b=this.a;b.a&&(xe(b.a),b.a=null);b=this.a;b.a=new dk(b.p,a);b.a.T(b);H(b,b.a);Ni(b.a,void 0);ll({active:!0,currentWindow:!0}).then(this.fc,void 0,this)};k.Ad=function(){if(1==chrome.extension.getViews({type:"popup"}).length){var a=this.a;a.a&&(xe(a.a),a.a=null)}};
k.fc=function(a){var b=a[0],c=Rb(b.url)[1]||null,d=this.p.c.c[b.url]||null;if(d)for(var e=0;e<d.length;++e){var f=d[e];if(!f.m()){d=new ah("force_clipper_clip");d.c=f;this.dispatchEvent(d);Wa(["http","https"],c)&&this.c.postMessage({type:"get_salient_images"});return}}jl({url:b.url}).then(function(c){if(0==c.length)bo(this,b);else{var d=c[0],e=tg();bl(d.id).then(function(a){d.Aa=a;return fn(this.e,d,e)},void 0,this).then(function(){D(ao,"Node "+d.id+" loaded");ug(e,this.p);this.fc(a)},void 0,this)}},
void 0,this)};var bo=function(a,b){var c=Rb(b.url)[1]||null;a.dispatchEvent(new ze("log","","bookmark_added"));a.dispatchEvent(new ze("log","","clipper_bookmark_added"));var d=rg(),e=a.p.k(),f=uh(d,e);Bh(f,2);f.o.qa(f.k());var g=new Xf;Zf(g,b.url);g.setTitle(b.title||"Untitled");f.a=g;N(f.o,6,g.a);Hh(a.p,f);Wa(["http","https"],c)&&a.c.postMessage({type:"collect_page",clipId:d,userId:e})};
Zn.prototype.m=function(a){var b;a.value&&(a=Gh(this.p,a.value))&&(b=a.oa()||a.k());var c=b?"/profile/folio/"+b:"";ll({currentWindow:!0,url:"chrome://bookmarks/*"}).then(function(a){for(var b="chrome://bookmarks/#p=/me"+c,f=0;f<a.length;f++)if(a[f].url==b||""===c&&"chrome://bookmarks/"==a[f].url)return nl(a[f].id);return ol({url:b})},void 0,this)};var Z=Zn.R();D(ao,"Initializing popup");Z.p.T(Z);Z.e.a(Z);
(function(a){a.p.Hb=!0;Tk().then(function(a){var c=tg();0<a.length&&an(this,a[0],c,void 0).then(function(){this.dispatchEvent("folio-server-ids-loaded")},void 0,this);this.dispatchEvent("folios_loaded")},void 0,a)})(Z.e);Z.l.a(Z);var co=Z.h;co.a.listen(Z,"log",co.c);co.p=null;Z.c.a(Z);Z.a.Gb(Z);ff(Z.g,window,"load",Z.Kd).listen(Z,"clipper_closed",Z.Lc).listen(Z,"open_curation",Z.m);

}catch(e){_DumpException(e)}
// Google Inc.
