(function(){var e=function(){var k=[],e=function(a,b,c){a="string"===typeof a?[a]:a;var g=1,d=function(){return a.every(function(a){return!!h[a]})},e=function(){k.push(function(){d()?c():e()})},f=function(a){0==--g&&c&&(b||d()?c():e())};a.forEach(function(a){void 0===h[a]&&(h[a]=null,l.loadFile(a+".js",function(){f(a)}),g++)});f()},h={},d={},f={},l={init:function(){},verify:function(a){var b=[],c;for(c in d)d.hasOwnProperty(c)&&(3<d[c].length&&"###"===d[c].substr(0,3)?console.debug("self.verify: development version detected @ "+
c):d[c]!==a&&(console.warn("self.verify: expected version "+a+" and detected "+d[c]+" @ "+c),b.push({name:c,version:d[c],expected:a})));return b},register:function(a,b,c,g){if(!h[a]||g)for(d[a]=b,h[a]=c,a=k,k=[];a.length;)a.pop()()},registerRaw:function(a,b,c,g){if(!f[a]||g)d[a]=b,f[a]=c},vendor:function(a,b){return e(a,!0,b)},require:function(a,b){return e(a,!1,b)},getRaw:function(a){var b=null;if(void 0!==f[a])b=f[a];else{var c=chrome.extension.getURL(a);try{var d=new XMLHttpRequest;d.open("GET",
c,!1);d.send(null);(b=d.responseText)||console.log("WARN: content of "+a+" is null!")}catch(e){console.log("getRawContent "+e)}}return b},loadFile:function(a,b){try{var c=document.createElement("script");c.setAttribute("src",a);c.onload=function(){b&&b(a)};(document.head||document.body||document.documentElement||document).appendChild(c)}catch(d){console.log("Error: self.load "+a+" failed! "+d.message)}},prepare:function(a){var b=l.get("prepare");a&&(b=b.PREPARED_FOR_BACKGROUND());return b},isDevVersion:function(a){return d[a]&&
"###"===d[a].substr(0,3)},get:function(a){var b,c=h[a];"function"===typeof c?(b=Array.prototype.slice.call(arguments,1),b=c.apply(this,b)):c&&(b=c);return b}};return l}();window.setTimeout(e.init,1);window.Registry=e})();
